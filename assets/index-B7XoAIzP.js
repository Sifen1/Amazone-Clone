function JM(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function JE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jv={exports:{}},Qh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fI;function ZM(){if(fI)return Qh;fI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:u,ref:i!==void 0?i:null,props:o}}return Qh.Fragment=e,Qh.jsx=t,Qh.jsxs=t,Qh}var pI;function eV(){return pI||(pI=1,Jv.exports=ZM()),Jv.exports}var q=eV(),Zv={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mI;function tV(){if(mI)return Le;mI=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=_&&z[_]||z["@@iterator"],typeof z=="function"?z:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,I={};function O(z,ae,we){this.props=z,this.context=ae,this.refs=I,this.updater=we||b}O.prototype.isReactComponent={},O.prototype.setState=function(z,ae){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ae,"setState")},O.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function L(){}L.prototype=O.prototype;function V(z,ae,we){this.props=z,this.context=ae,this.refs=I,this.updater=we||b}var U=V.prototype=new L;U.constructor=V,T(U,O.prototype),U.isPureReactComponent=!0;var $=Array.isArray,j={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function M(z,ae,we,ve,ye,xe){return we=xe.ref,{$$typeof:n,type:z,key:ae,ref:we!==void 0?we:null,props:xe}}function C(z,ae){return M(z.type,ae,void 0,void 0,void 0,z.props)}function R(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function w(z){var ae={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(we){return ae[we]})}var P=/\/+/g;function x(z,ae){return typeof z=="object"&&z!==null&&z.key!=null?w(""+z.key):ae.toString(36)}function D(){}function te(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(D,D):(z.status="pending",z.then(function(ae){z.status==="pending"&&(z.status="fulfilled",z.value=ae)},function(ae){z.status==="pending"&&(z.status="rejected",z.reason=ae)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function F(z,ae,we,ve,ye){var xe=typeof z;(xe==="undefined"||xe==="boolean")&&(z=null);var De=!1;if(z===null)De=!0;else switch(xe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(z.$$typeof){case n:case e:De=!0;break;case g:return De=z._init,F(De(z._payload),ae,we,ve,ye)}}if(De)return ye=ye(z),De=ve===""?"."+x(z,0):ve,$(ye)?(we="",De!=null&&(we=De.replace(P,"$&/")+"/"),F(ye,ae,we,"",function(_t){return _t})):ye!=null&&(R(ye)&&(ye=C(ye,we+(ye.key==null||z&&z.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+De)),ae.push(ye)),1;De=0;var Ct=ve===""?".":ve+":";if($(z))for(var ze=0;ze<z.length;ze++)ve=z[ze],xe=Ct+x(ve,ze),De+=F(ve,ae,we,xe,ye);else if(ze=v(z),typeof ze=="function")for(z=ze.call(z),ze=0;!(ve=z.next()).done;)ve=ve.value,xe=Ct+x(ve,ze++),De+=F(ve,ae,we,xe,ye);else if(xe==="object"){if(typeof z.then=="function")return F(te(z),ae,we,ve,ye);throw ae=String(z),Error("Objects are not valid as a React child (found: "+(ae==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ae)+"). If you meant to render a collection of children, use an array instead.")}return De}function ee(z,ae,we){if(z==null)return z;var ve=[],ye=0;return F(z,ve,"","",function(xe){return ae.call(we,xe,ye++)}),ve}function ie(z){if(z._status===-1){var ae=z._result;ae=ae(),ae.then(function(we){(z._status===0||z._status===-1)&&(z._status=1,z._result=we)},function(we){(z._status===0||z._status===-1)&&(z._status=2,z._result=we)}),z._status===-1&&(z._status=0,z._result=ae)}if(z._status===1)return z._result.default;throw z._result}var ue=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ae=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ae))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)};function Te(){}return Le.Children={map:ee,forEach:function(z,ae,we){ee(z,function(){ae.apply(this,arguments)},we)},count:function(z){var ae=0;return ee(z,function(){ae++}),ae},toArray:function(z){return ee(z,function(ae){return ae})||[]},only:function(z){if(!R(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Le.Component=O,Le.Fragment=t,Le.Profiler=i,Le.PureComponent=V,Le.StrictMode=r,Le.Suspense=d,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,Le.act=function(){throw Error("act(...) is not supported in production builds of React.")},Le.cache=function(z){return function(){return z.apply(null,arguments)}},Le.cloneElement=function(z,ae,we){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ve=T({},z.props),ye=z.key,xe=void 0;if(ae!=null)for(De in ae.ref!==void 0&&(xe=void 0),ae.key!==void 0&&(ye=""+ae.key),ae)!H.call(ae,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&ae.ref===void 0||(ve[De]=ae[De]);var De=arguments.length-2;if(De===1)ve.children=we;else if(1<De){for(var Ct=Array(De),ze=0;ze<De;ze++)Ct[ze]=arguments[ze+2];ve.children=Ct}return M(z.type,ye,void 0,void 0,xe,ve)},Le.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Le.createElement=function(z,ae,we){var ve,ye={},xe=null;if(ae!=null)for(ve in ae.key!==void 0&&(xe=""+ae.key),ae)H.call(ae,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(ye[ve]=ae[ve]);var De=arguments.length-2;if(De===1)ye.children=we;else if(1<De){for(var Ct=Array(De),ze=0;ze<De;ze++)Ct[ze]=arguments[ze+2];ye.children=Ct}if(z&&z.defaultProps)for(ve in De=z.defaultProps,De)ye[ve]===void 0&&(ye[ve]=De[ve]);return M(z,xe,void 0,void 0,null,ye)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(z){return{$$typeof:h,render:z}},Le.isValidElement=R,Le.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ie}},Le.memo=function(z,ae){return{$$typeof:f,type:z,compare:ae===void 0?null:ae}},Le.startTransition=function(z){var ae=j.T,we={};j.T=we;try{var ve=z(),ye=j.S;ye!==null&&ye(we,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(Te,ue)}catch(xe){ue(xe)}finally{j.T=ae}},Le.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},Le.use=function(z){return j.H.use(z)},Le.useActionState=function(z,ae,we){return j.H.useActionState(z,ae,we)},Le.useCallback=function(z,ae){return j.H.useCallback(z,ae)},Le.useContext=function(z){return j.H.useContext(z)},Le.useDebugValue=function(){},Le.useDeferredValue=function(z,ae){return j.H.useDeferredValue(z,ae)},Le.useEffect=function(z,ae){return j.H.useEffect(z,ae)},Le.useId=function(){return j.H.useId()},Le.useImperativeHandle=function(z,ae,we){return j.H.useImperativeHandle(z,ae,we)},Le.useInsertionEffect=function(z,ae){return j.H.useInsertionEffect(z,ae)},Le.useLayoutEffect=function(z,ae){return j.H.useLayoutEffect(z,ae)},Le.useMemo=function(z,ae){return j.H.useMemo(z,ae)},Le.useOptimistic=function(z,ae){return j.H.useOptimistic(z,ae)},Le.useReducer=function(z,ae,we){return j.H.useReducer(z,ae,we)},Le.useRef=function(z){return j.H.useRef(z)},Le.useState=function(z){return j.H.useState(z)},Le.useSyncExternalStore=function(z,ae,we){return j.H.useSyncExternalStore(z,ae,we)},Le.useTransition=function(){return j.H.useTransition()},Le.version="19.0.0",Le}var gI;function uo(){return gI||(gI=1,Zv.exports=tV()),Zv.exports}var W=uo();const Ke=JE(W),j0=JM({__proto__:null,default:Ke},[W]);var e0={exports:{}},Yh={},t0={exports:{}},n0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yI;function nV(){return yI||(yI=1,function(n){function e(ee,ie){var ue=ee.length;ee.push(ie);e:for(;0<ue;){var Te=ue-1>>>1,z=ee[Te];if(0<i(z,ie))ee[Te]=ie,ee[ue]=z,ue=Te;else break e}}function t(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var ie=ee[0],ue=ee.pop();if(ue!==ie){ee[0]=ue;e:for(var Te=0,z=ee.length,ae=z>>>1;Te<ae;){var we=2*(Te+1)-1,ve=ee[we],ye=we+1,xe=ee[ye];if(0>i(ve,ue))ye<z&&0>i(xe,ve)?(ee[Te]=xe,ee[ye]=ue,Te=ye):(ee[Te]=ve,ee[we]=ue,Te=we);else if(ye<z&&0>i(xe,ue))ee[Te]=xe,ee[ye]=ue,Te=ye;else break e}}return ie}function i(ee,ie){var ue=ee.sortIndex-ie.sortIndex;return ue!==0?ue:ee.id-ie.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],f=[],g=1,_=null,v=3,b=!1,T=!1,I=!1,O=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function U(ee){for(var ie=t(f);ie!==null;){if(ie.callback===null)r(f);else if(ie.startTime<=ee)r(f),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=t(f)}}function $(ee){if(I=!1,U(ee),!T)if(t(d)!==null)T=!0,te();else{var ie=t(f);ie!==null&&F($,ie.startTime-ee)}}var j=!1,H=-1,M=5,C=-1;function R(){return!(n.unstable_now()-C<M)}function w(){if(j){var ee=n.unstable_now();C=ee;var ie=!0;try{e:{T=!1,I&&(I=!1,L(H),H=-1),b=!0;var ue=v;try{t:{for(U(ee),_=t(d);_!==null&&!(_.expirationTime>ee&&R());){var Te=_.callback;if(typeof Te=="function"){_.callback=null,v=_.priorityLevel;var z=Te(_.expirationTime<=ee);if(ee=n.unstable_now(),typeof z=="function"){_.callback=z,U(ee),ie=!0;break t}_===t(d)&&r(d),U(ee)}else r(d);_=t(d)}if(_!==null)ie=!0;else{var ae=t(f);ae!==null&&F($,ae.startTime-ee),ie=!1}}break e}finally{_=null,v=ue,b=!1}ie=void 0}}finally{ie?P():j=!1}}}var P;if(typeof V=="function")P=function(){V(w)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,D=x.port2;x.port1.onmessage=w,P=function(){D.postMessage(null)}}else P=function(){O(w,0)};function te(){j||(j=!0,P())}function F(ee,ie){H=O(function(){ee(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ee){ee.callback=null},n.unstable_continueExecution=function(){T||b||(T=!0,te())},n.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ee?Math.floor(1e3/ee):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(ee){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var ue=v;v=ie;try{return ee()}finally{v=ue}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ee,ie){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ue=v;v=ee;try{return ie()}finally{v=ue}},n.unstable_scheduleCallback=function(ee,ie,ue){var Te=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Te+ue:Te):ue=Te,ee){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ue+z,ee={id:g++,callback:ie,priorityLevel:ee,startTime:ue,expirationTime:z,sortIndex:-1},ue>Te?(ee.sortIndex=ue,e(f,ee),t(d)===null&&ee===t(f)&&(I?(L(H),H=-1):I=!0,F($,ue-Te))):(ee.sortIndex=z,e(d,ee),T||b||(T=!0,te())),ee},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(ee){var ie=v;return function(){var ue=v;v=ie;try{return ee.apply(this,arguments)}finally{v=ue}}}}(n0)),n0}var _I;function rV(){return _I||(_I=1,t0.exports=nV()),t0.exports}var r0={exports:{}},jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vI;function iV(){if(vI)return jn;vI=1;var n=uo();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,g){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:_==null?null:""+_,children:d,containerInfo:f,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,jn.createPortal=function(d,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,g)},jn.flushSync=function(d){var f=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=f,r.p=g,r.d.f()}},jn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},jn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},jn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,b=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:b}):g==="script"&&r.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:b,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},jn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=h(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},jn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,_=h(g,f.crossOrigin);r.d.L(d,g,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},jn.preloadModule=function(d,f){if(typeof d=="string")if(f){var g=h(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},jn.requestFormReset=function(d){r.d.r(d)},jn.unstable_batchedUpdates=function(d,f){return d(f)},jn.useFormState=function(d,f,g){return u.H.useFormState(d,f,g)},jn.useFormStatus=function(){return u.H.useHostTransitionStatus()},jn.version="19.0.0",jn}var EI;function sV(){if(EI)return r0.exports;EI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),r0.exports=iV(),r0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI;function aV(){if(wI)return Yh;wI=1;var n=rV(),e=uo(),t=sV();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),$=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=j&&s[j]||s["@@iterator"],typeof s=="function"?s:null)}var M=Symbol.for("react.client.reference");function C(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===M?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case d:return"Fragment";case h:return"Portal";case g:return"Profiler";case f:return"StrictMode";case I:return"Suspense";case O:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case b:return(s.displayName||"Context")+".Provider";case v:return(s._context.displayName||"Context")+".Consumer";case T:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return a=s.displayName||null,a!==null?a:C(s.type)||"Memo";case V:a=s._payload,s=s._init;try{return C(s(a))}catch{}}return null}var R=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,w=Object.assign,P,x;function D(s){if(P===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);P=a&&a[1]||"",x=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+s+x}var te=!1;function F(s,a){if(!s||te)return"";te=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(le){var Z=le}Reflect.construct(s,[],fe)}else{try{fe.call()}catch(le){Z=le}s.call(fe.prototype)}}else{try{throw Error()}catch(le){Z=le}(fe=s())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(le){if(le&&Z&&typeof le.stack=="string")return[le.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),A=y[0],k=y[1];if(A&&k){var B=A.split(`
`),K=k.split(`
`);for(m=c=0;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;for(;m<K.length&&!K[m].includes("DetermineComponentFrameRoot");)m++;if(c===B.length||m===K.length)for(c=B.length-1,m=K.length-1;1<=c&&0<=m&&B[c]!==K[m];)m--;for(;1<=c&&0<=m;c--,m--)if(B[c]!==K[m]){if(c!==1||m!==1)do if(c--,m--,0>m||B[c]!==K[m]){var ce=`
`+B[c].replace(" at new "," at ");return s.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",s.displayName)),ce}while(1<=c&&0<=m);break}}}finally{te=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?D(l):""}function ee(s){switch(s.tag){case 26:case 27:case 5:return D(s.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return s=F(s.type,!1),s;case 11:return s=F(s.type.render,!1),s;case 1:return s=F(s.type,!0),s;default:return""}}function ie(s){try{var a="";do a+=ee(s),s=s.return;while(s);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function ue(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function Te(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function z(s){if(ue(s)!==s)throw Error(r(188))}function ae(s){var a=s.alternate;if(!a){if(a=ue(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,c=a;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return z(m),s;if(y===c)return z(m),a;y=y.sibling}throw Error(r(188))}if(l.return!==c.return)l=m,c=y;else{for(var A=!1,k=m.child;k;){if(k===l){A=!0,l=m,c=y;break}if(k===c){A=!0,c=m,l=y;break}k=k.sibling}if(!A){for(k=y.child;k;){if(k===l){A=!0,l=y,c=m;break}if(k===c){A=!0,c=y,l=m;break}k=k.sibling}if(!A)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function we(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=we(s),a!==null)return a;s=s.sibling}return null}var ve=Array.isArray,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},De=[],Ct=-1;function ze(s){return{current:s}}function _t(s){0>Ct||(s.current=De[Ct],De[Ct]=null,Ct--)}function $e(s,a){Ct++,De[Ct]=s.current,s.current=a}var Et=ze(null),Je=ze(null),at=ze(null),Jt=ze(null);function mr(s,a){switch($e(at,a),$e(Je,s),$e(Et,null),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)&&(a=a.namespaceURI)?zA(a):0;break;default:if(s=s===8?a.parentNode:a,a=s.tagName,s=s.namespaceURI)s=zA(s),a=qA(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}_t(Et),$e(Et,a)}function Ln(){_t(Et),_t(Je),_t(at)}function Nr(s){s.memoizedState!==null&&$e(Jt,s);var a=Et.current,l=qA(a,s.type);a!==l&&($e(Je,s),$e(Et,l))}function Un(s){Je.current===s&&(_t(Et),_t(Je)),Jt.current===s&&(_t(Jt),Hh._currentValue=xe)}var sr=Object.prototype.hasOwnProperty,ii=n.unstable_scheduleCallback,Fl=n.unstable_cancelCallback,e_=n.unstable_shouldYield,$c=n.unstable_requestPaint,ar=n.unstable_now,Xf=n.unstable_getCurrentPriorityLevel,ln=n.unstable_ImmediatePriority,gn=n.unstable_UserBlockingPriority,rs=n.unstable_NormalPriority,Jf=n.unstable_LowPriority,Gc=n.unstable_IdlePriority,t_=n.log,vo=n.unstable_setDisableYieldValue,Js=null,Fn=null;function Kc(s){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Js,s,void 0,(s.current.flags&128)===128)}catch{}}function _i(s){if(typeof t_=="function"&&vo(s),Fn&&typeof Fn.setStrictMode=="function")try{Fn.setStrictMode(Js,s)}catch{}}var Wn=Math.clz32?Math.clz32:ep,Wc=Math.log,Zf=Math.LN2;function ep(s){return s>>>=0,s===0?32:31-(Wc(s)/Zf|0)|0}var vi=128,Zs=4194304;function si(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Mr(s,a){var l=s.pendingLanes;if(l===0)return 0;var c=0,m=s.suspendedLanes,y=s.pingedLanes,A=s.warmLanes;s=s.finishedLanes!==0;var k=l&134217727;return k!==0?(l=k&~m,l!==0?c=si(l):(y&=k,y!==0?c=si(y):s||(A=k&~A,A!==0&&(c=si(A))))):(k=l&~m,k!==0?c=si(k):y!==0?c=si(y):s||(A=l&~A,A!==0&&(c=si(A)))),c===0?0:a!==0&&a!==c&&!(a&m)&&(m=c&-c,A=a&-a,m>=A||m===32&&(A&4194176)!==0)?a:c}function ea(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Bl(s,a){switch(s){case 1:case 2:case 4:case 8:return a+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qc(){var s=vi;return vi<<=1,!(vi&4194176)&&(vi=128),s}function ta(){var s=Zs;return Zs<<=1,!(Zs&62914560)&&(Zs=4194304),s}function jl(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function Gt(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function tp(s,a,l,c,m,y){var A=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var k=s.entanglements,B=s.expirationTimes,K=s.hiddenUpdates;for(l=A&~l;0<l;){var ce=31-Wn(l),fe=1<<ce;k[ce]=0,B[ce]=-1;var Z=K[ce];if(Z!==null)for(K[ce]=null,ce=0;ce<Z.length;ce++){var le=Z[ce];le!==null&&(le.lane&=-536870913)}l&=~fe}c!==0&&na(s,c,0),y!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=y&~(A&~a))}function na(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-Wn(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|l&4194218}function ra(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var c=31-Wn(l),m=1<<c;m&a|s[c]&a&&(s[c]|=a),l&=~m}}function np(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function rp(){var s=ye.p;return s!==0?s:(s=window.event,s===void 0?32:oI(s.type))}function ia(s,a){var l=ye.p;try{return ye.p=s,a()}finally{ye.p=l}}var Ei=Math.random().toString(36).slice(2),yn="__reactFiber$"+Ei,un="__reactProps$"+Ei,is="__reactContainer$"+Ei,Eo="__reactEvents$"+Ei,zl="__reactListeners$"+Ei,wi="__reactHandles$"+Ei,Yc="__reactResources$"+Ei,sa="__reactMarker$"+Ei;function wo(s){delete s[yn],delete s[un],delete s[Eo],delete s[zl],delete s[wi]}function ai(s){var a=s[yn];if(a)return a;for(var l=s.parentNode;l;){if(a=l[is]||l[yn]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=GA(s);s!==null;){if(l=s[yn])return l;s=GA(s)}return a}s=l,l=s.parentNode}return null}function ss(s){if(s=s[yn]||s[is]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function aa(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function oa(s){var a=s[Yc];return a||(a=s[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Pt(s){s[sa]=!0}var Xc=new Set,ql={};function gr(s,a){or(s,a),or(s+"Capture",a)}function or(s,a){for(ql[s]=a,s=0;s<a.length;s++)Xc.add(a[s])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),n_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jc={},Zc={};function ip(s){return sr.call(Zc,s)?!0:sr.call(Jc,s)?!1:n_.test(s)?Zc[s]=!0:(Jc[s]=!0,!1)}function la(s,a,l){if(ip(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function ua(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Vr(s,a,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+c)}}function Qn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function sp(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function r_(s){var a=sp(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(s,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function bo(s){s._valueTracker||(s._valueTracker=r_(s))}function eh(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return s&&(c=sp(s)?s.checked?"true":"false":s.value),s=c,s!==l?(a.setValue(s),!0):!1}function Hl(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var as=/[\n"\\]/g;function Lt(s){return s.replace(as,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ca(s,a,l,c,m,y,A,k){s.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?s.type=A:s.removeAttribute("type"),a!=null?A==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Qn(a)):s.value!==""+Qn(a)&&(s.value=""+Qn(a)):A!=="submit"&&A!=="reset"||s.removeAttribute("value"),a!=null?$l(s,A,Qn(a)):l!=null?$l(s,A,Qn(l)):c!=null&&s.removeAttribute("value"),m==null&&y!=null&&(s.defaultChecked=!!y),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?s.name=""+Qn(k):s.removeAttribute("name")}function To(s,a,l,c,m,y,A,k){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null))return;l=l!=null?""+Qn(l):"",a=a!=null?""+Qn(a):l,k||a===s.value||(s.value=a),s.defaultValue=a}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=k?s.checked:!!c,s.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(s.name=A)}function $l(s,a,l){a==="number"&&Hl(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ze(s,a,l,c){if(s=s.options,a){a={};for(var m=0;m<l.length;m++)a["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=a.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&c&&(s[l].defaultSelected=!0)}else{for(l=""+Qn(l),a=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,c&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function So(s,a,l){if(a!=null&&(a=""+Qn(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Qn(l):""}function ha(s,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(ve(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Qn(a),s.defaultValue=l,c=s.textContent,c===l&&c!==""&&c!==null&&(s.value=c)}function Lr(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var i_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function th(s,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,l):typeof l!="number"||l===0||i_.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function ap(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var m in a)c=a[m],a.hasOwnProperty(m)&&l[m]!==c&&th(s,m,c)}else for(var y in a)a.hasOwnProperty(y)&&th(s,y,a[y])}function nh(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var s_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(s){return a_.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ur=null;function Gl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var os=null,ls=null;function us(s){var a=ss(s);if(a&&(s=a.stateNode)){var l=s[un]||null;e:switch(s=a.stateNode,a.type){case"input":if(ca(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lt(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==s&&c.form===s.form){var m=c[un]||null;if(!m)throw Error(r(90));ca(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===s.form&&eh(c)}break e;case"textarea":So(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ze(s,!!l.multiple,a,!1)}}}var rh=!1;function op(s,a,l){if(rh)return s(a,l);rh=!0;try{var c=s(a);return c}finally{if(rh=!1,(os!==null||ls!==null)&&(Jp(),os&&(a=os,s=ls,ls=os=null,us(a),s)))for(a=0;a<s.length;a++)us(s[a])}}function Ao(s,a){var l=s.stateNode;if(l===null)return null;var c=l[un]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Fr=!1;if(yr)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Fr=!1}var Ti=null,da=null,cs=null;function ih(){if(cs)return cs;var s,a=da,l=a.length,c,m="value"in Ti?Ti.value:Ti.textContent,y=m.length;for(s=0;s<l&&a[s]===m[s];s++);var A=l-s;for(c=1;c<=A&&a[l-c]===m[y-c];c++);return cs=m.slice(s,1<c?1-c:void 0)}function Si(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ai(){return!0}function sh(){return!1}function _n(s){function a(l,c,m,y,A){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var k in s)s.hasOwnProperty(k)&&(l=s[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ai:sh,this.isPropagationStopped=sh,this}return w(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ai)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ai)},persist:function(){},isPersistent:Ai}),a}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=_n(st),Ro=w({},st,{view:0,detail:0}),lp=_n(Ro),Wl,Ql,Ii,Co=w({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xo,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ii&&(Ii&&s.type==="mousemove"?(Wl=s.screenX-Ii.screenX,Ql=s.screenY-Ii.screenY):Ql=Wl=0,Ii=s),Wl)},movementY:function(s){return"movementY"in s?s.movementY:Ql}}),Br=_n(Co),up=w({},Co,{dataTransfer:0}),o_=_n(up),Po=w({},Ro,{relatedTarget:0}),Yl=_n(Po),ah=w({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),Xl=_n(ah),cp=w({},st,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Jl=_n(cp),l_=w({},st,{data:0}),oh=_n(l_),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=dp[s])?!!a[s]:!1}function xo(){return lh}var fp=w({},Ro,{key:function(s){if(s.key){var a=Oo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Si(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xo,charCode:function(s){return s.type==="keypress"?Si(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Si(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Zl=_n(fp),pp=w({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uh=_n(pp),hs=w({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xo}),mp=_n(hs),gp=w({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),yp=_n(gp),_p=w({},Co,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),eu=_n(_p),Yn=w({},st,{newState:0,oldState:0}),vp=_n(Yn),Ep=[9,13,27,32],Ri=yr&&"CompositionEvent"in window,p=null;yr&&"documentMode"in document&&(p=document.documentMode);var E=yr&&"TextEvent"in window&&!p,S=yr&&(!Ri||p&&8<p&&11>=p),N=" ",Y=!1;function re(s,a){switch(s){case"keyup":return Ep.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var We=!1;function cn(s,a){switch(s){case"compositionend":return ge(a);case"keypress":return a.which!==32?null:(Y=!0,N);case"textInput":return s=a.data,s===N&&Y?null:s;default:return null}}function Qe(s,a){if(We)return s==="compositionend"||!Ri&&re(s,a)?(s=ih(),cs=da=Ti=null,We=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return S&&a.locale!=="ko"?null:a.data;default:return null}}var vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hn(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!vn[s.type]:a==="textarea"}function ds(s,a,l,c){os?ls?ls.push(c):ls=[c]:os=c,a=rm(a,"onChange"),0<a.length&&(l=new Kl("onChange","change",null,l,c),s.push({event:l,listeners:a}))}var Rn=null,Ci=null;function ch(s){LA(s,0)}function wp(s){var a=aa(s);if(eh(a))return s}function dT(s,a){if(s==="change")return a}var fT=!1;if(yr){var u_;if(yr){var c_="oninput"in document;if(!c_){var pT=document.createElement("div");pT.setAttribute("oninput","return;"),c_=typeof pT.oninput=="function"}u_=c_}else u_=!1;fT=u_&&(!document.documentMode||9<document.documentMode)}function mT(){Rn&&(Rn.detachEvent("onpropertychange",gT),Ci=Rn=null)}function gT(s){if(s.propertyName==="value"&&wp(Ci)){var a=[];ds(a,Ci,s,Gl(s)),op(ch,a)}}function C2(s,a,l){s==="focusin"?(mT(),Rn=a,Ci=l,Rn.attachEvent("onpropertychange",gT)):s==="focusout"&&mT()}function P2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return wp(Ci)}function O2(s,a){if(s==="click")return wp(a)}function x2(s,a){if(s==="input"||s==="change")return wp(a)}function D2(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var _r=typeof Object.is=="function"?Object.is:D2;function hh(s,a){if(_r(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!sr.call(a,m)||!_r(s[m],a[m]))return!1}return!0}function yT(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function _T(s,a){var l=yT(s);s=0;for(var c;l;){if(l.nodeType===3){if(c=s+l.textContent.length,s<=a&&c>=a)return{node:l,offset:a-s};s=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=yT(l)}}function vT(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?vT(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function ET(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Hl(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Hl(s.document)}return a}function h_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function k2(s,a){var l=ET(a);a=s.focusedElem;var c=s.selectionRange;if(l!==a&&a&&a.ownerDocument&&vT(a.ownerDocument.documentElement,a)){if(c!==null&&h_(a)){if(s=c.start,l=c.end,l===void 0&&(l=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(l,a.value.length);else if(l=(s=a.ownerDocument||document)&&s.defaultView||window,l.getSelection){l=l.getSelection();var m=a.textContent.length,y=Math.min(c.start,m);c=c.end===void 0?y:Math.min(c.end,m),!l.extend&&y>c&&(m=c,c=y,y=m),m=_T(a,y);var A=_T(a,c);m&&A&&(l.rangeCount!==1||l.anchorNode!==m.node||l.anchorOffset!==m.offset||l.focusNode!==A.node||l.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),l.removeAllRanges(),y>c?(l.addRange(s),l.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),l.addRange(s)))}}for(s=[],l=a;l=l.parentNode;)l.nodeType===1&&s.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)l=s[a],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var N2=yr&&"documentMode"in document&&11>=document.documentMode,tu=null,d_=null,dh=null,f_=!1;function wT(s,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;f_||tu==null||tu!==Hl(c)||(c=tu,"selectionStart"in c&&h_(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),dh&&hh(dh,c)||(dh=c,c=rm(d_,"onSelect"),0<c.length&&(a=new Kl("onSelect","select",null,a,l),s.push({event:a,listeners:c}),a.target=tu)))}function Do(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var nu={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionrun:Do("Transition","TransitionRun"),transitionstart:Do("Transition","TransitionStart"),transitioncancel:Do("Transition","TransitionCancel"),transitionend:Do("Transition","TransitionEnd")},p_={},bT={};yr&&(bT=document.createElement("div").style,"AnimationEvent"in window||(delete nu.animationend.animation,delete nu.animationiteration.animation,delete nu.animationstart.animation),"TransitionEvent"in window||delete nu.transitionend.transition);function ko(s){if(p_[s])return p_[s];if(!nu[s])return s;var a=nu[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in bT)return p_[s]=a[l];return s}var TT=ko("animationend"),ST=ko("animationiteration"),AT=ko("animationstart"),M2=ko("transitionrun"),V2=ko("transitionstart"),L2=ko("transitioncancel"),IT=ko("transitionend"),RT=new Map,CT="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function oi(s,a){RT.set(s,a),gr(a,[s])}var jr=[],ru=0,m_=0;function bp(){for(var s=ru,a=m_=ru=0;a<s;){var l=jr[a];jr[a++]=null;var c=jr[a];jr[a++]=null;var m=jr[a];jr[a++]=null;var y=jr[a];if(jr[a++]=null,c!==null&&m!==null){var A=c.pending;A===null?m.next=m:(m.next=A.next,A.next=m),c.pending=m}y!==0&&PT(l,m,y)}}function Tp(s,a,l,c){jr[ru++]=s,jr[ru++]=a,jr[ru++]=l,jr[ru++]=c,m_|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function g_(s,a,l,c){return Tp(s,a,l,c),Sp(s)}function fa(s,a){return Tp(s,null,null,a),Sp(s)}function PT(s,a,l){s.lanes|=l;var c=s.alternate;c!==null&&(c.lanes|=l);for(var m=!1,y=s.return;y!==null;)y.childLanes|=l,c=y.alternate,c!==null&&(c.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(m=!0)),s=y,y=y.return;m&&a!==null&&s.tag===3&&(y=s.stateNode,m=31-Wn(l),y=y.hiddenUpdates,s=y[m],s===null?y[m]=[a]:s.push(a),a.lane=l|536870912)}function Sp(s){if(50<Lh)throw Lh=0,bv=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var iu={},OT=new WeakMap;function zr(s,a){if(typeof s=="object"&&s!==null){var l=OT.get(s);return l!==void 0?l:(a={value:s,source:a,stack:ie(a)},OT.set(s,a),a)}return{value:s,source:a,stack:ie(a)}}var su=[],au=0,Ap=null,Ip=0,qr=[],Hr=0,No=null,fs=1,ps="";function Mo(s,a){su[au++]=Ip,su[au++]=Ap,Ap=s,Ip=a}function xT(s,a,l){qr[Hr++]=fs,qr[Hr++]=ps,qr[Hr++]=No,No=s;var c=fs;s=ps;var m=32-Wn(c)-1;c&=~(1<<m),l+=1;var y=32-Wn(a)+m;if(30<y){var A=m-m%5;y=(c&(1<<A)-1).toString(32),c>>=A,m-=A,fs=1<<32-Wn(a)+m|l<<m|c,ps=y+s}else fs=1<<y|l<<m|c,ps=s}function y_(s){s.return!==null&&(Mo(s,1),xT(s,1,0))}function __(s){for(;s===Ap;)Ap=su[--au],su[au]=null,Ip=su[--au],su[au]=null;for(;s===No;)No=qr[--Hr],qr[Hr]=null,ps=qr[--Hr],qr[Hr]=null,fs=qr[--Hr],qr[Hr]=null}var Xn=null,Cn=null,et=!1,li=null,Pi=!1,v_=Error(r(519));function Vo(s){var a=Error(r(418,""));throw mh(zr(a,s)),v_}function DT(s){var a=s.stateNode,l=s.type,c=s.memoizedProps;switch(a[yn]=s,a[un]=c,l){case"dialog":Ge("cancel",a),Ge("close",a);break;case"iframe":case"object":case"embed":Ge("load",a);break;case"video":case"audio":for(l=0;l<Fh.length;l++)Ge(Fh[l],a);break;case"source":Ge("error",a);break;case"img":case"image":case"link":Ge("error",a),Ge("load",a);break;case"details":Ge("toggle",a);break;case"input":Ge("invalid",a),To(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),bo(a);break;case"select":Ge("invalid",a);break;case"textarea":Ge("invalid",a),ha(a,c.value,c.defaultValue,c.children),bo(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||jA(a.textContent,l)?(c.popover!=null&&(Ge("beforetoggle",a),Ge("toggle",a)),c.onScroll!=null&&Ge("scroll",a),c.onScrollEnd!=null&&Ge("scrollend",a),c.onClick!=null&&(a.onclick=im),a=!0):a=!1,a||Vo(s)}function kT(s){for(Xn=s.return;Xn;)switch(Xn.tag){case 3:case 27:Pi=!0;return;case 5:case 13:Pi=!1;return;default:Xn=Xn.return}}function fh(s){if(s!==Xn)return!1;if(!et)return kT(s),et=!0,!1;var a=!1,l;if((l=s.tag!==3&&s.tag!==27)&&((l=s.tag===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Fv(s.type,s.memoizedProps)),l=!l),l&&(a=!0),a&&Cn&&Vo(s),kT(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(l=s.data,l==="/$"){if(a===0){Cn=ci(s.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;s=s.nextSibling}Cn=null}}else Cn=Xn?ci(s.stateNode.nextSibling):null;return!0}function ph(){Cn=Xn=null,et=!1}function mh(s){li===null?li=[s]:li.push(s)}var gh=Error(r(460)),NT=Error(r(474)),E_={then:function(){}};function MT(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Rp(){}function VT(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Rp,Rp),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===gh?Error(r(483)):s;default:if(typeof a.status=="string")a.then(Rp,Rp);else{if(s=mt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=c}},function(c){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,s===gh?Error(r(483)):s}throw yh=a,gh}}var yh=null;function LT(){if(yh===null)throw Error(r(459));var s=yh;return yh=null,s}var ou=null,_h=0;function Cp(s){var a=_h;return _h+=1,ou===null&&(ou=[]),VT(ou,s,a)}function vh(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Pp(s,a){throw a.$$typeof===o?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function UT(s){var a=s._init;return a(s._payload)}function FT(s){function a(Q,G){if(s){var J=Q.deletions;J===null?(Q.deletions=[G],Q.flags|=16):J.push(G)}}function l(Q,G){if(!s)return null;for(;G!==null;)a(Q,G),G=G.sibling;return null}function c(Q){for(var G=new Map;Q!==null;)Q.key!==null?G.set(Q.key,Q):G.set(Q.index,Q),Q=Q.sibling;return G}function m(Q,G){return Q=Aa(Q,G),Q.index=0,Q.sibling=null,Q}function y(Q,G,J){return Q.index=J,s?(J=Q.alternate,J!==null?(J=J.index,J<G?(Q.flags|=33554434,G):J):(Q.flags|=33554434,G)):(Q.flags|=1048576,G)}function A(Q){return s&&Q.alternate===null&&(Q.flags|=33554434),Q}function k(Q,G,J,he){return G===null||G.tag!==6?(G=pv(J,Q.mode,he),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function B(Q,G,J,he){var Se=J.type;return Se===d?ce(Q,G,J.props.children,he,J.key):G!==null&&(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===V&&UT(Se)===G.type)?(G=m(G,J.props),vh(G,J),G.return=Q,G):(G=Kp(J.type,J.key,J.props,null,Q.mode,he),vh(G,J),G.return=Q,G)}function K(Q,G,J,he){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=mv(J,Q.mode,he),G.return=Q,G):(G=m(G,J.children||[]),G.return=Q,G)}function ce(Q,G,J,he,Se){return G===null||G.tag!==7?(G=Go(J,Q.mode,he,Se),G.return=Q,G):(G=m(G,J),G.return=Q,G)}function fe(Q,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=pv(""+G,Q.mode,J),G.return=Q,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return J=Kp(G.type,G.key,G.props,null,Q.mode,J),vh(J,G),J.return=Q,J;case h:return G=mv(G,Q.mode,J),G.return=Q,G;case V:var he=G._init;return G=he(G._payload),fe(Q,G,J)}if(ve(G)||H(G))return G=Go(G,Q.mode,J,null),G.return=Q,G;if(typeof G.then=="function")return fe(Q,Cp(G),J);if(G.$$typeof===b)return fe(Q,Hp(Q,G),J);Pp(Q,G)}return null}function Z(Q,G,J,he){var Se=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Se!==null?null:k(Q,G,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case u:return J.key===Se?B(Q,G,J,he):null;case h:return J.key===Se?K(Q,G,J,he):null;case V:return Se=J._init,J=Se(J._payload),Z(Q,G,J,he)}if(ve(J)||H(J))return Se!==null?null:ce(Q,G,J,he,null);if(typeof J.then=="function")return Z(Q,G,Cp(J),he);if(J.$$typeof===b)return Z(Q,G,Hp(Q,J),he);Pp(Q,J)}return null}function le(Q,G,J,he,Se){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Q=Q.get(J)||null,k(G,Q,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case u:return Q=Q.get(he.key===null?J:he.key)||null,B(G,Q,he,Se);case h:return Q=Q.get(he.key===null?J:he.key)||null,K(G,Q,he,Se);case V:var Fe=he._init;return he=Fe(he._payload),le(Q,G,J,he,Se)}if(ve(he)||H(he))return Q=Q.get(J)||null,ce(G,Q,he,Se,null);if(typeof he.then=="function")return le(Q,G,J,Cp(he),Se);if(he.$$typeof===b)return le(Q,G,J,Hp(G,he),Se);Pp(G,he)}return null}function Ie(Q,G,J,he){for(var Se=null,Fe=null,Pe=G,Oe=G=0,bn=null;Pe!==null&&Oe<J.length;Oe++){Pe.index>Oe?(bn=Pe,Pe=null):bn=Pe.sibling;var tt=Z(Q,Pe,J[Oe],he);if(tt===null){Pe===null&&(Pe=bn);break}s&&Pe&&tt.alternate===null&&a(Q,Pe),G=y(tt,G,Oe),Fe===null?Se=tt:Fe.sibling=tt,Fe=tt,Pe=bn}if(Oe===J.length)return l(Q,Pe),et&&Mo(Q,Oe),Se;if(Pe===null){for(;Oe<J.length;Oe++)Pe=fe(Q,J[Oe],he),Pe!==null&&(G=y(Pe,G,Oe),Fe===null?Se=Pe:Fe.sibling=Pe,Fe=Pe);return et&&Mo(Q,Oe),Se}for(Pe=c(Pe);Oe<J.length;Oe++)bn=le(Pe,Q,Oe,J[Oe],he),bn!==null&&(s&&bn.alternate!==null&&Pe.delete(bn.key===null?Oe:bn.key),G=y(bn,G,Oe),Fe===null?Se=bn:Fe.sibling=bn,Fe=bn);return s&&Pe.forEach(function(Da){return a(Q,Da)}),et&&Mo(Q,Oe),Se}function Ne(Q,G,J,he){if(J==null)throw Error(r(151));for(var Se=null,Fe=null,Pe=G,Oe=G=0,bn=null,tt=J.next();Pe!==null&&!tt.done;Oe++,tt=J.next()){Pe.index>Oe?(bn=Pe,Pe=null):bn=Pe.sibling;var Da=Z(Q,Pe,tt.value,he);if(Da===null){Pe===null&&(Pe=bn);break}s&&Pe&&Da.alternate===null&&a(Q,Pe),G=y(Da,G,Oe),Fe===null?Se=Da:Fe.sibling=Da,Fe=Da,Pe=bn}if(tt.done)return l(Q,Pe),et&&Mo(Q,Oe),Se;if(Pe===null){for(;!tt.done;Oe++,tt=J.next())tt=fe(Q,tt.value,he),tt!==null&&(G=y(tt,G,Oe),Fe===null?Se=tt:Fe.sibling=tt,Fe=tt);return et&&Mo(Q,Oe),Se}for(Pe=c(Pe);!tt.done;Oe++,tt=J.next())tt=le(Pe,Q,Oe,tt.value,he),tt!==null&&(s&&tt.alternate!==null&&Pe.delete(tt.key===null?Oe:tt.key),G=y(tt,G,Oe),Fe===null?Se=tt:Fe.sibling=tt,Fe=tt);return s&&Pe.forEach(function(XM){return a(Q,XM)}),et&&Mo(Q,Oe),Se}function Bt(Q,G,J,he){if(typeof J=="object"&&J!==null&&J.type===d&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case u:e:{for(var Se=J.key;G!==null;){if(G.key===Se){if(Se=J.type,Se===d){if(G.tag===7){l(Q,G.sibling),he=m(G,J.props.children),he.return=Q,Q=he;break e}}else if(G.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===V&&UT(Se)===G.type){l(Q,G.sibling),he=m(G,J.props),vh(he,J),he.return=Q,Q=he;break e}l(Q,G);break}else a(Q,G);G=G.sibling}J.type===d?(he=Go(J.props.children,Q.mode,he,J.key),he.return=Q,Q=he):(he=Kp(J.type,J.key,J.props,null,Q.mode,he),vh(he,J),he.return=Q,Q=he)}return A(Q);case h:e:{for(Se=J.key;G!==null;){if(G.key===Se)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){l(Q,G.sibling),he=m(G,J.children||[]),he.return=Q,Q=he;break e}else{l(Q,G);break}else a(Q,G);G=G.sibling}he=mv(J,Q.mode,he),he.return=Q,Q=he}return A(Q);case V:return Se=J._init,J=Se(J._payload),Bt(Q,G,J,he)}if(ve(J))return Ie(Q,G,J,he);if(H(J)){if(Se=H(J),typeof Se!="function")throw Error(r(150));return J=Se.call(J),Ne(Q,G,J,he)}if(typeof J.then=="function")return Bt(Q,G,Cp(J),he);if(J.$$typeof===b)return Bt(Q,G,Hp(Q,J),he);Pp(Q,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(l(Q,G.sibling),he=m(G,J),he.return=Q,Q=he):(l(Q,G),he=pv(J,Q.mode,he),he.return=Q,Q=he),A(Q)):l(Q,G)}return function(Q,G,J,he){try{_h=0;var Se=Bt(Q,G,J,he);return ou=null,Se}catch(Pe){if(Pe===gh)throw Pe;var Fe=Wr(29,Pe,null,Q.mode);return Fe.lanes=he,Fe.return=Q,Fe}finally{}}}var Lo=FT(!0),BT=FT(!1),lu=ze(null),Op=ze(0);function jT(s,a){s=As,$e(Op,s),$e(lu,a),As=s|a.baseLanes}function w_(){$e(Op,As),$e(lu,lu.current)}function b_(){As=Op.current,_t(lu),_t(Op)}var $r=ze(null),Oi=null;function pa(s){var a=s.alternate;$e(dn,dn.current&1),$e($r,s),Oi===null&&(a===null||lu.current!==null||a.memoizedState!==null)&&(Oi=s)}function zT(s){if(s.tag===22){if($e(dn,dn.current),$e($r,s),Oi===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Oi=s)}}else ma()}function ma(){$e(dn,dn.current),$e($r,$r.current)}function ms(s){_t($r),Oi===s&&(Oi=null),_t(dn)}var dn=ze(0);function xp(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var U2=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},F2=n.unstable_scheduleCallback,B2=n.unstable_NormalPriority,fn={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function T_(){return{controller:new U2,data:new Map,refCount:0}}function Eh(s){s.refCount--,s.refCount===0&&F2(B2,function(){s.controller.abort()})}var wh=null,S_=0,uu=0,cu=null;function j2(s,a){if(wh===null){var l=wh=[];S_=0,uu=Ov(),cu={status:"pending",value:void 0,then:function(c){l.push(c)}}}return S_++,a.then(qT,qT),a}function qT(){if(--S_===0&&wh!==null){cu!==null&&(cu.status="fulfilled");var s=wh;wh=null,uu=0,cu=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function z2(s,a){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var m=0;m<l.length;m++)(0,l[m])(a)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var HT=R.S;R.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&j2(s,a),HT!==null&&HT(s,a)};var Uo=ze(null);function A_(){var s=Uo.current;return s!==null?s:mt.pooledCache}function Dp(s,a){a===null?$e(Uo,Uo.current):$e(Uo,a.pool)}function $T(){var s=A_();return s===null?null:{parent:fn._currentValue,pool:s}}var ga=0,Ue=null,ut=null,Zt=null,kp=!1,hu=!1,Fo=!1,Np=0,bh=0,du=null,q2=0;function Kt(){throw Error(r(321))}function I_(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!_r(s[l],a[l]))return!1;return!0}function R_(s,a,l,c,m,y){return ga=y,Ue=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,R.H=s===null||s.memoizedState===null?Bo:ya,Fo=!1,y=l(c,m),Fo=!1,hu&&(y=KT(a,l,c,m)),GT(s),y}function GT(s){R.H=xi;var a=ut!==null&&ut.next!==null;if(ga=0,Zt=ut=Ue=null,kp=!1,bh=0,du=null,a)throw Error(r(300));s===null||En||(s=s.dependencies,s!==null&&qp(s)&&(En=!0))}function KT(s,a,l,c){Ue=s;var m=0;do{if(hu&&(du=null),bh=0,hu=!1,25<=m)throw Error(r(301));if(m+=1,Zt=ut=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}R.H=jo,y=a(l,c)}while(hu);return y}function H2(){var s=R.H,a=s.useState()[0];return a=typeof a.then=="function"?Th(a):a,s=s.useState()[0],(ut!==null?ut.memoizedState:null)!==s&&(Ue.flags|=1024),a}function C_(){var s=Np!==0;return Np=0,s}function P_(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function O_(s){if(kp){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}kp=!1}ga=0,Zt=ut=Ue=null,hu=!1,bh=Np=0,du=null}function lr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s,Zt}function en(){if(ut===null){var s=Ue.alternate;s=s!==null?s.memoizedState:null}else s=ut.next;var a=Zt===null?Ue.memoizedState:Zt.next;if(a!==null)Zt=a,ut=s;else{if(s===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));ut=s,s={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Zt===null?Ue.memoizedState=Zt=s:Zt=Zt.next=s}return Zt}var Mp;Mp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Th(s){var a=bh;return bh+=1,du===null&&(du=[]),s=VT(du,s,a),a=Ue,(Zt===null?a.memoizedState:Zt.next)===null&&(a=a.alternate,R.H=a===null||a.memoizedState===null?Bo:ya),s}function Vp(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Th(s);if(s.$$typeof===b)return Bn(s)}throw Error(r(438,String(s)))}function x_(s){var a=null,l=Ue.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Ue.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Mp(),Ue.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),c=0;c<s;c++)l[c]=$;return a.index++,l}function gs(s,a){return typeof a=="function"?a(s):a}function Lp(s){var a=en();return D_(a,ut,s)}function D_(s,a,l){var c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var m=s.baseQueue,y=c.pending;if(y!==null){if(m!==null){var A=m.next;m.next=y.next,y.next=A}a.baseQueue=m=y,c.pending=null}if(y=s.baseState,m===null)s.memoizedState=y;else{a=m.next;var k=A=null,B=null,K=a,ce=!1;do{var fe=K.lane&-536870913;if(fe!==K.lane?(Ye&fe)===fe:(ga&fe)===fe){var Z=K.revertLane;if(Z===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),fe===uu&&(ce=!0);else if((ga&Z)===Z){K=K.next,Z===uu&&(ce=!0);continue}else fe={lane:0,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(k=B=fe,A=y):B=B.next=fe,Ue.lanes|=Z,Ia|=Z;fe=K.action,Fo&&l(y,fe),y=K.hasEagerState?K.eagerState:l(y,fe)}else Z={lane:fe,revertLane:K.revertLane,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},B===null?(k=B=Z,A=y):B=B.next=Z,Ue.lanes|=fe,Ia|=fe;K=K.next}while(K!==null&&K!==a);if(B===null?A=y:B.next=k,!_r(y,s.memoizedState)&&(En=!0,ce&&(l=cu,l!==null)))throw l;s.memoizedState=y,s.baseState=A,s.baseQueue=B,c.lastRenderedState=y}return m===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function k_(s){var a=en(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=l.dispatch,m=l.pending,y=a.memoizedState;if(m!==null){l.pending=null;var A=m=m.next;do y=s(y,A.action),A=A.next;while(A!==m);_r(y,a.memoizedState)||(En=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,c]}function WT(s,a,l){var c=Ue,m=en(),y=et;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var A=!_r((ut||m).memoizedState,l);if(A&&(m.memoizedState=l,En=!0),m=m.queue,V_(XT.bind(null,c,m,s),[s]),m.getSnapshot!==a||A||Zt!==null&&Zt.memoizedState.tag&1){if(c.flags|=2048,fu(9,YT.bind(null,c,m,l,a),{destroy:void 0},null),mt===null)throw Error(r(349));y||ga&60||QT(c,a,l)}return l}function QT(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ue.updateQueue,a===null?(a=Mp(),Ue.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function YT(s,a,l,c){a.value=l,a.getSnapshot=c,JT(a)&&ZT(s)}function XT(s,a,l){return l(function(){JT(a)&&ZT(s)})}function JT(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!_r(s,l)}catch{return!0}}function ZT(s){var a=fa(s,2);a!==null&&Jn(a,s,2)}function N_(s){var a=lr();if(typeof s=="function"){var l=s;if(s=l(),Fo){_i(!0);try{l()}finally{_i(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:s},a}function eS(s,a,l,c){return s.baseState=l,D_(s,ut,typeof c=="function"?c:gs)}function $2(s,a,l,c,m){if(Bp(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){y.listeners.push(A)}};R.T!==null?l(!0):y.isTransition=!1,c(y),l=a.pending,l===null?(y.next=a.pending=y,tS(a,y)):(y.next=l.next,a.pending=l.next=y)}}function tS(s,a){var l=a.action,c=a.payload,m=s.state;if(a.isTransition){var y=R.T,A={};R.T=A;try{var k=l(m,c),B=R.S;B!==null&&B(A,k),nS(s,a,k)}catch(K){M_(s,a,K)}finally{R.T=y}}else try{y=l(m,c),nS(s,a,y)}catch(K){M_(s,a,K)}}function nS(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){rS(s,a,c)},function(c){return M_(s,a,c)}):rS(s,a,l)}function rS(s,a,l){a.status="fulfilled",a.value=l,iS(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,tS(s,l)))}function M_(s,a,l){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,iS(a),a=a.next;while(a!==c)}s.action=null}function iS(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function sS(s,a){return a}function aS(s,a){if(et){var l=mt.formState;if(l!==null){e:{var c=Ue;if(et){if(Cn){t:{for(var m=Cn,y=Pi;m.nodeType!==8;){if(!y){m=null;break t}if(m=ci(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Cn=ci(m.nextSibling),c=m.data==="F!";break e}}Vo(c)}c=!1}c&&(a=l[0])}}return l=lr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sS,lastRenderedState:a},l.queue=c,l=SS.bind(null,Ue,c),c.dispatch=l,c=N_(!1),y=j_.bind(null,Ue,!1,c.queue),c=lr(),m={state:a,dispatch:null,action:s,pending:null},c.queue=m,l=$2.bind(null,Ue,m,y,l),m.dispatch=l,c.memoizedState=s,[a,l,!1]}function oS(s){var a=en();return lS(a,ut,s)}function lS(s,a,l){a=D_(s,a,sS)[0],s=Lp(gs)[0],a=typeof a=="object"&&a!==null&&typeof a.then=="function"?Th(a):a;var c=en(),m=c.queue,y=m.dispatch;return l!==c.memoizedState&&(Ue.flags|=2048,fu(9,G2.bind(null,m,l),{destroy:void 0},null)),[a,y,s]}function G2(s,a){s.action=a}function uS(s){var a=en(),l=ut;if(l!==null)return lS(a,l,s);en(),a=a.memoizedState,l=en();var c=l.queue.dispatch;return l.memoizedState=s,[a,c,!1]}function fu(s,a,l,c){return s={tag:s,create:a,inst:l,deps:c,next:null},a=Ue.updateQueue,a===null&&(a=Mp(),Ue.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(c=l.next,l.next=s,s.next=c,a.lastEffect=s),s}function cS(){return en().memoizedState}function Up(s,a,l,c){var m=lr();Ue.flags|=s,m.memoizedState=fu(1|a,l,{destroy:void 0},c===void 0?null:c)}function Fp(s,a,l,c){var m=en();c=c===void 0?null:c;var y=m.memoizedState.inst;ut!==null&&c!==null&&I_(c,ut.memoizedState.deps)?m.memoizedState=fu(a,l,y,c):(Ue.flags|=s,m.memoizedState=fu(1|a,l,y,c))}function hS(s,a){Up(8390656,8,s,a)}function V_(s,a){Fp(2048,8,s,a)}function dS(s,a){return Fp(4,2,s,a)}function fS(s,a){return Fp(4,4,s,a)}function pS(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function mS(s,a,l){l=l!=null?l.concat([s]):null,Fp(4,4,pS.bind(null,a,s),l)}function L_(){}function gS(s,a){var l=en();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&I_(a,c[1])?c[0]:(l.memoizedState=[s,a],s)}function yS(s,a){var l=en();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&I_(a,c[1]))return c[0];if(c=s(),Fo){_i(!0);try{s()}finally{_i(!1)}}return l.memoizedState=[c,a],c}function U_(s,a,l){return l===void 0||ga&1073741824?s.memoizedState=a:(s.memoizedState=l,s=vA(),Ue.lanes|=s,Ia|=s,l)}function _S(s,a,l,c){return _r(l,a)?l:lu.current!==null?(s=U_(s,l,c),_r(s,a)||(En=!0),s):ga&42?(s=vA(),Ue.lanes|=s,Ia|=s,a):(En=!0,s.memoizedState=l)}function vS(s,a,l,c,m){var y=ye.p;ye.p=y!==0&&8>y?y:8;var A=R.T,k={};R.T=k,j_(s,!1,a,l);try{var B=m(),K=R.S;if(K!==null&&K(k,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ce=z2(B,c);Sh(s,a,ce,br(s))}else Sh(s,a,c,br(s))}catch(fe){Sh(s,a,{then:function(){},status:"rejected",reason:fe},br())}finally{ye.p=y,R.T=A}}function K2(){}function F_(s,a,l,c){if(s.tag!==5)throw Error(r(476));var m=ES(s).queue;vS(s,m,a,xe,l===null?K2:function(){return wS(s),l(c)})}function ES(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:xe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function wS(s){var a=ES(s).next.queue;Sh(s,a,{},br())}function B_(){return Bn(Hh)}function bS(){return en().memoizedState}function TS(){return en().memoizedState}function W2(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=br();s=Ea(l);var c=wa(a,s,l);c!==null&&(Jn(c,a,l),Rh(c,a,l)),a={cache:T_()},s.payload=a;return}a=a.return}}function Q2(s,a,l){var c=br();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Bp(s)?AS(a,l):(l=g_(s,a,l,c),l!==null&&(Jn(l,s,c),IS(l,a,c)))}function SS(s,a,l){var c=br();Sh(s,a,l,c)}function Sh(s,a,l,c){var m={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Bp(s))AS(a,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var A=a.lastRenderedState,k=y(A,l);if(m.hasEagerState=!0,m.eagerState=k,_r(k,A))return Tp(s,a,m,0),mt===null&&bp(),!1}catch{}finally{}if(l=g_(s,a,m,c),l!==null)return Jn(l,s,c),IS(l,a,c),!0}return!1}function j_(s,a,l,c){if(c={lane:2,revertLane:Ov(),action:c,hasEagerState:!1,eagerState:null,next:null},Bp(s)){if(a)throw Error(r(479))}else a=g_(s,l,c,2),a!==null&&Jn(a,s,2)}function Bp(s){var a=s.alternate;return s===Ue||a!==null&&a===Ue}function AS(s,a){hu=kp=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function IS(s,a,l){if(l&4194176){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ra(s,l)}}var xi={readContext:Bn,use:Vp,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt};xi.useCacheRefresh=Kt,xi.useMemoCache=Kt,xi.useHostTransitionStatus=Kt,xi.useFormState=Kt,xi.useActionState=Kt,xi.useOptimistic=Kt;var Bo={readContext:Bn,use:Vp,useCallback:function(s,a){return lr().memoizedState=[s,a===void 0?null:a],s},useContext:Bn,useEffect:hS,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Up(4194308,4,pS.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Up(4194308,4,s,a)},useInsertionEffect:function(s,a){Up(4,2,s,a)},useMemo:function(s,a){var l=lr();a=a===void 0?null:a;var c=s();if(Fo){_i(!0);try{s()}finally{_i(!1)}}return l.memoizedState=[c,a],c},useReducer:function(s,a,l){var c=lr();if(l!==void 0){var m=l(a);if(Fo){_i(!0);try{l(a)}finally{_i(!1)}}}else m=a;return c.memoizedState=c.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},c.queue=s,s=s.dispatch=Q2.bind(null,Ue,s),[c.memoizedState,s]},useRef:function(s){var a=lr();return s={current:s},a.memoizedState=s},useState:function(s){s=N_(s);var a=s.queue,l=SS.bind(null,Ue,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:L_,useDeferredValue:function(s,a){var l=lr();return U_(l,s,a)},useTransition:function(){var s=N_(!1);return s=vS.bind(null,Ue,s.queue,!0,!1),lr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var c=Ue,m=lr();if(et){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),mt===null)throw Error(r(349));Ye&60||QT(c,a,l)}m.memoizedState=l;var y={value:l,getSnapshot:a};return m.queue=y,hS(XT.bind(null,c,y,s),[s]),c.flags|=2048,fu(9,YT.bind(null,c,y,l,a),{destroy:void 0},null),l},useId:function(){var s=lr(),a=mt.identifierPrefix;if(et){var l=ps,c=fs;l=(c&~(1<<32-Wn(c)-1)).toString(32)+l,a=":"+a+"R"+l,l=Np++,0<l&&(a+="H"+l.toString(32)),a+=":"}else l=q2++,a=":"+a+"r"+l.toString(32)+":";return s.memoizedState=a},useCacheRefresh:function(){return lr().memoizedState=W2.bind(null,Ue)}};Bo.useMemoCache=x_,Bo.useHostTransitionStatus=B_,Bo.useFormState=aS,Bo.useActionState=aS,Bo.useOptimistic=function(s){var a=lr();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=j_.bind(null,Ue,!0,l),l.dispatch=a,[s,a]};var ya={readContext:Bn,use:Vp,useCallback:gS,useContext:Bn,useEffect:V_,useImperativeHandle:mS,useInsertionEffect:dS,useLayoutEffect:fS,useMemo:yS,useReducer:Lp,useRef:cS,useState:function(){return Lp(gs)},useDebugValue:L_,useDeferredValue:function(s,a){var l=en();return _S(l,ut.memoizedState,s,a)},useTransition:function(){var s=Lp(gs)[0],a=en().memoizedState;return[typeof s=="boolean"?s:Th(s),a]},useSyncExternalStore:WT,useId:bS};ya.useCacheRefresh=TS,ya.useMemoCache=x_,ya.useHostTransitionStatus=B_,ya.useFormState=oS,ya.useActionState=oS,ya.useOptimistic=function(s,a){var l=en();return eS(l,ut,s,a)};var jo={readContext:Bn,use:Vp,useCallback:gS,useContext:Bn,useEffect:V_,useImperativeHandle:mS,useInsertionEffect:dS,useLayoutEffect:fS,useMemo:yS,useReducer:k_,useRef:cS,useState:function(){return k_(gs)},useDebugValue:L_,useDeferredValue:function(s,a){var l=en();return ut===null?U_(l,s,a):_S(l,ut.memoizedState,s,a)},useTransition:function(){var s=k_(gs)[0],a=en().memoizedState;return[typeof s=="boolean"?s:Th(s),a]},useSyncExternalStore:WT,useId:bS};jo.useCacheRefresh=TS,jo.useMemoCache=x_,jo.useHostTransitionStatus=B_,jo.useFormState=uS,jo.useActionState=uS,jo.useOptimistic=function(s,a){var l=en();return ut!==null?eS(l,ut,s,a):(l.baseState=s,[s,l.queue.dispatch])};function z_(s,a,l,c){a=s.memoizedState,l=l(c,a),l=l==null?a:w({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var q_={isMounted:function(s){return(s=s._reactInternals)?ue(s)===s:!1},enqueueSetState:function(s,a,l){s=s._reactInternals;var c=br(),m=Ea(c);m.payload=a,l!=null&&(m.callback=l),a=wa(s,m,c),a!==null&&(Jn(a,s,c),Rh(a,s,c))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var c=br(),m=Ea(c);m.tag=1,m.payload=a,l!=null&&(m.callback=l),a=wa(s,m,c),a!==null&&(Jn(a,s,c),Rh(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=br(),c=Ea(l);c.tag=2,a!=null&&(c.callback=a),a=wa(s,c,l),a!==null&&(Jn(a,s,l),Rh(a,s,l))}};function RS(s,a,l,c,m,y,A){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,y,A):a.prototype&&a.prototype.isPureReactComponent?!hh(l,c)||!hh(m,y):!0}function CS(s,a,l,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==s&&q_.enqueueReplaceState(a,a.state,null)}function zo(s,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(s=s.defaultProps){l===a&&(l=w({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}var jp=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function PS(s){jp(s)}function OS(s){console.error(s)}function xS(s){jp(s)}function zp(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function DS(s,a,l){try{var c=s.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function H_(s,a,l){return l=Ea(l),l.tag=3,l.payload={element:null},l.callback=function(){zp(s,a)},l}function kS(s){return s=Ea(s),s.tag=3,s}function NS(s,a,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;s.payload=function(){return m(y)},s.callback=function(){DS(a,l,c)}}var A=l.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(s.callback=function(){DS(a,l,c),typeof m!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function Y2(s,a,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Ih(a,l,m,!0),l=$r.current,l!==null){switch(l.tag){case 13:return Oi===null?Av():l.alternate===null&&Ft===0&&(Ft=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===E_?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),Rv(s,c,m)),!1;case 22:return l.flags|=65536,c===E_?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),Rv(s,c,m)),!1}throw Error(r(435,l.tag))}return Rv(s,c,m),Av(),!1}if(et)return a=$r.current,a!==null?(!(a.flags&65536)&&(a.flags|=256),a.flags|=65536,a.lanes=m,c!==v_&&(s=Error(r(422),{cause:c}),mh(zr(s,l)))):(c!==v_&&(a=Error(r(423),{cause:c}),mh(zr(a,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,c=zr(c,l),m=H_(s.stateNode,c,m),sv(s,m),Ft!==4&&(Ft=2)),!1;var y=Error(r(520),{cause:c});if(y=zr(y,l),Mh===null?Mh=[y]:Mh.push(y),Ft!==4&&(Ft=2),a===null)return!0;c=zr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=H_(l.stateNode,c,s),sv(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ra===null||!Ra.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=kS(m),NS(m,s,l,c),sv(l,m),!1}l=l.return}while(l!==null);return!1}var MS=Error(r(461)),En=!1;function Pn(s,a,l,c){a.child=s===null?BT(a,null,l,c):Lo(a,s.child,l,c)}function VS(s,a,l,c,m){l=l.render;var y=a.ref;if("ref"in c){var A={};for(var k in c)k!=="ref"&&(A[k]=c[k])}else A=c;return Ho(a),c=R_(s,a,l,A,y,m),k=C_(),s!==null&&!En?(P_(s,a,m),ys(s,a,m)):(et&&k&&y_(a),a.flags|=1,Pn(s,a,c,m),a.child)}function LS(s,a,l,c,m){if(s===null){var y=l.type;return typeof y=="function"&&!fv(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,US(s,a,y,c,m)):(s=Kp(l.type,null,c,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Z_(s,m)){var A=y.memoizedProps;if(l=l.compare,l=l!==null?l:hh,l(A,c)&&s.ref===a.ref)return ys(s,a,m)}return a.flags|=1,s=Aa(y,c),s.ref=a.ref,s.return=a,a.child=s}function US(s,a,l,c,m){if(s!==null){var y=s.memoizedProps;if(hh(y,c)&&s.ref===a.ref)if(En=!1,a.pendingProps=c=y,Z_(s,m))s.flags&131072&&(En=!0);else return a.lanes=s.lanes,ys(s,a,m)}return $_(s,a,l,c,m)}function FS(s,a,l){var c=a.pendingProps,m=c.children,y=(a.stateNode._pendingVisibility&2)!==0,A=s!==null?s.memoizedState:null;if(Ah(s,a),c.mode==="hidden"||y){if(a.flags&128){if(c=A!==null?A.baseLanes|l:l,s!==null){for(m=a.child=s.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;a.childLanes=y&~c}else a.childLanes=0,a.child=null;return BS(s,a,c,l)}if(l&536870912)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Dp(a,A!==null?A.cachePool:null),A!==null?jT(a,A):w_(),zT(a);else return a.lanes=a.childLanes=536870912,BS(s,a,A!==null?A.baseLanes|l:l,l)}else A!==null?(Dp(a,A.cachePool),jT(a,A),ma(),a.memoizedState=null):(s!==null&&Dp(a,null),w_(),ma());return Pn(s,a,m,l),a.child}function BS(s,a,l,c){var m=A_();return m=m===null?null:{parent:fn._currentValue,pool:m},a.memoizedState={baseLanes:l,cachePool:m},s!==null&&Dp(a,null),w_(),zT(a),s!==null&&Ih(s,a,c,!0),null}function Ah(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=2097664);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=2097664)}}function $_(s,a,l,c,m){return Ho(a),l=R_(s,a,l,c,void 0,m),c=C_(),s!==null&&!En?(P_(s,a,m),ys(s,a,m)):(et&&c&&y_(a),a.flags|=1,Pn(s,a,l,m),a.child)}function jS(s,a,l,c,m,y){return Ho(a),a.updateQueue=null,l=KT(a,c,l,m),GT(s),c=C_(),s!==null&&!En?(P_(s,a,y),ys(s,a,y)):(et&&c&&y_(a),a.flags|=1,Pn(s,a,l,y),a.child)}function zS(s,a,l,c,m){if(Ho(a),a.stateNode===null){var y=iu,A=l.contextType;typeof A=="object"&&A!==null&&(y=Bn(A)),y=new l(c,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=q_,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=c,y.state=a.memoizedState,y.refs={},rv(a),A=l.contextType,y.context=typeof A=="object"&&A!==null?Bn(A):iu,y.state=a.memoizedState,A=l.getDerivedStateFromProps,typeof A=="function"&&(z_(a,l,A,c),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(A=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),A!==y.state&&q_.enqueueReplaceState(y,y.state,null),Ph(a,c,y,m),Ch(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){y=a.stateNode;var k=a.memoizedProps,B=zo(l,k);y.props=B;var K=y.context,ce=l.contextType;A=iu,typeof ce=="object"&&ce!==null&&(A=Bn(ce));var fe=l.getDerivedStateFromProps;ce=typeof fe=="function"||typeof y.getSnapshotBeforeUpdate=="function",k=a.pendingProps!==k,ce||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(k||K!==A)&&CS(a,y,c,A),va=!1;var Z=a.memoizedState;y.state=Z,Ph(a,c,y,m),Ch(),K=a.memoizedState,k||Z!==K||va?(typeof fe=="function"&&(z_(a,l,fe,c),K=a.memoizedState),(B=va||RS(a,l,B,c,Z,K,A))?(ce||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=K),y.props=c,y.state=K,y.context=A,c=B):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{y=a.stateNode,iv(s,a),A=a.memoizedProps,ce=zo(l,A),y.props=ce,fe=a.pendingProps,Z=y.context,K=l.contextType,B=iu,typeof K=="object"&&K!==null&&(B=Bn(K)),k=l.getDerivedStateFromProps,(K=typeof k=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(A!==fe||Z!==B)&&CS(a,y,c,B),va=!1,Z=a.memoizedState,y.state=Z,Ph(a,c,y,m),Ch();var le=a.memoizedState;A!==fe||Z!==le||va||s!==null&&s.dependencies!==null&&qp(s.dependencies)?(typeof k=="function"&&(z_(a,l,k,c),le=a.memoizedState),(ce=va||RS(a,l,ce,c,Z,le,B)||s!==null&&s.dependencies!==null&&qp(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,le,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,le,B)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=le),y.props=c,y.state=le,y.context=B,c=ce):(typeof y.componentDidUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||A===s.memoizedProps&&Z===s.memoizedState||(a.flags|=1024),c=!1)}return y=c,Ah(s,a),c=(a.flags&128)!==0,y||c?(y=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&c?(a.child=Lo(a,s.child,null,m),a.child=Lo(a,null,l,m)):Pn(s,a,l,m),a.memoizedState=y.state,s=a.child):s=ys(s,a,m),s}function qS(s,a,l,c){return ph(),a.flags|=256,Pn(s,a,l,c),a.child}var G_={dehydrated:null,treeContext:null,retryLane:0};function K_(s){return{baseLanes:s,cachePool:$T()}}function W_(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Qr),s}function HS(s,a,l){var c=a.pendingProps,m=!1,y=(a.flags&128)!==0,A;if((A=y)||(A=s!==null&&s.memoizedState===null?!1:(dn.current&2)!==0),A&&(m=!0,a.flags&=-129),A=(a.flags&32)!==0,a.flags&=-33,s===null){if(et){if(m?pa(a):ma(),et){var k=Cn,B;if(B=k){e:{for(B=k,k=Pi;B.nodeType!==8;){if(!k){k=null;break e}if(B=ci(B.nextSibling),B===null){k=null;break e}}k=B}k!==null?(a.memoizedState={dehydrated:k,treeContext:No!==null?{id:fs,overflow:ps}:null,retryLane:536870912},B=Wr(18,null,null,0),B.stateNode=k,B.return=a,a.child=B,Xn=a,Cn=null,B=!0):B=!1}B||Vo(a)}if(k=a.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return k.data==="$!"?a.lanes=16:a.lanes=536870912,null;ms(a)}return k=c.children,c=c.fallback,m?(ma(),m=a.mode,k=Y_({mode:"hidden",children:k},m),c=Go(c,m,l,null),k.return=a,c.return=a,k.sibling=c,a.child=k,m=a.child,m.memoizedState=K_(l),m.childLanes=W_(s,A,l),a.memoizedState=G_,c):(pa(a),Q_(a,k))}if(B=s.memoizedState,B!==null&&(k=B.dehydrated,k!==null)){if(y)a.flags&256?(pa(a),a.flags&=-257,a=X_(s,a,l)):a.memoizedState!==null?(ma(),a.child=s.child,a.flags|=128,a=null):(ma(),m=c.fallback,k=a.mode,c=Y_({mode:"visible",children:c.children},k),m=Go(m,k,l,null),m.flags|=2,c.return=a,m.return=a,c.sibling=m,a.child=c,Lo(a,s.child,null,l),c=a.child,c.memoizedState=K_(l),c.childLanes=W_(s,A,l),a.memoizedState=G_,a=m);else if(pa(a),k.data==="$!"){if(A=k.nextSibling&&k.nextSibling.dataset,A)var K=A.dgst;A=K,c=Error(r(419)),c.stack="",c.digest=A,mh({value:c,source:null,stack:null}),a=X_(s,a,l)}else if(En||Ih(s,a,l,!1),A=(l&s.childLanes)!==0,En||A){if(A=mt,A!==null){if(c=l&-l,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(A.suspendedLanes|l)?0:c,c!==0&&c!==B.retryLane)throw B.retryLane=c,fa(s,c),Jn(A,s,c),MS}k.data==="$?"||Av(),a=X_(s,a,l)}else k.data==="$?"?(a.flags|=128,a.child=s.child,a=hM.bind(null,s),k._reactRetry=a,a=null):(s=B.treeContext,Cn=ci(k.nextSibling),Xn=a,et=!0,li=null,Pi=!1,s!==null&&(qr[Hr++]=fs,qr[Hr++]=ps,qr[Hr++]=No,fs=s.id,ps=s.overflow,No=a),a=Q_(a,c.children),a.flags|=4096);return a}return m?(ma(),m=c.fallback,k=a.mode,B=s.child,K=B.sibling,c=Aa(B,{mode:"hidden",children:c.children}),c.subtreeFlags=B.subtreeFlags&31457280,K!==null?m=Aa(K,m):(m=Go(m,k,l,null),m.flags|=2),m.return=a,c.return=a,c.sibling=m,a.child=c,c=m,m=a.child,k=s.child.memoizedState,k===null?k=K_(l):(B=k.cachePool,B!==null?(K=fn._currentValue,B=B.parent!==K?{parent:K,pool:K}:B):B=$T(),k={baseLanes:k.baseLanes|l,cachePool:B}),m.memoizedState=k,m.childLanes=W_(s,A,l),a.memoizedState=G_,c):(pa(a),l=s.child,s=l.sibling,l=Aa(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,s!==null&&(A=a.deletions,A===null?(a.deletions=[s],a.flags|=16):A.push(s)),a.child=l,a.memoizedState=null,l)}function Q_(s,a){return a=Y_({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Y_(s,a){return gA(s,a,0,null)}function X_(s,a,l){return Lo(a,s.child,null,l),s=Q_(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function $S(s,a,l){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),tv(s.return,a,l)}function J_(s,a,l,c,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=l,y.tailMode=m)}function GS(s,a,l){var c=a.pendingProps,m=c.revealOrder,y=c.tail;if(Pn(s,a,c.children,l),c=dn.current,c&2)c=c&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$S(s,l,a);else if(s.tag===19)$S(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch($e(dn,c),m){case"forwards":for(l=a.child,m=null;l!==null;)s=l.alternate,s!==null&&xp(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=a.child,a.child=null):(m=l.sibling,l.sibling=null),J_(a,!1,m,l,y);break;case"backwards":for(l=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&xp(s)===null){a.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}J_(a,!0,l,null,y);break;case"together":J_(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ys(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Ia|=a.lanes,!(l&a.childLanes))if(s!==null){if(Ih(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=Aa(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Aa(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function Z_(s,a){return s.lanes&a?!0:(s=s.dependencies,!!(s!==null&&qp(s)))}function X2(s,a,l){switch(a.tag){case 3:mr(a,a.stateNode.containerInfo),_a(a,fn,s.memoizedState.cache),ph();break;case 27:case 5:Nr(a);break;case 4:mr(a,a.stateNode.containerInfo);break;case 10:_a(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(pa(a),a.flags|=128,null):l&a.child.childLanes?HS(s,a,l):(pa(a),s=ys(s,a,l),s!==null?s.sibling:null);pa(a);break;case 19:var m=(s.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Ih(s,a,l,!1),c=(l&a.childLanes)!==0),m){if(c)return GS(s,a,l);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),$e(dn,dn.current),c)break;return null;case 22:case 23:return a.lanes=0,FS(s,a,l);case 24:_a(a,fn,s.memoizedState.cache)}return ys(s,a,l)}function KS(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)En=!0;else{if(!Z_(s,l)&&!(a.flags&128))return En=!1,X2(s,a,l);En=!!(s.flags&131072)}else En=!1,et&&a.flags&1048576&&xT(a,Ip,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,m=c._init;if(c=m(c._payload),a.type=c,typeof c=="function")fv(c)?(s=zo(c,s),a.tag=1,a=zS(null,a,c,s,l)):(a.tag=0,a=$_(null,a,c,s,l));else{if(c!=null){if(m=c.$$typeof,m===T){a.tag=11,a=VS(null,a,c,s,l);break e}else if(m===L){a.tag=14,a=LS(null,a,c,s,l);break e}}throw a=C(c)||c,Error(r(306,a,""))}}return a;case 0:return $_(s,a,a.type,a.pendingProps,l);case 1:return c=a.type,m=zo(c,a.pendingProps),zS(s,a,c,m,l);case 3:e:{if(mr(a,a.stateNode.containerInfo),s===null)throw Error(r(387));var y=a.pendingProps;m=a.memoizedState,c=m.element,iv(s,a),Ph(a,y,null,l);var A=a.memoizedState;if(y=A.cache,_a(a,fn,y),y!==m.cache&&nv(a,[fn],l,!0),Ch(),y=A.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:A.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=qS(s,a,y,l);break e}else if(y!==c){c=zr(Error(r(424)),a),mh(c),a=qS(s,a,y,l);break e}else for(Cn=ci(a.stateNode.containerInfo.firstChild),Xn=a,et=!0,li=null,Pi=!0,l=BT(a,null,y,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ph(),y===c){a=ys(s,a,l);break e}Pn(s,a,y,l)}a=a.child}return a;case 26:return Ah(s,a),s===null?(l=YA(a.type,null,a.pendingProps,null))?a.memoizedState=l:et||(l=a.type,s=a.pendingProps,c=sm(at.current).createElement(l),c[yn]=a,c[un]=s,On(c,l,s),Pt(c),a.stateNode=c):a.memoizedState=YA(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Nr(a),s===null&&et&&(c=a.stateNode=KA(a.type,a.pendingProps,at.current),Xn=a,Pi=!0,Cn=ci(c.firstChild)),c=a.pendingProps.children,s!==null||et?Pn(s,a,c,l):a.child=Lo(a,null,c,l),Ah(s,a),a.child;case 5:return s===null&&et&&((m=c=Cn)&&(c=RM(c,a.type,a.pendingProps,Pi),c!==null?(a.stateNode=c,Xn=a,Cn=ci(c.firstChild),Pi=!1,m=!0):m=!1),m||Vo(a)),Nr(a),m=a.type,y=a.pendingProps,A=s!==null?s.memoizedProps:null,c=y.children,Fv(m,y)?c=null:A!==null&&Fv(m,A)&&(a.flags|=32),a.memoizedState!==null&&(m=R_(s,a,H2,null,null,l),Hh._currentValue=m),Ah(s,a),Pn(s,a,c,l),a.child;case 6:return s===null&&et&&((s=l=Cn)&&(l=CM(l,a.pendingProps,Pi),l!==null?(a.stateNode=l,Xn=a,Cn=null,s=!0):s=!1),s||Vo(a)),null;case 13:return HS(s,a,l);case 4:return mr(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=Lo(a,null,c,l):Pn(s,a,c,l),a.child;case 11:return VS(s,a,a.type,a.pendingProps,l);case 7:return Pn(s,a,a.pendingProps,l),a.child;case 8:return Pn(s,a,a.pendingProps.children,l),a.child;case 12:return Pn(s,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,_a(a,a.type,c.value),Pn(s,a,c.children,l),a.child;case 9:return m=a.type._context,c=a.pendingProps.children,Ho(a),m=Bn(m),c=c(m),a.flags|=1,Pn(s,a,c,l),a.child;case 14:return LS(s,a,a.type,a.pendingProps,l);case 15:return US(s,a,a.type,a.pendingProps,l);case 19:return GS(s,a,l);case 22:return FS(s,a,l);case 24:return Ho(a),c=Bn(fn),s===null?(m=A_(),m===null&&(m=mt,y=T_(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),a.memoizedState={parent:c,cache:m},rv(a),_a(a,fn,m)):(s.lanes&l&&(iv(s,a),Ph(a,null,null,l),Ch()),m=s.memoizedState,y=a.memoizedState,m.parent!==c?(m={parent:c,cache:c},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),_a(a,fn,c)):(c=y.cache,_a(a,fn,c),c!==m.cache&&nv(a,[fn],l,!0))),Pn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}var ev=ze(null),qo=null,_s=null;function _a(s,a,l){$e(ev,a._currentValue),a._currentValue=l}function vs(s){s._currentValue=ev.current,_t(ev)}function tv(s,a,l){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===l)break;s=s.return}}function nv(s,a,l,c){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var y=m.dependencies;if(y!==null){var A=m.child;y=y.firstContext;e:for(;y!==null;){var k=y;y=m;for(var B=0;B<a.length;B++)if(k.context===a[B]){y.lanes|=l,k=y.alternate,k!==null&&(k.lanes|=l),tv(y.return,l,s),c||(A=null);break e}y=k.next}}else if(m.tag===18){if(A=m.return,A===null)throw Error(r(341));A.lanes|=l,y=A.alternate,y!==null&&(y.lanes|=l),tv(A,l,s),A=null}else A=m.child;if(A!==null)A.return=m;else for(A=m;A!==null;){if(A===s){A=null;break}if(m=A.sibling,m!==null){m.return=A.return,A=m;break}A=A.return}m=A}}function Ih(s,a,l,c){s=null;for(var m=a,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var A=m.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var k=m.type;_r(m.pendingProps.value,A.value)||(s!==null?s.push(k):s=[k])}}else if(m===Jt.current){if(A=m.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Hh):s=[Hh])}m=m.return}s!==null&&nv(a,s,l,c),a.flags|=262144}function qp(s){for(s=s.firstContext;s!==null;){if(!_r(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ho(s){qo=s,_s=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Bn(s){return WS(qo,s)}function Hp(s,a){return qo===null&&Ho(s),WS(s,a)}function WS(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},_s===null){if(s===null)throw Error(r(308));_s=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else _s=_s.next=a;return l}var va=!1;function rv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ea(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function wa(s,a,l){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,xt&2){var m=c.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),c.pending=a,a=Sp(s),PT(s,null,l),a}return Tp(s,c,a,l),Sp(s)}function Rh(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194176)!==0)){var c=a.lanes;c&=s.pendingLanes,l|=c,a.lanes=l,ra(s,l)}}function sv(s,a){var l=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var A={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=A:y=y.next=A,l=l.next}while(l!==null);y===null?m=y=a:y=y.next=a}else m=y=a;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var av=!1;function Ch(){if(av){var s=cu;if(s!==null)throw s}}function Ph(s,a,l,c){av=!1;var m=s.updateQueue;va=!1;var y=m.firstBaseUpdate,A=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var B=k,K=B.next;B.next=null,A===null?y=K:A.next=K,A=B;var ce=s.alternate;ce!==null&&(ce=ce.updateQueue,k=ce.lastBaseUpdate,k!==A&&(k===null?ce.firstBaseUpdate=K:k.next=K,ce.lastBaseUpdate=B))}if(y!==null){var fe=m.baseState;A=0,ce=K=B=null,k=y;do{var Z=k.lane&-536870913,le=Z!==k.lane;if(le?(Ye&Z)===Z:(c&Z)===Z){Z!==0&&Z===uu&&(av=!0),ce!==null&&(ce=ce.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ie=s,Ne=k;Z=a;var Bt=l;switch(Ne.tag){case 1:if(Ie=Ne.payload,typeof Ie=="function"){fe=Ie.call(Bt,fe,Z);break e}fe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ne.payload,Z=typeof Ie=="function"?Ie.call(Bt,fe,Z):Ie,Z==null)break e;fe=w({},fe,Z);break e;case 2:va=!0}}Z=k.callback,Z!==null&&(s.flags|=64,le&&(s.flags|=8192),le=m.callbacks,le===null?m.callbacks=[Z]:le.push(Z))}else le={lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ce===null?(K=ce=le,B=fe):ce=ce.next=le,A|=Z;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;le=k,k=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);ce===null&&(B=fe),m.baseState=B,m.firstBaseUpdate=K,m.lastBaseUpdate=ce,y===null&&(m.shared.lanes=0),Ia|=A,s.lanes=A,s.memoizedState=fe}}function QS(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function YS(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)QS(l[s],a)}function Oh(s,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&s)===s){c=void 0;var y=l.create,A=l.inst;c=y(),A.destroy=c}l=l.next}while(l!==m)}}catch(k){dt(a,a.return,k)}}function ba(s,a,l){try{var c=a.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&s)===s){var A=c.inst,k=A.destroy;if(k!==void 0){A.destroy=void 0,m=a;var B=l;try{k()}catch(K){dt(m,B,K)}}}c=c.next}while(c!==y)}}catch(K){dt(a,a.return,K)}}function XS(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{YS(a,l)}catch(c){dt(s,s.return,c)}}}function JS(s,a,l){l.props=zo(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(c){dt(s,a,c)}}function $o(s,a){try{var l=s.ref;if(l!==null){var c=s.stateNode;switch(s.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof l=="function"?s.refCleanup=l(m):l.current=m}}catch(y){dt(s,a,y)}}function vr(s,a){var l=s.ref,c=s.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){dt(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){dt(s,a,m)}else l.current=null}function ZS(s){var a=s.type,l=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){dt(s,s.return,m)}}function eA(s,a,l){try{var c=s.stateNode;bM(c,s.type,l,a),c[un]=a}catch(m){dt(s,s.return,m)}}function tA(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27||s.tag===4}function ov(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||tA(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==27&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function lv(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.nodeType===8?l.parentNode.insertBefore(s,a):l.insertBefore(s,a):(l.nodeType===8?(a=l.parentNode,a.insertBefore(s,l)):(a=l,a.appendChild(s)),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=im));else if(c!==4&&c!==27&&(s=s.child,s!==null))for(lv(s,a,l),s=s.sibling;s!==null;)lv(s,a,l),s=s.sibling}function $p(s,a,l){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(c!==4&&c!==27&&(s=s.child,s!==null))for($p(s,a,l),s=s.sibling;s!==null;)$p(s,a,l),s=s.sibling}var Es=!1,Ut=!1,uv=!1,nA=typeof WeakSet=="function"?WeakSet:Set,wn=null,rA=!1;function J2(s,a){if(s=s.containerInfo,Lv=hm,s=ET(s),h_(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var A=0,k=-1,B=-1,K=0,ce=0,fe=s,Z=null;t:for(;;){for(var le;fe!==l||m!==0&&fe.nodeType!==3||(k=A+m),fe!==y||c!==0&&fe.nodeType!==3||(B=A+c),fe.nodeType===3&&(A+=fe.nodeValue.length),(le=fe.firstChild)!==null;)Z=fe,fe=le;for(;;){if(fe===s)break t;if(Z===l&&++K===m&&(k=A),Z===y&&++ce===c&&(B=A),(le=fe.nextSibling)!==null)break;fe=Z,Z=fe.parentNode}fe=le}l=k===-1||B===-1?null:{start:k,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Uv={focusedElem:s,selectionRange:l},hm=!1,wn=a;wn!==null;)if(a=wn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,wn=s;else for(;wn!==null;){switch(a=wn,y=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if(s&1024&&y!==null){s=void 0,l=a,m=y.memoizedProps,y=y.memoizedState,c=l.stateNode;try{var Ie=zo(l.type,m,l.elementType===l.type);s=c.getSnapshotBeforeUpdate(Ie,y),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ne){dt(l,l.return,Ne)}}break;case 3:if(s&1024){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)zv(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":zv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,wn=s;break}wn=a.return}return Ie=rA,rA=!1,Ie}function iA(s,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:bs(s,l),c&4&&Oh(5,l);break;case 1:if(bs(s,l),c&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(k){dt(l,l.return,k)}else{var m=zo(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(k){dt(l,l.return,k)}}c&64&&XS(l),c&512&&$o(l,l.return);break;case 3:if(bs(s,l),c&64&&(c=l.updateQueue,c!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{YS(c,s)}catch(k){dt(l,l.return,k)}}break;case 26:bs(s,l),c&512&&$o(l,l.return);break;case 27:case 5:bs(s,l),a===null&&c&4&&ZS(l),c&512&&$o(l,l.return);break;case 12:bs(s,l);break;case 13:bs(s,l),c&4&&oA(s,l);break;case 22:if(m=l.memoizedState!==null||Es,!m){a=a!==null&&a.memoizedState!==null||Ut;var y=Es,A=Ut;Es=m,(Ut=a)&&!A?Ta(s,l,(l.subtreeFlags&8772)!==0):bs(s,l),Es=y,Ut=A}c&512&&(l.memoizedProps.mode==="manual"?$o(l,l.return):vr(l,l.return));break;default:bs(s,l)}}function sA(s){var a=s.alternate;a!==null&&(s.alternate=null,sA(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&wo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var tn=null,Er=!1;function ws(s,a,l){for(l=l.child;l!==null;)aA(s,a,l),l=l.sibling}function aA(s,a,l){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Js,l)}catch{}switch(l.tag){case 26:Ut||vr(l,a),ws(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ut||vr(l,a);var c=tn,m=Er;for(tn=l.stateNode,ws(s,a,l),l=l.stateNode,a=l.attributes;a.length;)l.removeAttributeNode(a[0]);wo(l),tn=c,Er=m;break;case 5:Ut||vr(l,a);case 6:m=tn;var y=Er;if(tn=null,ws(s,a,l),tn=m,Er=y,tn!==null)if(Er)try{s=tn,c=l.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)}catch(A){dt(l,a,A)}else try{tn.removeChild(l.stateNode)}catch(A){dt(l,a,A)}break;case 18:tn!==null&&(Er?(a=tn,l=l.stateNode,a.nodeType===8?jv(a.parentNode,l):a.nodeType===1&&jv(a,l),Wh(a)):jv(tn,l.stateNode));break;case 4:c=tn,m=Er,tn=l.stateNode.containerInfo,Er=!0,ws(s,a,l),tn=c,Er=m;break;case 0:case 11:case 14:case 15:Ut||ba(2,l,a),Ut||ba(4,l,a),ws(s,a,l);break;case 1:Ut||(vr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&JS(l,a,c)),ws(s,a,l);break;case 21:ws(s,a,l);break;case 22:Ut||vr(l,a),Ut=(c=Ut)||l.memoizedState!==null,ws(s,a,l),Ut=c;break;default:ws(s,a,l)}}function oA(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Wh(s)}catch(l){dt(a,a.return,l)}}function Z2(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new nA),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new nA),a;default:throw Error(r(435,s.tag))}}function cv(s,a){var l=Z2(s);a.forEach(function(c){var m=dM.bind(null,s,c);l.has(c)||(l.add(c),c.then(m,m))})}function Gr(s,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],y=s,A=a,k=A;e:for(;k!==null;){switch(k.tag){case 27:case 5:tn=k.stateNode,Er=!1;break e;case 3:tn=k.stateNode.containerInfo,Er=!0;break e;case 4:tn=k.stateNode.containerInfo,Er=!0;break e}k=k.return}if(tn===null)throw Error(r(160));aA(y,A,m),tn=null,Er=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)lA(a,s),a=a.sibling}var ui=null;function lA(s,a){var l=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Gr(a,s),Kr(s),c&4&&(ba(3,s,s.return),Oh(3,s),ba(5,s,s.return));break;case 1:Gr(a,s),Kr(s),c&512&&(Ut||l===null||vr(l,l.return)),c&64&&Es&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=ui;if(Gr(a,s),Kr(s),c&512&&(Ut||l===null||vr(l,l.return)),c&4){var y=l!==null?l.memoizedState:null;if(c=s.memoizedState,l===null)if(c===null)if(s.stateNode===null){e:{c=s.type,l=s.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[sa]||y[yn]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),On(y,c,l),y[yn]=s,Pt(y),c=y;break e;case"link":var A=ZA("link","href",m).get(c+(l.href||""));if(A){for(var k=0;k<A.length;k++)if(y=A[k],y.getAttribute("href")===(l.href==null?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){A.splice(k,1);break t}}y=m.createElement(c),On(y,c,l),m.head.appendChild(y);break;case"meta":if(A=ZA("meta","content",m).get(c+(l.content||""))){for(k=0;k<A.length;k++)if(y=A[k],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){A.splice(k,1);break t}}y=m.createElement(c),On(y,c,l),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[yn]=s,Pt(y),c=y}s.stateNode=c}else eI(m,s.type,s.stateNode);else s.stateNode=JA(m,c,s.memoizedProps);else y!==c?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,c===null?eI(m,s.type,s.stateNode):JA(m,c,s.memoizedProps)):c===null&&s.stateNode!==null&&eA(s,s.memoizedProps,l.memoizedProps)}break;case 27:if(c&4&&s.alternate===null){m=s.stateNode,y=s.memoizedProps;try{for(var B=m.firstChild;B;){var K=B.nextSibling,ce=B.nodeName;B[sa]||ce==="HEAD"||ce==="BODY"||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&B.rel.toLowerCase()==="stylesheet"||m.removeChild(B),B=K}for(var fe=s.type,Z=m.attributes;Z.length;)m.removeAttributeNode(Z[0]);On(m,fe,y),m[yn]=s,m[un]=y}catch(Ie){dt(s,s.return,Ie)}}case 5:if(Gr(a,s),Kr(s),c&512&&(Ut||l===null||vr(l,l.return)),s.flags&32){m=s.stateNode;try{Lr(m,"")}catch(Ie){dt(s,s.return,Ie)}}c&4&&s.stateNode!=null&&(m=s.memoizedProps,eA(s,m,l!==null?l.memoizedProps:m)),c&1024&&(uv=!0);break;case 6:if(Gr(a,s),Kr(s),c&4){if(s.stateNode===null)throw Error(r(162));c=s.memoizedProps,l=s.stateNode;try{l.nodeValue=c}catch(Ie){dt(s,s.return,Ie)}}break;case 3:if(lm=null,m=ui,ui=am(a.containerInfo),Gr(a,s),ui=m,Kr(s),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Wh(a.containerInfo)}catch(Ie){dt(s,s.return,Ie)}uv&&(uv=!1,uA(s));break;case 4:c=ui,ui=am(s.stateNode.containerInfo),Gr(a,s),Kr(s),ui=c;break;case 12:Gr(a,s),Kr(s);break;case 13:Gr(a,s),Kr(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(vv=ar()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,cv(s,c)));break;case 22:if(c&512&&(Ut||l===null||vr(l,l.return)),B=s.memoizedState!==null,K=l!==null&&l.memoizedState!==null,ce=Es,fe=Ut,Es=ce||B,Ut=fe||K,Gr(a,s),Ut=fe,Es=ce,Kr(s),a=s.stateNode,a._current=s,a._visibility&=-3,a._visibility|=a._pendingVisibility&2,c&8192&&(a._visibility=B?a._visibility&-2:a._visibility|1,B&&(a=Es||Ut,l===null||K||a||pu(s)),s.memoizedProps===null||s.memoizedProps.mode!=="manual"))e:for(l=null,a=s;;){if(a.tag===5||a.tag===26||a.tag===27){if(l===null){K=l=a;try{if(m=K.stateNode,B)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{A=K.stateNode,k=K.memoizedProps.style;var le=k!=null&&k.hasOwnProperty("display")?k.display:null;A.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Ie){dt(K,K.return,Ie)}}}else if(a.tag===6){if(l===null){K=a;try{K.stateNode.nodeValue=B?"":K.memoizedProps}catch(Ie){dt(K,K.return,Ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,cv(s,l))));break;case 19:Gr(a,s),Kr(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,cv(s,c)));break;case 21:break;default:Gr(a,s),Kr(s)}}function Kr(s){var a=s.flags;if(a&2){try{if(s.tag!==27){e:{for(var l=s.return;l!==null;){if(tA(l)){var c=l;break e}l=l.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,y=ov(s);$p(s,y,m);break;case 5:var A=c.stateNode;c.flags&32&&(Lr(A,""),c.flags&=-33);var k=ov(s);$p(s,k,A);break;case 3:case 4:var B=c.stateNode.containerInfo,K=ov(s);lv(s,K,B);break;default:throw Error(r(161))}}}catch(ce){dt(s,s.return,ce)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function uA(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;uA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function bs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)iA(s,a.alternate,a),a=a.sibling}function pu(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ba(4,a,a.return),pu(a);break;case 1:vr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&JS(a,a.return,l),pu(a);break;case 26:case 27:case 5:vr(a,a.return),pu(a);break;case 22:vr(a,a.return),a.memoizedState===null&&pu(a);break;default:pu(a)}s=s.sibling}}function Ta(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,m=s,y=a,A=y.flags;switch(y.tag){case 0:case 11:case 15:Ta(m,y,l),Oh(4,y);break;case 1:if(Ta(m,y,l),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(K){dt(c,c.return,K)}if(c=y,m=c.updateQueue,m!==null){var k=c.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)QS(B[m],k)}catch(K){dt(c,c.return,K)}}l&&A&64&&XS(y),$o(y,y.return);break;case 26:case 27:case 5:Ta(m,y,l),l&&c===null&&A&4&&ZS(y),$o(y,y.return);break;case 12:Ta(m,y,l);break;case 13:Ta(m,y,l),l&&A&4&&oA(m,y);break;case 22:y.memoizedState===null&&Ta(m,y,l),$o(y,y.return);break;default:Ta(m,y,l)}a=a.sibling}}function hv(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Eh(l))}function dv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Eh(s))}function Sa(s,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)cA(s,a,l,c),a=a.sibling}function cA(s,a,l,c){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Sa(s,a,l,c),m&2048&&Oh(9,a);break;case 3:Sa(s,a,l,c),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Eh(s)));break;case 12:if(m&2048){Sa(s,a,l,c),s=a.stateNode;try{var y=a.memoizedProps,A=y.id,k=y.onPostCommit;typeof k=="function"&&k(A,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){dt(a,a.return,B)}}else Sa(s,a,l,c);break;case 23:break;case 22:y=a.stateNode,a.memoizedState!==null?y._visibility&4?Sa(s,a,l,c):xh(s,a):y._visibility&4?Sa(s,a,l,c):(y._visibility|=4,mu(s,a,l,c,(a.subtreeFlags&10256)!==0)),m&2048&&hv(a.alternate,a);break;case 24:Sa(s,a,l,c),m&2048&&dv(a.alternate,a);break;default:Sa(s,a,l,c)}}function mu(s,a,l,c,m){for(m=m&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var y=s,A=a,k=l,B=c,K=A.flags;switch(A.tag){case 0:case 11:case 15:mu(y,A,k,B,m),Oh(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&4?mu(y,A,k,B,m):xh(y,A):(ce._visibility|=4,mu(y,A,k,B,m)),m&&K&2048&&hv(A.alternate,A);break;case 24:mu(y,A,k,B,m),m&&K&2048&&dv(A.alternate,A);break;default:mu(y,A,k,B,m)}a=a.sibling}}function xh(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,c=a,m=c.flags;switch(c.tag){case 22:xh(l,c),m&2048&&hv(c.alternate,c);break;case 24:xh(l,c),m&2048&&dv(c.alternate,c);break;default:xh(l,c)}a=a.sibling}}var Dh=8192;function gu(s){if(s.subtreeFlags&Dh)for(s=s.child;s!==null;)hA(s),s=s.sibling}function hA(s){switch(s.tag){case 26:gu(s),s.flags&Dh&&s.memoizedState!==null&&jM(ui,s.memoizedState,s.memoizedProps);break;case 5:gu(s);break;case 3:case 4:var a=ui;ui=am(s.stateNode.containerInfo),gu(s),ui=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Dh,Dh=16777216,gu(s),Dh=a):gu(s));break;default:gu(s)}}function dA(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function kh(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,pA(c,s)}dA(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)fA(s),s=s.sibling}function fA(s){switch(s.tag){case 0:case 11:case 15:kh(s),s.flags&2048&&ba(9,s,s.return);break;case 3:kh(s);break;case 12:kh(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&4&&(s.return===null||s.return.tag!==13)?(a._visibility&=-5,Gp(s)):kh(s);break;default:kh(s)}}function Gp(s){var a=s.deletions;if(s.flags&16){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];wn=c,pA(c,s)}dA(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ba(8,a,a.return),Gp(a);break;case 22:l=a.stateNode,l._visibility&4&&(l._visibility&=-5,Gp(a));break;default:Gp(a)}s=s.sibling}}function pA(s,a){for(;wn!==null;){var l=wn;switch(l.tag){case 0:case 11:case 15:ba(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Eh(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,wn=c;else e:for(l=s;wn!==null;){c=wn;var m=c.sibling,y=c.return;if(sA(c),c===l){wn=null;break e}if(m!==null){m.return=y,wn=m;break e}wn=y}}}function eM(s,a,l,c){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(s,a,l,c){return new eM(s,a,l,c)}function fv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Aa(s,a){var l=s.alternate;return l===null?(l=Wr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&31457280,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function mA(s,a){s.flags&=31457282;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Kp(s,a,l,c,m,y){var A=0;if(c=s,typeof s=="function")fv(s)&&(A=1);else if(typeof s=="string")A=FM(s,l,Et.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case d:return Go(l.children,m,y,a);case f:A=8,m|=24;break;case g:return s=Wr(12,l,a,m|2),s.elementType=g,s.lanes=y,s;case I:return s=Wr(13,l,a,m),s.elementType=I,s.lanes=y,s;case O:return s=Wr(19,l,a,m),s.elementType=O,s.lanes=y,s;case U:return gA(l,m,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case _:case b:A=10;break e;case v:A=9;break e;case T:A=11;break e;case L:A=14;break e;case V:A=16,c=null;break e}A=29,l=Error(r(130,s===null?"null":typeof s,"")),c=null}return a=Wr(A,l,a,m),a.elementType=s,a.type=c,a.lanes=y,a}function Go(s,a,l,c){return s=Wr(7,s,c,a),s.lanes=l,s}function gA(s,a,l,c){s=Wr(22,s,c,a),s.elementType=U,s.lanes=l;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var A=fa(y,2);A!==null&&(m._pendingVisibility|=2,Jn(A,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(r(456));if(m._pendingVisibility&2){var A=fa(y,2);A!==null&&(m._pendingVisibility&=-3,Jn(A,y,2))}}};return s.stateNode=m,s}function pv(s,a,l){return s=Wr(6,s,null,a),s.lanes=l,s}function mv(s,a,l){return a=Wr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Ts(s){s.flags|=4}function yA(s,a){if(a.type!=="stylesheet"||a.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!tI(a)){if(a=$r.current,a!==null&&((Ye&4194176)===Ye?Oi!==null:(Ye&62914560)!==Ye&&!(Ye&536870912)||a!==Oi))throw yh=E_,NT;s.flags|=8192}}function Wp(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ta():536870912,s.lanes|=a,_u|=a)}function Nh(s,a){if(!et)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Ot(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,c=0;if(a)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=c,s.childLanes=l,a}function tM(s,a,l){var c=a.pendingProps;switch(__(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ot(a),null;case 1:return Ot(a),null;case 3:return l=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),vs(fn),Ln(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(fh(a)?Ts(a):s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,li!==null&&(Tv(li),li=null))),Ot(a),null;case 26:return l=a.memoizedState,s===null?(Ts(a),l!==null?(Ot(a),yA(a,l)):(Ot(a),a.flags&=-16777217)):l?l!==s.memoizedState?(Ts(a),Ot(a),yA(a,l)):(Ot(a),a.flags&=-16777217):(s.memoizedProps!==c&&Ts(a),Ot(a),a.flags&=-16777217),null;case 27:Un(a),l=at.current;var m=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Ts(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Ot(a),null}s=Et.current,fh(a)?DT(a):(s=KA(m,c,l),a.stateNode=s,Ts(a))}return Ot(a),null;case 5:if(Un(a),l=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&Ts(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Ot(a),null}if(s=Et.current,fh(a))DT(a);else{switch(m=sm(at.current),s){case 1:s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":s=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":s=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":s=m.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?m.createElement(l,{is:c.is}):m.createElement(l)}}s[yn]=a,s[un]=c;e:for(m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break e;for(;m.sibling===null;){if(m.return===null||m.return===a)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}a.stateNode=s;e:switch(On(s,l,c),l){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ts(a)}}return Ot(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&Ts(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(s=at.current,fh(a)){if(s=a.stateNode,l=a.memoizedProps,c=null,m=Xn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}s[yn]=a,s=!!(s.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||jA(s.nodeValue,l)),s||Vo(a)}else s=sm(s).createTextNode(c),s[yn]=a,a.stateNode=s}return Ot(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=fh(a),c!==null&&c.dehydrated!==null){if(s===null){if(!m)throw Error(r(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[yn]=a}else ph(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Ot(a),m=!1}else li!==null&&(Tv(li),li=null),m=!0;if(!m)return a.flags&256?(ms(a),a):(ms(a),null)}if(ms(a),a.flags&128)return a.lanes=l,a;if(l=c!==null,s=s!==null&&s.memoizedState!==null,l){c=a.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return l!==s&&l&&(a.child.flags|=8192),Wp(a,a.updateQueue),Ot(a),null;case 4:return Ln(),s===null&&Nv(a.stateNode.containerInfo),Ot(a),null;case 10:return vs(a.type),Ot(a),null;case 19:if(_t(dn),m=a.memoizedState,m===null)return Ot(a),null;if(c=(a.flags&128)!==0,y=m.rendering,y===null)if(c)Nh(m,!1);else{if(Ft!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(y=xp(s),y!==null){for(a.flags|=128,Nh(m,!1),s=y.updateQueue,a.updateQueue=s,Wp(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)mA(l,s),l=l.sibling;return $e(dn,dn.current&1|2),a.child}s=s.sibling}m.tail!==null&&ar()>Qp&&(a.flags|=128,c=!0,Nh(m,!1),a.lanes=4194304)}else{if(!c)if(s=xp(y),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,Wp(a,s),Nh(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!et)return Ot(a),null}else 2*ar()-m.renderingStartTime>Qp&&l!==536870912&&(a.flags|=128,c=!0,Nh(m,!1),a.lanes=4194304);m.isBackwards?(y.sibling=a.child,a.child=y):(s=m.last,s!==null?s.sibling=y:a.child=y,m.last=y)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=ar(),a.sibling=null,s=dn.current,$e(dn,c?s&1|2:s&1),a):(Ot(a),null);case 22:case 23:return ms(a),b_(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?l&536870912&&!(a.flags&128)&&(Ot(a),a.subtreeFlags&6&&(a.flags|=8192)):Ot(a),l=a.updateQueue,l!==null&&Wp(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),s!==null&&_t(Uo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),vs(fn),Ot(a),null;case 25:return null}throw Error(r(156,a.tag))}function nM(s,a){switch(__(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return vs(fn),Ln(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return Un(a),null;case 13:if(ms(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));ph()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return _t(dn),null;case 4:return Ln(),null;case 10:return vs(a.type),null;case 22:case 23:return ms(a),b_(),s!==null&&_t(Uo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return vs(fn),null;case 25:return null;default:return null}}function _A(s,a){switch(__(a),a.tag){case 3:vs(fn),Ln();break;case 26:case 27:case 5:Un(a);break;case 4:Ln();break;case 13:ms(a);break;case 19:_t(dn);break;case 10:vs(a.type);break;case 22:case 23:ms(a),b_(),s!==null&&_t(Uo);break;case 24:vs(fn)}}var rM={getCacheForType:function(s){var a=Bn(fn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l}},iM=typeof WeakMap=="function"?WeakMap:Map,xt=0,mt=null,Be=null,Ye=0,gt=0,wr=null,Ss=!1,yu=!1,gv=!1,As=0,Ft=0,Ia=0,Ko=0,yv=0,Qr=0,_u=0,Mh=null,Di=null,_v=!1,vv=0,Qp=1/0,Yp=null,Ra=null,Xp=!1,Wo=null,Vh=0,Ev=0,wv=null,Lh=0,bv=null;function br(){if(xt&2&&Ye!==0)return Ye&-Ye;if(R.T!==null){var s=uu;return s!==0?s:Ov()}return rp()}function vA(){Qr===0&&(Qr=!(Ye&536870912)||et?Qc():536870912);var s=$r.current;return s!==null&&(s.flags|=32),Qr}function Jn(s,a,l){(s===mt&&gt===2||s.cancelPendingCommit!==null)&&(vu(s,0),Is(s,Ye,Qr,!1)),Gt(s,l),(!(xt&2)||s!==mt)&&(s===mt&&(!(xt&2)&&(Ko|=l),Ft===4&&Is(s,Ye,Qr,!1)),ki(s))}function EA(s,a,l){if(xt&6)throw Error(r(327));var c=!l&&(a&60)===0&&(a&s.expiredLanes)===0||ea(s,a),m=c?oM(s,a):Iv(s,a,!0),y=c;do{if(m===0){yu&&!c&&Is(s,a,0,!1);break}else if(m===6)Is(s,a,0,!Ss);else{if(l=s.current.alternate,y&&!sM(l)){m=Iv(s,a,!1),y=!1;continue}if(m===2){if(y=a,s.errorRecoveryDisabledLanes&y)var A=0;else A=s.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){a=A;e:{var k=s;m=Mh;var B=k.current.memoizedState.isDehydrated;if(B&&(vu(k,A).flags|=256),A=Iv(k,A,!1),A!==2){if(gv&&!B){k.errorRecoveryDisabledLanes|=y,Ko|=y,m=4;break e}y=Di,Di=m,y!==null&&Tv(y)}m=A}if(y=!1,m!==2)continue}}if(m===1){vu(s,0),Is(s,a,0,!0);break}e:{switch(c=s,m){case 0:case 1:throw Error(r(345));case 4:if((a&4194176)===a){Is(c,a,Qr,!Ss);break e}break;case 2:Di=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=l,c.finishedLanes=a,(a&62914560)===a&&(y=vv+300-ar(),10<y)){if(Is(c,a,Qr,!Ss),Mr(c,0)!==0)break e;c.timeoutHandle=HA(wA.bind(null,c,l,Di,Yp,_v,a,Qr,Ko,_u,Ss,2,-0,0),y);break e}wA(c,l,Di,Yp,_v,a,Qr,Ko,_u,Ss,0,-0,0)}}break}while(!0);ki(s)}function Tv(s){Di===null?Di=s:Di.push.apply(Di,s)}function wA(s,a,l,c,m,y,A,k,B,K,ce,fe,Z){var le=a.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(qh={stylesheets:null,count:0,unsuspend:BM},hA(a),a=zM(),a!==null)){s.cancelPendingCommit=a(CA.bind(null,s,l,c,m,A,k,B,1,fe,Z)),Is(s,y,A,!K);return}CA(s,l,c,m,A,k,B,ce,fe,Z)}function sM(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],y=m.getSnapshot;m=m.value;try{if(!_r(y(),m))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Is(s,a,l,c){a&=~yv,a&=~Ko,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var m=a;0<m;){var y=31-Wn(m),A=1<<y;c[y]=-1,m&=~A}l!==0&&na(s,l,a)}function Jp(){return xt&6?!0:(Uh(0),!1)}function Sv(){if(Be!==null){if(gt===0)var s=Be.return;else s=Be,_s=qo=null,O_(s),ou=null,_h=0,s=Be;for(;s!==null;)_A(s.alternate,s),s=s.return;Be=null}}function vu(s,a){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,SM(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Sv(),mt=s,Be=l=Aa(s.current,null),Ye=a,gt=0,wr=null,Ss=!1,yu=ea(s,a),gv=!1,_u=Qr=yv=Ko=Ia=Ft=0,Di=Mh=null,_v=!1,a&8&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var m=31-Wn(c),y=1<<m;a|=s[m],c&=~y}return As=a,bp(),l}function bA(s,a){Ue=null,R.H=xi,a===gh?(a=LT(),gt=3):a===NT?(a=LT(),gt=4):gt=a===MS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,wr=a,Be===null&&(Ft=1,zp(s,zr(a,s.current)))}function TA(){var s=R.H;return R.H=xi,s===null?xi:s}function SA(){var s=R.A;return R.A=rM,s}function Av(){Ft=4,Ss||(Ye&4194176)!==Ye&&$r.current!==null||(yu=!0),!(Ia&134217727)&&!(Ko&134217727)||mt===null||Is(mt,Ye,Qr,!1)}function Iv(s,a,l){var c=xt;xt|=2;var m=TA(),y=SA();(mt!==s||Ye!==a)&&(Yp=null,vu(s,a)),a=!1;var A=Ft;e:do try{if(gt!==0&&Be!==null){var k=Be,B=wr;switch(gt){case 8:Sv(),A=6;break e;case 3:case 2:case 6:$r.current===null&&(a=!0);var K=gt;if(gt=0,wr=null,Eu(s,k,B,K),l&&yu){A=0;break e}break;default:K=gt,gt=0,wr=null,Eu(s,k,B,K)}}aM(),A=Ft;break}catch(ce){bA(s,ce)}while(!0);return a&&s.shellSuspendCounter++,_s=qo=null,xt=c,R.H=m,R.A=y,Be===null&&(mt=null,Ye=0,bp()),A}function aM(){for(;Be!==null;)AA(Be)}function oM(s,a){var l=xt;xt|=2;var c=TA(),m=SA();mt!==s||Ye!==a?(Yp=null,Qp=ar()+500,vu(s,a)):yu=ea(s,a);e:do try{if(gt!==0&&Be!==null){a=Be;var y=wr;t:switch(gt){case 1:gt=0,wr=null,Eu(s,a,y,1);break;case 2:if(MT(y)){gt=0,wr=null,IA(a);break}a=function(){gt===2&&mt===s&&(gt=7),ki(s)},y.then(a,a);break e;case 3:gt=7;break e;case 4:gt=5;break e;case 7:MT(y)?(gt=0,wr=null,IA(a)):(gt=0,wr=null,Eu(s,a,y,7));break;case 5:var A=null;switch(Be.tag){case 26:A=Be.memoizedState;case 5:case 27:var k=Be;if(!A||tI(A)){gt=0,wr=null;var B=k.sibling;if(B!==null)Be=B;else{var K=k.return;K!==null?(Be=K,Zp(K)):Be=null}break t}}gt=0,wr=null,Eu(s,a,y,5);break;case 6:gt=0,wr=null,Eu(s,a,y,6);break;case 8:Sv(),Ft=6;break e;default:throw Error(r(462))}}lM();break}catch(ce){bA(s,ce)}while(!0);return _s=qo=null,R.H=c,R.A=m,xt=l,Be!==null?0:(mt=null,Ye=0,bp(),Ft)}function lM(){for(;Be!==null&&!e_();)AA(Be)}function AA(s){var a=KS(s.alternate,s,As);s.memoizedProps=s.pendingProps,a===null?Zp(s):Be=a}function IA(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=jS(l,a,a.pendingProps,a.type,void 0,Ye);break;case 11:a=jS(l,a,a.pendingProps,a.type.render,a.ref,Ye);break;case 5:O_(a);default:_A(l,a),a=Be=mA(a,As),a=KS(l,a,As)}s.memoizedProps=s.pendingProps,a===null?Zp(s):Be=a}function Eu(s,a,l,c){_s=qo=null,O_(a),ou=null,_h=0;var m=a.return;try{if(Y2(s,m,a,l,Ye)){Ft=1,zp(s,zr(l,s.current)),Be=null;return}}catch(y){if(m!==null)throw Be=m,y;Ft=1,zp(s,zr(l,s.current)),Be=null;return}a.flags&32768?(et||c===1?s=!0:yu||Ye&536870912?s=!1:(Ss=s=!0,(c===2||c===3||c===6)&&(c=$r.current,c!==null&&c.tag===13&&(c.flags|=16384))),RA(a,s)):Zp(a)}function Zp(s){var a=s;do{if(a.flags&32768){RA(a,Ss);return}s=a.return;var l=tM(a.alternate,a,As);if(l!==null){Be=l;return}if(a=a.sibling,a!==null){Be=a;return}Be=a=s}while(a!==null);Ft===0&&(Ft=5)}function RA(s,a){do{var l=nM(s.alternate,s);if(l!==null){l.flags&=32767,Be=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){Be=s;return}Be=s=l}while(s!==null);Ft=6,Be=null}function CA(s,a,l,c,m,y,A,k,B,K){var ce=R.T,fe=ye.p;try{ye.p=2,R.T=null,uM(s,a,l,c,fe,m,y,A,k,B,K)}finally{R.T=ce,ye.p=fe}}function uM(s,a,l,c,m,y,A,k){do wu();while(Wo!==null);if(xt&6)throw Error(r(327));var B=s.finishedWork;if(c=s.finishedLanes,B===null)return null;if(s.finishedWork=null,s.finishedLanes=0,B===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0,s.cancelPendingCommit=null;var K=B.lanes|B.childLanes;if(K|=m_,tp(s,c,K,y,A,k),s===mt&&(Be=mt=null,Ye=0),!(B.subtreeFlags&10256)&&!(B.flags&10256)||Xp||(Xp=!0,Ev=K,wv=l,fM(rs,function(){return wu(),null})),l=(B.flags&15990)!==0,B.subtreeFlags&15990||l?(l=R.T,R.T=null,y=ye.p,ye.p=2,A=xt,xt|=4,J2(s,B),lA(B,s),k2(Uv,s.containerInfo),hm=!!Lv,Uv=Lv=null,s.current=B,iA(s,B.alternate,B),$c(),xt=A,ye.p=y,R.T=l):s.current=B,Xp?(Xp=!1,Wo=s,Vh=c):PA(s,K),K=s.pendingLanes,K===0&&(Ra=null),Kc(B.stateNode),ki(s),a!==null)for(m=s.onRecoverableError,B=0;B<a.length;B++)K=a[B],m(K.value,{componentStack:K.stack});return Vh&3&&wu(),K=s.pendingLanes,c&4194218&&K&42?s===bv?Lh++:(Lh=0,bv=s):Lh=0,Uh(0),null}function PA(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Eh(a)))}function wu(){if(Wo!==null){var s=Wo,a=Ev;Ev=0;var l=np(Vh),c=R.T,m=ye.p;try{if(ye.p=32>l?32:l,R.T=null,Wo===null)var y=!1;else{l=wv,wv=null;var A=Wo,k=Vh;if(Wo=null,Vh=0,xt&6)throw Error(r(331));var B=xt;if(xt|=4,fA(A.current),cA(A,A.current,k,l),xt=B,Uh(0,!1),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Js,A)}catch{}y=!0}return y}finally{ye.p=m,R.T=c,PA(s,a)}}return!1}function OA(s,a,l){a=zr(l,a),a=H_(s.stateNode,a,2),s=wa(s,a,2),s!==null&&(Gt(s,2),ki(s))}function dt(s,a,l){if(s.tag===3)OA(s,s,l);else for(;a!==null;){if(a.tag===3){OA(a,s,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ra===null||!Ra.has(c))){s=zr(l,s),l=kS(2),c=wa(a,l,2),c!==null&&(NS(l,c,a,s),Gt(c,2),ki(c));break}}a=a.return}}function Rv(s,a,l){var c=s.pingCache;if(c===null){c=s.pingCache=new iM;var m=new Set;c.set(a,m)}else m=c.get(a),m===void 0&&(m=new Set,c.set(a,m));m.has(l)||(gv=!0,m.add(l),s=cM.bind(null,s,a,l),a.then(s,s))}function cM(s,a,l){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,mt===s&&(Ye&l)===l&&(Ft===4||Ft===3&&(Ye&62914560)===Ye&&300>ar()-vv?!(xt&2)&&vu(s,0):yv|=l,_u===Ye&&(_u=0)),ki(s)}function xA(s,a){a===0&&(a=ta()),s=fa(s,a),s!==null&&(Gt(s,a),ki(s))}function hM(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),xA(s,l)}function dM(s,a){var l=0;switch(s.tag){case 13:var c=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),xA(s,l)}function fM(s,a){return ii(s,a)}var em=null,bu=null,Cv=!1,tm=!1,Pv=!1,Qo=0;function ki(s){s!==bu&&s.next===null&&(bu===null?em=bu=s:bu=bu.next=s),tm=!0,Cv||(Cv=!0,mM(pM))}function Uh(s,a){if(!Pv&&tm){Pv=!0;do for(var l=!1,c=em;c!==null;){if(s!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var A=c.suspendedLanes,k=c.pingedLanes;y=(1<<31-Wn(42|s)+1)-1,y&=m&~(A&~k),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(l=!0,NA(c,y))}else y=Ye,y=Mr(c,c===mt?y:0),!(y&3)||ea(c,y)||(l=!0,NA(c,y));c=c.next}while(l);Pv=!1}}function pM(){tm=Cv=!1;var s=0;Qo!==0&&(TM()&&(s=Qo),Qo=0);for(var a=ar(),l=null,c=em;c!==null;){var m=c.next,y=DA(c,a);y===0?(c.next=null,l===null?em=m:l.next=m,m===null&&(bu=l)):(l=c,(s!==0||y&3)&&(tm=!0)),c=m}Uh(s)}function DA(s,a){for(var l=s.suspendedLanes,c=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var A=31-Wn(y),k=1<<A,B=m[A];B===-1?(!(k&l)||k&c)&&(m[A]=Bl(k,a)):B<=a&&(s.expiredLanes|=k),y&=~k}if(a=mt,l=Ye,l=Mr(s,s===a?l:0),c=s.callbackNode,l===0||s===a&&gt===2||s.cancelPendingCommit!==null)return c!==null&&c!==null&&Fl(c),s.callbackNode=null,s.callbackPriority=0;if(!(l&3)||ea(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(c!==null&&Fl(c),np(l)){case 2:case 8:l=gn;break;case 32:l=rs;break;case 268435456:l=Gc;break;default:l=rs}return c=kA.bind(null,s),l=ii(l,c),s.callbackPriority=a,s.callbackNode=l,a}return c!==null&&c!==null&&Fl(c),s.callbackPriority=2,s.callbackNode=null,2}function kA(s,a){var l=s.callbackNode;if(wu()&&s.callbackNode!==l)return null;var c=Ye;return c=Mr(s,s===mt?c:0),c===0?null:(EA(s,c,a),DA(s,ar()),s.callbackNode!=null&&s.callbackNode===l?kA.bind(null,s):null)}function NA(s,a){if(wu())return null;EA(s,a,!0)}function mM(s){AM(function(){xt&6?ii(ln,s):s()})}function Ov(){return Qo===0&&(Qo=Qc()),Qo}function MA(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:bi(""+s)}function VA(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function gM(s,a,l,c,m){if(a==="submit"&&l&&l.stateNode===m){var y=MA((m[un]||null).action),A=c.submitter;A&&(a=(a=A[un]||null)?MA(a.formAction):A.getAttribute("formAction"),a!==null&&(y=a,A=null));var k=new Kl("action","action",null,c,m);s.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Qo!==0){var B=A?VA(m,A):new FormData(m);F_(l,{pending:!0,data:B,method:m.method,action:y},null,B)}}else typeof y=="function"&&(k.preventDefault(),B=A?VA(m,A):new FormData(m),F_(l,{pending:!0,data:B,method:m.method,action:y},y,B))},currentTarget:m}]})}}for(var xv=0;xv<CT.length;xv++){var Dv=CT[xv],yM=Dv.toLowerCase(),_M=Dv[0].toUpperCase()+Dv.slice(1);oi(yM,"on"+_M)}oi(TT,"onAnimationEnd"),oi(ST,"onAnimationIteration"),oi(AT,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(M2,"onTransitionRun"),oi(V2,"onTransitionStart"),oi(L2,"onTransitionCancel"),oi(IT,"onTransitionEnd"),or("onMouseEnter",["mouseout","mouseover"]),or("onMouseLeave",["mouseout","mouseover"]),or("onPointerEnter",["pointerout","pointerover"]),or("onPointerLeave",["pointerout","pointerover"]),gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fh));function LA(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var c=s[l],m=c.event;c=c.listeners;e:{var y=void 0;if(a)for(var A=c.length-1;0<=A;A--){var k=c[A],B=k.instance,K=k.currentTarget;if(k=k.listener,B!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=K;try{y(m)}catch(ce){jp(ce)}m.currentTarget=null,y=B}else for(A=0;A<c.length;A++){if(k=c[A],B=k.instance,K=k.currentTarget,k=k.listener,B!==y&&m.isPropagationStopped())break e;y=k,m.currentTarget=K;try{y(m)}catch(ce){jp(ce)}m.currentTarget=null,y=B}}}}function Ge(s,a){var l=a[Eo];l===void 0&&(l=a[Eo]=new Set);var c=s+"__bubble";l.has(c)||(UA(a,s,2,!1),l.add(c))}function kv(s,a,l){var c=0;a&&(c|=4),UA(l,s,c,a)}var nm="_reactListening"+Math.random().toString(36).slice(2);function Nv(s){if(!s[nm]){s[nm]=!0,Xc.forEach(function(l){l!=="selectionchange"&&(vM.has(l)||kv(l,!1,s),kv(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[nm]||(a[nm]=!0,kv("selectionchange",!1,a))}}function UA(s,a,l,c){switch(oI(a)){case 2:var m=$M;break;case 8:m=GM;break;default:m=Kv}l=m.bind(null,a,l,s),m=void 0,!Fr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),c?m!==void 0?s.addEventListener(a,l,{capture:!0,passive:m}):s.addEventListener(a,l,!0):m!==void 0?s.addEventListener(a,l,{passive:m}):s.addEventListener(a,l,!1)}function Mv(s,a,l,c,m){var y=c;if(!(a&1)&&!(a&2)&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var k=c.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(A===4)for(A=c.return;A!==null;){var B=A.tag;if((B===3||B===4)&&(B=A.stateNode.containerInfo,B===m||B.nodeType===8&&B.parentNode===m))return;A=A.return}for(;k!==null;){if(A=ai(k),A===null)return;if(B=A.tag,B===5||B===6||B===26||B===27){c=y=A;continue e}k=k.parentNode}}c=c.return}op(function(){var K=y,ce=Gl(l),fe=[];e:{var Z=RT.get(s);if(Z!==void 0){var le=Kl,Ie=s;switch(s){case"keypress":if(Si(l)===0)break e;case"keydown":case"keyup":le=Zl;break;case"focusin":Ie="focus",le=Yl;break;case"focusout":Ie="blur",le=Yl;break;case"beforeblur":case"afterblur":le=Yl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Br;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=o_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=mp;break;case TT:case ST:case AT:le=Xl;break;case IT:le=yp;break;case"scroll":case"scrollend":le=lp;break;case"wheel":le=eu;break;case"copy":case"cut":case"paste":le=Jl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=uh;break;case"toggle":case"beforetoggle":le=vp}var Ne=(a&4)!==0,Bt=!Ne&&(s==="scroll"||s==="scrollend"),Q=Ne?Z!==null?Z+"Capture":null:Z;Ne=[];for(var G=K,J;G!==null;){var he=G;if(J=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||J===null||Q===null||(he=Ao(G,Q),he!=null&&Ne.push(Bh(G,he,J))),Bt)break;G=G.return}0<Ne.length&&(Z=new le(Z,Ie,null,l,ce),fe.push({event:Z,listeners:Ne}))}}if(!(a&7)){e:{if(Z=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",Z&&l!==Ur&&(Ie=l.relatedTarget||l.fromElement)&&(ai(Ie)||Ie[is]))break e;if((le||Z)&&(Z=ce.window===ce?ce:(Z=ce.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(Ie=l.relatedTarget||l.toElement,le=K,Ie=Ie?ai(Ie):null,Ie!==null&&(Bt=ue(Ie),Ne=Ie.tag,Ie!==Bt||Ne!==5&&Ne!==27&&Ne!==6)&&(Ie=null)):(le=null,Ie=K),le!==Ie)){if(Ne=Br,he="onMouseLeave",Q="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ne=uh,he="onPointerLeave",Q="onPointerEnter",G="pointer"),Bt=le==null?Z:aa(le),J=Ie==null?Z:aa(Ie),Z=new Ne(he,G+"leave",le,l,ce),Z.target=Bt,Z.relatedTarget=J,he=null,ai(ce)===K&&(Ne=new Ne(Q,G+"enter",Ie,l,ce),Ne.target=J,Ne.relatedTarget=Bt,he=Ne),Bt=he,le&&Ie)t:{for(Ne=le,Q=Ie,G=0,J=Ne;J;J=Tu(J))G++;for(J=0,he=Q;he;he=Tu(he))J++;for(;0<G-J;)Ne=Tu(Ne),G--;for(;0<J-G;)Q=Tu(Q),J--;for(;G--;){if(Ne===Q||Q!==null&&Ne===Q.alternate)break t;Ne=Tu(Ne),Q=Tu(Q)}Ne=null}else Ne=null;le!==null&&FA(fe,Z,le,Ne,!1),Ie!==null&&Bt!==null&&FA(fe,Bt,Ie,Ne,!0)}}e:{if(Z=K?aa(K):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var Se=dT;else if(hn(Z))if(fT)Se=x2;else{Se=P2;var Fe=C2}else le=Z.nodeName,!le||le.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?K&&nh(K.elementType)&&(Se=dT):Se=O2;if(Se&&(Se=Se(s,K))){ds(fe,Se,l,ce);break e}Fe&&Fe(s,Z,K),s==="focusout"&&K&&Z.type==="number"&&K.memoizedProps.value!=null&&$l(Z,"number",Z.value)}switch(Fe=K?aa(K):window,s){case"focusin":(hn(Fe)||Fe.contentEditable==="true")&&(tu=Fe,d_=K,dh=null);break;case"focusout":dh=d_=tu=null;break;case"mousedown":f_=!0;break;case"contextmenu":case"mouseup":case"dragend":f_=!1,wT(fe,l,ce);break;case"selectionchange":if(N2)break;case"keydown":case"keyup":wT(fe,l,ce)}var Pe;if(Ri)e:{switch(s){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else We?re(s,l)&&(Oe="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Oe="onCompositionStart");Oe&&(S&&l.locale!=="ko"&&(We||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&We&&(Pe=ih()):(Ti=ce,da="value"in Ti?Ti.value:Ti.textContent,We=!0)),Fe=rm(K,Oe),0<Fe.length&&(Oe=new oh(Oe,s,null,l,ce),fe.push({event:Oe,listeners:Fe}),Pe?Oe.data=Pe:(Pe=ge(l),Pe!==null&&(Oe.data=Pe)))),(Pe=E?cn(s,l):Qe(s,l))&&(Oe=rm(K,"onBeforeInput"),0<Oe.length&&(Fe=new oh("onBeforeInput","beforeinput",null,l,ce),fe.push({event:Fe,listeners:Oe}),Fe.data=Pe)),gM(fe,s,K,l,ce)}LA(fe,a)})}function Bh(s,a,l){return{instance:s,listener:a,currentTarget:l}}function rm(s,a){for(var l=a+"Capture",c=[];s!==null;){var m=s,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ao(s,l),m!=null&&c.unshift(Bh(s,m,y)),m=Ao(s,a),m!=null&&c.push(Bh(s,m,y))),s=s.return}return c}function Tu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function FA(s,a,l,c,m){for(var y=a._reactName,A=[];l!==null&&l!==c;){var k=l,B=k.alternate,K=k.stateNode;if(k=k.tag,B!==null&&B===c)break;k!==5&&k!==26&&k!==27||K===null||(B=K,m?(K=Ao(l,y),K!=null&&A.unshift(Bh(l,K,B))):m||(K=Ao(l,y),K!=null&&A.push(Bh(l,K,B)))),l=l.return}A.length!==0&&s.push({event:a,listeners:A})}var EM=/\r\n?/g,wM=/\u0000|\uFFFD/g;function BA(s){return(typeof s=="string"?s:""+s).replace(EM,`
`).replace(wM,"")}function jA(s,a){return a=BA(a),BA(s)===a}function im(){}function ct(s,a,l,c,m,y){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Lr(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Lr(s,""+c);break;case"className":ua(s,"class",c);break;case"tabIndex":ua(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ua(s,l,c);break;case"style":ap(s,c,y);break;case"data":if(a!=="object"){ua(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=bi(""+c),s.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&ct(s,a,"name",m.name,m,null),ct(s,a,"formEncType",m.formEncType,m,null),ct(s,a,"formMethod",m.formMethod,m,null),ct(s,a,"formTarget",m.formTarget,m,null)):(ct(s,a,"encType",m.encType,m,null),ct(s,a,"method",m.method,m,null),ct(s,a,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(l);break}c=bi(""+c),s.setAttribute(l,c);break;case"onClick":c!=null&&(s.onclick=im);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}l=bi(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""+c):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":c===!0?s.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(l,c):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(l,c):s.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(l):s.setAttribute(l,c);break;case"popover":Ge("beforetoggle",s),Ge("toggle",s),la(s,"popover",c);break;case"xlinkActuate":Vr(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Vr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Vr(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Vr(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Vr(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Vr(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Vr(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Vr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Vr(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":la(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=s_.get(l)||l,la(s,l,c))}}function Vv(s,a,l,c,m,y){switch(l){case"style":ap(s,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof c=="string"?Lr(s,c):(typeof c=="number"||typeof c=="bigint")&&Lr(s,""+c);break;case"onScroll":c!=null&&Ge("scroll",s);break;case"onScrollEnd":c!=null&&Ge("scrollend",s);break;case"onClick":c!=null&&(s.onclick=im);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ql.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),a=l.slice(2,m?l.length-7:void 0),y=s[un]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,c,m);break e}l in s?s[l]=c:c===!0?s.setAttribute(l,""):la(s,l,c)}}}function On(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",s),Ge("load",s);var c=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var A=l[y];if(A!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,y,A,l,null)}}m&&ct(s,a,"srcSet",l.srcSet,l,null),c&&ct(s,a,"src",l.src,l,null);return;case"input":Ge("invalid",s);var k=y=A=m=null,B=null,K=null;for(c in l)if(l.hasOwnProperty(c)){var ce=l[c];if(ce!=null)switch(c){case"name":m=ce;break;case"type":A=ce;break;case"checked":B=ce;break;case"defaultChecked":K=ce;break;case"value":y=ce;break;case"defaultValue":k=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,a));break;default:ct(s,a,c,ce,l,null)}}To(s,y,k,B,K,A,m,!1),bo(s);return;case"select":Ge("invalid",s),c=A=y=null;for(m in l)if(l.hasOwnProperty(m)&&(k=l[m],k!=null))switch(m){case"value":y=k;break;case"defaultValue":A=k;break;case"multiple":c=k;default:ct(s,a,m,k,l,null)}a=y,l=A,s.multiple=!!c,a!=null?Ze(s,!!c,a,!1):l!=null&&Ze(s,!!c,l,!0);return;case"textarea":Ge("invalid",s),y=m=c=null;for(A in l)if(l.hasOwnProperty(A)&&(k=l[A],k!=null))switch(A){case"value":c=k;break;case"defaultValue":m=k;break;case"children":y=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:ct(s,a,A,k,l,null)}ha(s,c,m,y),bo(s);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(c=l[B],c!=null))switch(B){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ct(s,a,B,c,l,null)}return;case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":Ge("load",s);break;case"video":case"audio":for(c=0;c<Fh.length;c++)Ge(Fh[c],s);break;case"image":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"embed":case"source":case"link":Ge("error",s),Ge("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in l)if(l.hasOwnProperty(K)&&(c=l[K],c!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:ct(s,a,K,c,l,null)}return;default:if(nh(a)){for(ce in l)l.hasOwnProperty(ce)&&(c=l[ce],c!==void 0&&Vv(s,a,ce,c,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(c=l[k],c!=null&&ct(s,a,k,c,l,null))}function bM(s,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,A=null,k=null,B=null,K=null,ce=null;for(le in l){var fe=l[le];if(l.hasOwnProperty(le)&&fe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":B=fe;default:c.hasOwnProperty(le)||ct(s,a,le,null,c,fe)}}for(var Z in c){var le=c[Z];if(fe=l[Z],c.hasOwnProperty(Z)&&(le!=null||fe!=null))switch(Z){case"type":y=le;break;case"name":m=le;break;case"checked":K=le;break;case"defaultChecked":ce=le;break;case"value":A=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:le!==fe&&ct(s,a,Z,le,c,fe)}}ca(s,A,k,B,K,ce,y,m);return;case"select":le=A=k=Z=null;for(y in l)if(B=l[y],l.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":le=B;default:c.hasOwnProperty(y)||ct(s,a,y,null,c,B)}for(m in c)if(y=c[m],B=l[m],c.hasOwnProperty(m)&&(y!=null||B!=null))switch(m){case"value":Z=y;break;case"defaultValue":k=y;break;case"multiple":A=y;default:y!==B&&ct(s,a,m,y,c,B)}a=k,l=A,c=le,Z!=null?Ze(s,!!l,Z,!1):!!c!=!!l&&(a!=null?Ze(s,!!l,a,!0):Ze(s,!!l,l?[]:"",!1));return;case"textarea":le=Z=null;for(k in l)if(m=l[k],l.hasOwnProperty(k)&&m!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ct(s,a,k,null,c,m)}for(A in c)if(m=c[A],y=l[A],c.hasOwnProperty(A)&&(m!=null||y!=null))switch(A){case"value":Z=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&ct(s,a,A,m,c,y)}So(s,Z,le);return;case"option":for(var Ie in l)if(Z=l[Ie],l.hasOwnProperty(Ie)&&Z!=null&&!c.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:ct(s,a,Ie,null,c,Z)}for(B in c)if(Z=c[B],le=l[B],c.hasOwnProperty(B)&&Z!==le&&(Z!=null||le!=null))switch(B){case"selected":s.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ct(s,a,B,Z,c,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in l)Z=l[Ne],l.hasOwnProperty(Ne)&&Z!=null&&!c.hasOwnProperty(Ne)&&ct(s,a,Ne,null,c,Z);for(K in c)if(Z=c[K],le=l[K],c.hasOwnProperty(K)&&Z!==le&&(Z!=null||le!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,a));break;default:ct(s,a,K,Z,c,le)}return;default:if(nh(a)){for(var Bt in l)Z=l[Bt],l.hasOwnProperty(Bt)&&Z!==void 0&&!c.hasOwnProperty(Bt)&&Vv(s,a,Bt,void 0,c,Z);for(ce in c)Z=c[ce],le=l[ce],!c.hasOwnProperty(ce)||Z===le||Z===void 0&&le===void 0||Vv(s,a,ce,Z,c,le);return}}for(var Q in l)Z=l[Q],l.hasOwnProperty(Q)&&Z!=null&&!c.hasOwnProperty(Q)&&ct(s,a,Q,null,c,Z);for(fe in c)Z=c[fe],le=l[fe],!c.hasOwnProperty(fe)||Z===le||Z==null&&le==null||ct(s,a,fe,Z,c,le)}var Lv=null,Uv=null;function sm(s){return s.nodeType===9?s:s.ownerDocument}function zA(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qA(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Fv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bv=null;function TM(){var s=window.event;return s&&s.type==="popstate"?s===Bv?!1:(Bv=s,!0):(Bv=null,!1)}var HA=typeof setTimeout=="function"?setTimeout:void 0,SM=typeof clearTimeout=="function"?clearTimeout:void 0,$A=typeof Promise=="function"?Promise:void 0,AM=typeof queueMicrotask=="function"?queueMicrotask:typeof $A<"u"?function(s){return $A.resolve(null).then(s).catch(IM)}:HA;function IM(s){setTimeout(function(){throw s})}function jv(s,a){var l=a,c=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(c===0){s.removeChild(m),Wh(a);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=m}while(l);Wh(a)}function zv(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":zv(l),wo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function RM(s,a,l,c){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[sa])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==m.rel||s.getAttribute("href")!==(m.href==null?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=ci(s.nextSibling),s===null)break}return null}function CM(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=ci(s.nextSibling),s===null))return null;return s}function ci(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}function GA(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return s;a--}else l==="/$"&&a++}s=s.previousSibling}return null}function KA(s,a,l){switch(a=sm(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}var Yr=new Map,WA=new Set;function am(s){return typeof s.getRootNode=="function"?s.getRootNode():s.ownerDocument}var Rs=ye.d;ye.d={f:PM,r:OM,D:xM,C:DM,L:kM,m:NM,X:VM,S:MM,M:LM};function PM(){var s=Rs.f(),a=Jp();return s||a}function OM(s){var a=ss(s);a!==null&&a.tag===5&&a.type==="form"?wS(a):Rs.r(s)}var Su=typeof document>"u"?null:document;function QA(s,a,l){var c=Su;if(c&&typeof a=="string"&&a){var m=Lt(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),WA.has(m)||(WA.add(m),s={rel:s,crossOrigin:l,href:a},c.querySelector(m)===null&&(a=c.createElement("link"),On(a,"link",s),Pt(a),c.head.appendChild(a)))}}function xM(s){Rs.D(s),QA("dns-prefetch",s,null)}function DM(s,a){Rs.C(s,a),QA("preconnect",s,a)}function kM(s,a,l){Rs.L(s,a,l);var c=Su;if(c&&s&&a){var m='link[rel="preload"][as="'+Lt(a)+'"]';a==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Lt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Lt(l.imageSizes)+'"]')):m+='[href="'+Lt(s)+'"]';var y=m;switch(a){case"style":y=Au(s);break;case"script":y=Iu(s)}Yr.has(y)||(s=w({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),Yr.set(y,s),c.querySelector(m)!==null||a==="style"&&c.querySelector(jh(y))||a==="script"&&c.querySelector(zh(y))||(a=c.createElement("link"),On(a,"link",s),Pt(a),c.head.appendChild(a)))}}function NM(s,a){Rs.m(s,a);var l=Su;if(l&&s){var c=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Lt(c)+'"][href="'+Lt(s)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Iu(s)}if(!Yr.has(y)&&(s=w({rel:"modulepreload",href:s},a),Yr.set(y,s),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(zh(y)))return}c=l.createElement("link"),On(c,"link",s),Pt(c),l.head.appendChild(c)}}}function MM(s,a,l){Rs.S(s,a,l);var c=Su;if(c&&s){var m=oa(c).hoistableStyles,y=Au(s);a=a||"default";var A=m.get(y);if(!A){var k={loading:0,preload:null};if(A=c.querySelector(jh(y)))k.loading=5;else{s=w({rel:"stylesheet",href:s,"data-precedence":a},l),(l=Yr.get(y))&&qv(s,l);var B=A=c.createElement("link");Pt(B),On(B,"link",s),B._p=new Promise(function(K,ce){B.onload=K,B.onerror=ce}),B.addEventListener("load",function(){k.loading|=1}),B.addEventListener("error",function(){k.loading|=2}),k.loading|=4,om(A,a,c)}A={type:"stylesheet",instance:A,count:1,state:k},m.set(y,A)}}}function VM(s,a){Rs.X(s,a);var l=Su;if(l&&s){var c=oa(l).hoistableScripts,m=Iu(s),y=c.get(m);y||(y=l.querySelector(zh(m)),y||(s=w({src:s,async:!0},a),(a=Yr.get(m))&&Hv(s,a),y=l.createElement("script"),Pt(y),On(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function LM(s,a){Rs.M(s,a);var l=Su;if(l&&s){var c=oa(l).hoistableScripts,m=Iu(s),y=c.get(m);y||(y=l.querySelector(zh(m)),y||(s=w({src:s,async:!0,type:"module"},a),(a=Yr.get(m))&&Hv(s,a),y=l.createElement("script"),Pt(y),On(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function YA(s,a,l,c){var m=(m=at.current)?am(m):null;if(!m)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Au(l.href),l=oa(m).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Au(l.href);var y=oa(m).hoistableStyles,A=y.get(s);if(A||(m=m.ownerDocument||m,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,A),(y=m.querySelector(jh(s)))&&!y._p&&(A.instance=y,A.state.loading=5),Yr.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Yr.set(s,l),y||UM(m,s,l,A.state))),a&&c===null)throw Error(r(528,""));return A}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Iu(l),l=oa(m).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Au(s){return'href="'+Lt(s)+'"'}function jh(s){return'link[rel="stylesheet"]['+s+"]"}function XA(s){return w({},s,{"data-precedence":s.precedence,precedence:null})}function UM(s,a,l,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),On(a,"link",l),Pt(a),s.head.appendChild(a))}function Iu(s){return'[src="'+Lt(s)+'"]'}function zh(s){return"script[async]"+s}function JA(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+Lt(l.href)+'"]');if(c)return a.instance=c,Pt(c),c;var m=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),Pt(c),On(c,"style",m),om(c,l.precedence,s),a.instance=c;case"stylesheet":m=Au(l.href);var y=s.querySelector(jh(m));if(y)return a.state.loading|=4,a.instance=y,Pt(y),y;c=XA(l),(m=Yr.get(m))&&qv(c,m),y=(s.ownerDocument||s).createElement("link"),Pt(y);var A=y;return A._p=new Promise(function(k,B){A.onload=k,A.onerror=B}),On(y,"link",c),a.state.loading|=4,om(y,l.precedence,s),a.instance=y;case"script":return y=Iu(l.src),(m=s.querySelector(zh(y)))?(a.instance=m,Pt(m),m):(c=l,(m=Yr.get(y))&&(c=w({},l),Hv(c,m)),s=s.ownerDocument||s,m=s.createElement("script"),Pt(m),On(m,"link",c),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&!(a.state.loading&4)&&(c=a.instance,a.state.loading|=4,om(c,l.precedence,s));return a.instance}function om(s,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,A=0;A<c.length;A++){var k=c[A];if(k.dataset.precedence===a)y=k;else if(y!==m)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function qv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Hv(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var lm=null;function ZA(s,a,l){if(lm===null){var c=new Map,m=lm=new Map;m.set(l,c)}else m=lm,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(s))return c;for(c.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var y=l[m];if(!(y[sa]||y[yn]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var A=y.getAttribute(a)||"";A=s+A;var k=c.get(A);k?k.push(y):c.set(A,[y])}}return c}function eI(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function FM(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function tI(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}var qh=null;function BM(){}function jM(s,a,l){if(qh===null)throw Error(r(475));var c=qh;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var m=Au(l.href),y=s.querySelector(jh(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=um.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=y,Pt(y);return}y=s.ownerDocument||s,l=XA(l),(m=Yr.get(m))&&qv(l,m),y=y.createElement("link"),Pt(y);var A=y;A._p=new Promise(function(k,B){A.onload=k,A.onerror=B}),On(y,"link",l),a.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&!(a.state.loading&3)&&(c.count++,a=um.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function zM(){if(qh===null)throw Error(r(475));var s=qh;return s.stylesheets&&s.count===0&&$v(s,s.stylesheets),0<s.count?function(a){var l=setTimeout(function(){if(s.stylesheets&&$v(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(l)}}:null}function um(){if(this.count--,this.count===0){if(this.stylesheets)$v(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var cm=null;function $v(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,cm=new Map,a.forEach(qM,s),cm=null,um.call(s))}function qM(s,a){if(!(a.state.loading&4)){var l=cm.get(s);if(l)var c=l.get(null);else{l=new Map,cm.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var A=m[y];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(l.set(A.dataset.precedence,A),c=A)}c&&l.set(null,c)}m=a.instance,A=m.getAttribute("data-precedence"),y=l.get(A)||c,y===c&&l.set(null,m),l.set(A,m),this.count++,c=um.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Hh={$$typeof:b,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function HM(s,a,l,c,m,y,A,k){this.tag=1,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=jl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jl(0),this.hiddenUpdates=jl(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function nI(s,a,l,c,m,y,A,k,B,K,ce,fe){return s=new HM(s,a,l,A,k,B,K,fe),a=1,y===!0&&(a|=24),y=Wr(3,null,null,a),s.current=y,y.stateNode=s,a=T_(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:c,isDehydrated:l,cache:a},rv(y),s}function rI(s){return s?(s=iu,s):iu}function iI(s,a,l,c,m,y){m=rI(m),c.context===null?c.context=m:c.pendingContext=m,c=Ea(a),c.payload={element:l},y=y===void 0?null:y,y!==null&&(c.callback=y),l=wa(s,c,a),l!==null&&(Jn(l,s,a),Rh(l,s,a))}function sI(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function Gv(s,a){sI(s,a),(s=s.alternate)&&sI(s,a)}function aI(s){if(s.tag===13){var a=fa(s,67108864);a!==null&&Jn(a,s,67108864),Gv(s,67108864)}}var hm=!0;function $M(s,a,l,c){var m=R.T;R.T=null;var y=ye.p;try{ye.p=2,Kv(s,a,l,c)}finally{ye.p=y,R.T=m}}function GM(s,a,l,c){var m=R.T;R.T=null;var y=ye.p;try{ye.p=8,Kv(s,a,l,c)}finally{ye.p=y,R.T=m}}function Kv(s,a,l,c){if(hm){var m=Wv(c);if(m===null)Mv(s,a,c,dm,l),lI(s,c);else if(WM(m,s,a,l,c))c.stopPropagation();else if(lI(s,c),a&4&&-1<KM.indexOf(s)){for(;m!==null;){var y=ss(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var A=si(y.pendingLanes);if(A!==0){var k=y;for(k.pendingLanes|=2,k.entangledLanes|=2;A;){var B=1<<31-Wn(A);k.entanglements[1]|=B,A&=~B}ki(y),!(xt&6)&&(Qp=ar()+500,Uh(0))}}break;case 13:k=fa(y,2),k!==null&&Jn(k,y,2),Jp(),Gv(y,2)}if(y=Wv(c),y===null&&Mv(s,a,c,dm,l),y===m)break;m=y}m!==null&&c.stopPropagation()}else Mv(s,a,c,null,l)}}function Wv(s){return s=Gl(s),Qv(s)}var dm=null;function Qv(s){if(dm=null,s=ai(s),s!==null){var a=ue(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=Te(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return dm=s,null}function oI(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xf()){case ln:return 2;case gn:return 8;case rs:case Jf:return 32;case Gc:return 268435456;default:return 32}default:return 32}}var Yv=!1,Ca=null,Pa=null,Oa=null,$h=new Map,Gh=new Map,xa=[],KM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lI(s,a){switch(s){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":$h.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gh.delete(a.pointerId)}}function Kh(s,a,l,c,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},a!==null&&(a=ss(a),a!==null&&aI(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function WM(s,a,l,c,m){switch(a){case"focusin":return Ca=Kh(Ca,s,a,l,c,m),!0;case"dragenter":return Pa=Kh(Pa,s,a,l,c,m),!0;case"mouseover":return Oa=Kh(Oa,s,a,l,c,m),!0;case"pointerover":var y=m.pointerId;return $h.set(y,Kh($h.get(y)||null,s,a,l,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Gh.set(y,Kh(Gh.get(y)||null,s,a,l,c,m)),!0}return!1}function uI(s){var a=ai(s.target);if(a!==null){var l=ue(a);if(l!==null){if(a=l.tag,a===13){if(a=Te(l),a!==null){s.blockedOn=a,ia(s.priority,function(){if(l.tag===13){var c=br(),m=fa(l,c);m!==null&&Jn(m,l,c),Gv(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function fm(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Wv(s.nativeEvent);if(l===null){l=s.nativeEvent;var c=new l.constructor(l.type,l);Ur=c,l.target.dispatchEvent(c),Ur=null}else return a=ss(l),a!==null&&aI(a),s.blockedOn=l,!1;a.shift()}return!0}function cI(s,a,l){fm(s)&&l.delete(a)}function QM(){Yv=!1,Ca!==null&&fm(Ca)&&(Ca=null),Pa!==null&&fm(Pa)&&(Pa=null),Oa!==null&&fm(Oa)&&(Oa=null),$h.forEach(cI),Gh.forEach(cI)}function pm(s,a){s.blockedOn===a&&(s.blockedOn=null,Yv||(Yv=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,QM)))}var mm=null;function hI(s){mm!==s&&(mm=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){mm===s&&(mm=null);for(var a=0;a<s.length;a+=3){var l=s[a],c=s[a+1],m=s[a+2];if(typeof c!="function"){if(Qv(c||l)===null)continue;break}var y=ss(l);y!==null&&(s.splice(a,3),a-=3,F_(y,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Wh(s){function a(B){return pm(B,s)}Ca!==null&&pm(Ca,s),Pa!==null&&pm(Pa,s),Oa!==null&&pm(Oa,s),$h.forEach(a),Gh.forEach(a);for(var l=0;l<xa.length;l++){var c=xa[l];c.blockedOn===s&&(c.blockedOn=null)}for(;0<xa.length&&(l=xa[0],l.blockedOn===null);)uI(l),l.blockedOn===null&&xa.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],y=l[c+1],A=m[un]||null;if(typeof y=="function")A||hI(l);else if(A){var k=null;if(y&&y.hasAttribute("formAction")){if(m=y,A=y[un]||null)k=A.formAction;else if(Qv(m)!==null)continue}else k=A.action;typeof k=="function"?l[c+1]=k:(l.splice(c,3),c-=3),hI(l)}}}function Xv(s){this._internalRoot=s}gm.prototype.render=Xv.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=br();iI(l,c,s,a,null,null)},gm.prototype.unmount=Xv.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;s.tag===0&&wu(),iI(s.current,2,null,s,null,null),Jp(),a[is]=null}};function gm(s){this._internalRoot=s}gm.prototype.unstable_scheduleHydration=function(s){if(s){var a=rp();s={blockedOn:null,target:s,priority:a};for(var l=0;l<xa.length&&a!==0&&a<xa[l].priority;l++);xa.splice(l,0,s),l===0&&uI(s)}};var dI=e.version;if(dI!=="19.0.0")throw Error(r(527,dI,"19.0.0"));ye.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=ae(a),s=s!==null?we(s):null,s=s===null?null:s.stateNode,s};var YM={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:R,findFiberByHostInstance:ai,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ym=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ym.isDisabled&&ym.supportsFiber)try{Js=ym.inject(YM),Fn=ym}catch{}}return Yh.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,c="",m=PS,y=OS,A=xS,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(k=a.unstable_transitionCallbacks)),a=nI(s,1,!1,null,null,l,c,m,y,A,k,null),s[is]=a.current,Nv(s.nodeType===8?s.parentNode:s),new Xv(a)},Yh.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var c=!1,m="",y=PS,A=OS,k=xS,B=null,K=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(A=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(K=l.formState)),a=nI(s,1,!0,a,l??null,c,m,y,A,k,B,K),a.context=rI(null),l=a.current,c=br(),m=Ea(c),m.callback=null,wa(l,m,c),a.current.lanes=c,Gt(a,c),ki(a),s[is]=a.current,Nv(s),new gm(a)},Yh.version="19.0.0",Yh}var bI;function oV(){if(bI)return e0.exports;bI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),e0.exports=aV(),e0.exports}var lV=oV(),Xh={},TI;function uV(){if(TI)return Xh;TI=1,Object.defineProperty(Xh,"__esModule",{value:!0}),Xh.parse=u,Xh.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,b){const T=new o,I=v.length;if(I<2)return T;const O=(b==null?void 0:b.decode)||g;let L=0;do{const V=v.indexOf("=",L);if(V===-1)break;const U=v.indexOf(";",L),$=U===-1?I:U;if(V>$){L=v.lastIndexOf(";",V-1)+1;continue}const j=h(v,L,V),H=d(v,V,j),M=v.slice(j,H);if(T[M]===void 0){let C=h(v,V+1,$),R=d(v,$,C);const w=O(v.slice(C,R));T[M]=w}L=$+1}while(L<I);return T}function h(v,b,T){do{const I=v.charCodeAt(b);if(I!==32&&I!==9)return b}while(++b<T);return T}function d(v,b,T){for(;b>T;){const I=v.charCodeAt(--b);if(I!==32&&I!==9)return b+1}return T}function f(v,b,T){const I=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(v))throw new TypeError(`argument name is invalid: ${v}`);const O=I(b);if(!e.test(O))throw new TypeError(`argument val is invalid: ${b}`);let L=v+"="+O;if(!T)return L;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);L+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);L+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);L+="; Path="+T.path}if(T.expires){if(!_(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);L+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(L+="; HttpOnly"),T.secure&&(L+="; Secure"),T.partitioned&&(L+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return L}function g(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function _(v){return i.call(v)==="[object Date]"}return Xh}uV();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SI="popstate";function cV(n={}){function e(i,o){let{pathname:u="/",search:h="",hash:d=""}=kl(i.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),z0("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let u=i.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=i.location.href,f=d.indexOf("#");h=f===-1?d:d.slice(0,f)}return h+"#"+(typeof o=="string"?o:Hd(o))}function r(i,o){pi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return dV(e,t,r,n)}function kt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function pi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hV(){return Math.random().toString(36).substring(2,10)}function AI(n,e){return{usr:n.state,key:n.key,idx:e}}function z0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?kl(e):e,state:t,key:e&&e.key||r||hV()}}function Hd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function kl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function dV(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h="POP",d=null,f=g();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function g(){return(u.state||{idx:null}).idx}function _(){h="POP";let O=g(),L=O==null?null:O-f;f=O,d&&d({action:h,location:I.location,delta:L})}function v(O,L){h="PUSH";let V=z0(I.location,O,L);t&&t(V,O),f=g()+1;let U=AI(V,f),$=I.createHref(V);try{u.pushState(U,"",$)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign($)}o&&d&&d({action:h,location:I.location,delta:1})}function b(O,L){h="REPLACE";let V=z0(I.location,O,L);t&&t(V,O),f=g();let U=AI(V,f),$=I.createHref(V);u.replaceState(U,"",$),o&&d&&d({action:h,location:I.location,delta:0})}function T(O){let L=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof O=="string"?O:Hd(O);return V=V.replace(/ $/,"%20"),kt(L,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,L)}let I={get action(){return h},get location(){return n(i,u)},listen(O){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(SI,_),d=O,()=>{i.removeEventListener(SI,_),d=null}},createHref(O){return e(i,O)},createURL:T,encodeLocation(O){let L=T(O);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:v,replace:b,go(O){return u.go(O)}};return I}function aP(n,e,t="/"){return fV(n,e,t,!1)}function fV(n,e,t,r){let i=typeof e=="string"?kl(e):e,o=Wa(i.pathname||"/",t);if(o==null)return null;let u=oP(n);pV(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let f=AV(o);h=TV(u[d],f,r)}return h}function oP(n,e=[],t=[],r=""){let i=(o,u,h)=>{let d={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};d.relativePath.startsWith("/")&&(kt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=Ms([r,d.relativePath]),g=t.concat(d);o.children&&o.children.length>0&&(kt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),oP(o.children,e,g,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:wV(f,o.index),routesMeta:g})};return n.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let d of lP(o.path))i(o,u,d)}),e}function lP(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=lP(r.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function pV(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:bV(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var mV=/^:[\w-]+$/,gV=3,yV=2,_V=1,vV=10,EV=-2,II=n=>n==="*";function wV(n,e){let t=n.split("/"),r=t.length;return t.some(II)&&(r+=EV),e&&(r+=yV),t.filter(i=>!II(i)).reduce((i,o)=>i+(mV.test(o)?gV:o===""?_V:vV),r)}function bV(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function TV(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],f=h===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=og({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},g),v=d.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=og({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:Ms([o,_.pathname]),pathnameBase:PV(Ms([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=Ms([o,_.pathnameBase]))}return u}function og(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=SV(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:_},v)=>{if(g==="*"){let T=h[v]||"";u=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const b=h[v];return _&&!b?f[g]=void 0:f[g]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:n}}function SV(n,e=!1,t=!0){pi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function AV(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Wa(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function IV(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?kl(n):n;return{pathname:t?t.startsWith("/")?t:RV(t,e):e,search:OV(r),hash:xV(i)}}function RV(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function i0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CV(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function uP(n){let e=CV(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function cP(n,e,t,r=!1){let i;typeof n=="string"?i=kl(n):(i={...n},kt(!i.pathname||!i.pathname.includes("?"),i0("?","pathname","search",i)),kt(!i.pathname||!i.pathname.includes("#"),i0("#","pathname","hash",i)),kt(!i.search||!i.search.includes("#"),i0("#","search","hash",i)));let o=n===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),_-=1;i.pathname=v.join("/")}h=_>=0?e[_]:"/"}let d=IV(i,h),f=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(f||g)&&(d.pathname+="/"),d}var Ms=n=>n.join("/").replace(/\/\/+/g,"/"),PV=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OV=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,xV=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function DV(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var hP=["POST","PUT","PATCH","DELETE"];new Set(hP);var kV=["GET",...hP];new Set(kV);var Ic=W.createContext(null);Ic.displayName="DataRouter";var $g=W.createContext(null);$g.displayName="DataRouterState";var dP=W.createContext({isTransitioning:!1});dP.displayName="ViewTransition";var NV=W.createContext(new Map);NV.displayName="Fetchers";var MV=W.createContext(null);MV.displayName="Await";var ts=W.createContext(null);ts.displayName="Navigation";var vf=W.createContext(null);vf.displayName="Location";var ns=W.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var ZE=W.createContext(null);ZE.displayName="RouteError";function VV(n,{relative:e}={}){kt(Ef(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(ts),{hash:i,pathname:o,search:u}=wf(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Ms([t,o])),r.createHref({pathname:h,search:u,hash:i})}function Ef(){return W.useContext(vf)!=null}function co(){return kt(Ef(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(vf).location}var fP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pP(n){W.useContext(ts).static||W.useLayoutEffect(n)}function Gg(){let{isDataRoute:n}=W.useContext(ns);return n?QV():LV()}function LV(){kt(Ef(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(Ic),{basename:e,navigator:t}=W.useContext(ts),{matches:r}=W.useContext(ns),{pathname:i}=co(),o=JSON.stringify(uP(r)),u=W.useRef(!1);return pP(()=>{u.current=!0}),W.useCallback((d,f={})=>{if(pi(u.current,fP),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=cP(d,JSON.parse(o),i,f.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ms([e,g.pathname])),(f.replace?t.replace:t.push)(g,f.state,f)},[e,t,o,i,n])}W.createContext(null);function mP(){let{matches:n}=W.useContext(ns),e=n[n.length-1];return e?e.params:{}}function wf(n,{relative:e}={}){let{matches:t}=W.useContext(ns),{pathname:r}=co(),i=JSON.stringify(uP(t));return W.useMemo(()=>cP(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function UV(n,e){return gP(n,e)}function gP(n,e,t,r){var V;kt(Ef(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=W.useContext(ts),{matches:u}=W.useContext(ns),h=u[u.length-1],d=h?h.params:{},f=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let U=_&&_.path||"";yP(f,!_||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let v=co(),b;if(e){let U=typeof e=="string"?kl(e):e;kt(g==="/"||((V=U.pathname)==null?void 0:V.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${U.pathname}" was given in the \`location\` prop.`),b=U}else b=v;let T=b.pathname||"/",I=T;if(g!=="/"){let U=g.replace(/^\//,"").split("/");I="/"+T.replace(/^\//,"").split("/").slice(U.length).join("/")}let O=!o&&t&&t.matches&&t.matches.length>0?t.matches:aP(n,{pathname:I});pi(_||O!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),pi(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=qV(O&&O.map(U=>Object.assign({},U,{params:Object.assign({},d,U.params),pathname:Ms([g,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?g:Ms([g,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),u,t,r);return e&&L?W.createElement(vf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},L):L}function FV(){let n=WV(),e=DV(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,u)}var BV=W.createElement(FV,null),jV=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?W.createElement(ns.Provider,{value:this.props.routeContext},W.createElement(ZE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function zV({routeContext:n,match:e,children:t}){let r=W.useContext(Ic);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(ns.Provider,{value:n},t)}function qV(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);kt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let u=!1,h=-1;if(t)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=d),f.route.id){let{loaderData:g,errors:_}=t,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||v){u=!0,h>=0?i=i.slice(0,h+1):i=[i[0]];break}}}return i.reduceRight((d,f,g)=>{let _,v=!1,b=null,T=null;t&&(_=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||BV,u&&(h<0&&g===0?(yP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,T=null):h===g&&(v=!0,T=f.route.hydrateFallbackElement||null)));let I=e.concat(i.slice(0,g+1)),O=()=>{let L;return _?L=b:v?L=T:f.route.Component?L=W.createElement(f.route.Component,null):f.route.element?L=f.route.element:L=d,W.createElement(zV,{match:f,routeContext:{outlet:d,matches:I,isDataRoute:t!=null},children:L})};return t&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?W.createElement(jV,{location:t.location,revalidation:t.revalidation,component:b,error:_,children:O(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):O()},null)}function ew(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HV(n){let e=W.useContext(Ic);return kt(e,ew(n)),e}function $V(n){let e=W.useContext($g);return kt(e,ew(n)),e}function GV(n){let e=W.useContext(ns);return kt(e,ew(n)),e}function tw(n){let e=GV(n),t=e.matches[e.matches.length-1];return kt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function KV(){return tw("useRouteId")}function WV(){var r;let n=W.useContext(ZE),e=$V("useRouteError"),t=tw("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function QV(){let{router:n}=HV("useNavigate"),e=tw("useNavigate"),t=W.useRef(!1);return pP(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{pi(t.current,fP),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var RI={};function yP(n,e,t){!e&&!RI[n]&&(RI[n]=!0,pi(!1,t))}W.memo(YV);function YV({routes:n,future:e,state:t}){return gP(n,void 0,t,e)}function Ua(n){kt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XV({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){kt(!Ef(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:u,navigator:i,static:o,future:{}}),[u,i,o]);typeof t=="string"&&(t=kl(t));let{pathname:d="/",search:f="",hash:g="",state:_=null,key:v="default"}=t,b=W.useMemo(()=>{let T=Wa(d,u);return T==null?null:{location:{pathname:T,search:f,hash:g,state:_,key:v},navigationType:r}},[u,d,f,g,_,v,r]);return pi(b!=null,`<Router basename="${u}"> is not able to match the URL "${d}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:W.createElement(ts.Provider,{value:h},W.createElement(vf.Provider,{children:e,value:b}))}function JV({children:n,location:e}){return UV(q0(n),e)}function q0(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,q0(r.props.children,o));return}kt(r.type===Ua,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=q0(r.props.children,o)),t.push(u)}),t}var Mm="get",Vm="application/x-www-form-urlencoded";function Kg(n){return n!=null&&typeof n.tagName=="string"}function ZV(n){return Kg(n)&&n.tagName.toLowerCase()==="button"}function eL(n){return Kg(n)&&n.tagName.toLowerCase()==="form"}function tL(n){return Kg(n)&&n.tagName.toLowerCase()==="input"}function nL(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function rL(n,e){return n.button===0&&(!e||e==="_self")&&!nL(n)}var _m=null;function iL(){if(_m===null)try{new FormData(document.createElement("form"),0),_m=!1}catch{_m=!0}return _m}var sL=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function s0(n){return n!=null&&!sL.has(n)?(pi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Vm}"`),null):n}function aL(n,e){let t,r,i,o,u;if(eL(n)){let h=n.getAttribute("action");r=h?Wa(h,e):null,t=n.getAttribute("method")||Mm,i=s0(n.getAttribute("enctype"))||Vm,o=new FormData(n)}else if(ZV(n)||tL(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?Wa(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Mm,i=s0(n.getAttribute("formenctype"))||s0(h.getAttribute("enctype"))||Vm,o=new FormData(h,n),!iL()){let{name:f,type:g,value:_}=n;if(g==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(Kg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mm,r=null,i=Vm,u=n}return o&&i==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:u}}function nw(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function oL(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lL(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function uL(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let u=await oL(o,t);return u.links?u.links():[]}return[]}));return fL(r.flat(1).filter(lL).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function CI(n,e,t,r,i,o){let u=(d,f)=>t[f]?d.route.id!==t[f].route.id:!0,h=(d,f)=>{var g;return t[f].pathname!==d.pathname||((g=t[f].route.path)==null?void 0:g.endsWith("*"))&&t[f].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,f)=>u(d,f)||h(d,f)):o==="data"?e.filter((d,f)=>{var _;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let v=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function cL(n,e,{includeHydrateFallback:t}={}){return hL(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function hL(n){return[...new Set(n)]}function dL(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function fL(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(dL(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function pL(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function mL(){let n=W.useContext(Ic);return nw(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function gL(){let n=W.useContext($g);return nw(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var rw=W.createContext(void 0);rw.displayName="FrameworkContext";function _P(){let n=W.useContext(rw);return nw(n,"You must render this element inside a <HydratedRouter> element"),n}function yL(n,e){let t=W.useContext(rw),[r,i]=W.useState(!1),[o,u]=W.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:g,onTouchStart:_}=e,v=W.useRef(null);W.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let I=L=>{L.forEach(V=>{u(V.isIntersecting)})},O=new IntersectionObserver(I,{threshold:.5});return v.current&&O.observe(v.current),()=>{O.disconnect()}}},[n]),W.useEffect(()=>{if(r){let I=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(I)}}},[r]);let b=()=>{i(!0)},T=()=>{i(!1),u(!1)};return t?n!=="intent"?[o,v,{}]:[o,v,{onFocus:Jh(h,b),onBlur:Jh(d,T),onMouseEnter:Jh(f,b),onMouseLeave:Jh(g,T),onTouchStart:Jh(_,b)}]:[!1,v,{}]}function Jh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function _L({page:n,...e}){let{router:t}=mL(),r=W.useMemo(()=>aP(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(EL,{page:n,matches:r,...e}):null}function vL(n){let{manifest:e,routeModules:t}=_P(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return uL(n,e,t).then(u=>{o||i(u)}),()=>{o=!0}},[n,e,t]),r}function EL({page:n,matches:e,...t}){let r=co(),{manifest:i,routeModules:o}=_P(),{loaderData:u,matches:h}=gL(),d=W.useMemo(()=>CI(n,e,h,i,r,"data"),[n,e,h,i,r]),f=W.useMemo(()=>CI(n,e,h,i,r,"assets"),[n,e,h,i,r]),g=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,T=!1;if(e.forEach(O=>{var V;let L=i.routes[O.route.id];!L||!L.hasLoader||(!d.some(U=>U.route.id===O.route.id)&&O.route.id in u&&((V=o[O.route.id])!=null&&V.shouldRevalidate)||L.hasClientLoader?T=!0:b.add(O.route.id))}),b.size===0)return[];let I=pL(n);return T&&b.size>0&&I.searchParams.set("_routes",e.filter(O=>b.has(O.route.id)).map(O=>O.route.id).join(",")),[I.pathname+I.search]},[u,r,i,d,e,n,o]),_=W.useMemo(()=>cL(f,i),[f,i]),v=vL(f);return W.createElement(W.Fragment,null,g.map(b=>W.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),_.map(b=>W.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),v.map(({key:b,link:T})=>W.createElement("link",{key:b,...T})))}function wL(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var vP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{vP&&(window.__reactRouterVersion="7.2.0")}catch{}function bL({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=cV({window:t,v5Compat:!0}));let i=r.current,[o,u]=W.useState({action:i.action,location:i.location}),h=W.useCallback(d=>{W.startTransition(()=>u(d))},[u]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(XV,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var EP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fi=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:u,state:h,target:d,to:f,preventScrollReset:g,viewTransition:_,...v},b){let{basename:T}=W.useContext(ts),I=typeof f=="string"&&EP.test(f),O,L=!1;if(typeof f=="string"&&I&&(O=f,vP))try{let R=new URL(window.location.href),w=f.startsWith("//")?new URL(R.protocol+f):new URL(f),P=Wa(w.pathname,T);w.origin===R.origin&&P!=null?f=P+w.search+w.hash:L=!0}catch{pi(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=VV(f,{relative:i}),[U,$,j]=yL(r,v),H=IL(f,{replace:u,state:h,target:d,preventScrollReset:g,relative:i,viewTransition:_});function M(R){e&&e(R),R.defaultPrevented||H(R)}let C=W.createElement("a",{...v,...j,href:O||V,onClick:L||o?e:M,ref:wL(b,$),target:d,"data-discover":!I&&t==="render"?"true":void 0});return U&&!I?W.createElement(W.Fragment,null,C,W.createElement(_L,{page:V})):C});fi.displayName="Link";var TL=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:u,viewTransition:h,children:d,...f},g){let _=wf(u,{relative:f.relative}),v=co(),b=W.useContext($g),{navigator:T,basename:I}=W.useContext(ts),O=b!=null&&xL(_)&&h===!0,L=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,V=v.pathname,U=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(V=V.toLowerCase(),U=U?U.toLowerCase():null,L=L.toLowerCase()),U&&I&&(U=Wa(U,I)||U);const $=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let j=V===L||!i&&V.startsWith(L)&&V.charAt($)==="/",H=U!=null&&(U===L||!i&&U.startsWith(L)&&U.charAt(L.length)==="/"),M={isActive:j,isPending:H,isTransitioning:O},C=j?e:void 0,R;typeof r=="function"?R=r(M):R=[r,j?"active":null,H?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let w=typeof o=="function"?o(M):o;return W.createElement(fi,{...f,"aria-current":C,className:R,ref:g,style:w,to:u,viewTransition:h},typeof d=="function"?d(M):d)});TL.displayName="NavLink";var SL=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:u=Mm,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:_,...v},b)=>{let T=PL(),I=OL(h,{relative:f}),O=u.toLowerCase()==="get"?"get":"post",L=typeof h=="string"&&EP.test(h),V=U=>{if(d&&d(U),U.defaultPrevented)return;U.preventDefault();let $=U.nativeEvent.submitter,j=($==null?void 0:$.getAttribute("formmethod"))||u;T($||U.currentTarget,{fetcherKey:e,method:j,navigate:t,replace:i,state:o,relative:f,preventScrollReset:g,viewTransition:_})};return W.createElement("form",{ref:b,method:O,action:I,onSubmit:r?d:V,...v,"data-discover":!L&&n==="render"?"true":void 0})});SL.displayName="Form";function AL(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wP(n){let e=W.useContext(Ic);return kt(e,AL(n)),e}function IL(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:u}={}){let h=Gg(),d=co(),f=wf(n,{relative:o});return W.useCallback(g=>{if(rL(g,e)){g.preventDefault();let _=t!==void 0?t:Hd(d)===Hd(f);h(n,{replace:_,state:r,preventScrollReset:i,relative:o,viewTransition:u})}},[d,h,f,t,r,e,n,i,o,u])}var RL=0,CL=()=>`__${String(++RL)}__`;function PL(){let{router:n}=wP("useSubmit"),{basename:e}=W.useContext(ts),t=KV();return W.useCallback(async(r,i={})=>{let{action:o,method:u,encType:h,formData:d,body:f}=aL(r,e);if(i.navigate===!1){let g=i.fetcherKey||CL();await n.fetch(g,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||u,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function OL(n,{relative:e}={}){let{basename:t}=W.useContext(ts),r=W.useContext(ns);kt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...wf(n||".",{relative:e})},u=co();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let g=h.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Ms([t,o.pathname])),Hd(o)}function xL(n,e={}){let t=W.useContext(dP);kt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wP("useViewTransitionState"),i=wf(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=Wa(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Wa(t.nextLocation.pathname,r)||t.nextLocation.pathname;return og(i.pathname,u)!=null||og(i.pathname,o)!=null}new TextEncoder;var bP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PI=Ke.createContext&&Ke.createContext(bP),DL=["attr","size","title"];function kL(n,e){if(n==null)return{};var t=NL(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function NL(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function lg(){return lg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lg.apply(this,arguments)}function OI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ug(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(t),!0).forEach(function(r){ML(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ML(n,e,t){return e=VL(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VL(n){var e=LL(n,"string");return typeof e=="symbol"?e:e+""}function LL(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function TP(n){return n&&n.map((e,t)=>Ke.createElement(e.tag,ug({key:t},e.attr),TP(e.child)))}function Rc(n){return e=>Ke.createElement(UL,lg({attr:ug({},n.attr)},e),TP(n.child))}function UL(n){var e=t=>{var{attr:r,size:i,title:o}=n,u=kL(n,DL),h=i||t.size||"1em",d;return t.className&&(d=t.className),n.className&&(d=(d?d+" ":"")+n.className),Ke.createElement("svg",lg({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,u,{className:d,style:ug(ug({color:n.color||t.color},t.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&Ke.createElement("title",null,o),n.children)};return PI!==void 0?Ke.createElement(PI.Consumer,null,t=>e(t)):e(bP)}function FL(n){return Rc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M515.664-.368C305.76-.368 128 178.4 128 390.176c0 221.76 206.032 448.544 344.624 607.936.528.64 22.929 25.52 50.528 25.52h2.449c27.6 0 49.84-24.88 50.399-25.52 130.064-149.52 320-396.048 320-607.936C896 178.4 757.344-.368 515.664-.368zm12.832 955.552c-1.12 1.12-2.753 2.369-4.193 3.409-1.472-1.008-3.072-2.288-4.255-3.408l-16.737-19.248C371.92 785.2 192 578.785 192 390.176c0-177.008 148.224-326.56 323.664-326.56 218.528 0 316.336 164 316.336 326.56 0 143.184-102.128 333.296-303.504 565.008zm-15.377-761.776c-106.032 0-192 85.968-192 192s85.968 192 192 192 192-85.968 192-192-85.968-192-192-192zm0 320c-70.576 0-129.473-58.816-129.473-129.408 0-70.576 57.424-128 128-128 70.624 0 128 57.424 128 128 .032 70.592-55.903 129.408-126.527 129.408z"},child:[]}]})(n)}function BL(n){return Rc({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"},child:[]}]})(n)}function jL(n){return Rc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z"},child:[]},{tag:"circle",attr:{cx:"10.5",cy:"19.5",r:"1.5"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"19.5",r:"1.5"},child:[]}]})(n)}const zL="_fixed_kx5rz_9",qL="_header__container_kx5rz_327",HL="_logo__container_kx5rz_397",$L="_delivery_kx5rz_71",GL="_search_kx5rz_105",KL="_order__container_kx5rz_545",WL="_language_kx5rz_201",QL="_cart_kx5rz_241",YL="_lower__container_kx5rz_339",Ps={fixed:zL,header__container:qL,logo__container:HL,delivery:$L,search:GL,order__container:KL,language:WL,cart:QL,lower__container:YL};function XL(n){return Rc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"},child:[]}]})(n)}function JL(){return q.jsx("div",{className:Ps.lower__container,children:q.jsxs("ul",{children:[q.jsxs("li",{children:[q.jsx(XL,{}),q.jsx("p",{children:"All"})]}),q.jsx("li",{children:"Today's Deal"}),q.jsx("li",{children:"Customer Service"}),q.jsx("li",{children:"Registry"}),q.jsx("li",{children:"Gift Cards"}),q.jsx("li",{children:"Sell"})]})})}const Hs=W.createContext(),ZL=({children:n,reducer:e,initialState:t})=>q.jsx(Hs.Provider,{value:W.useReducer(e,t),children:n}),eU=()=>{};var xI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},tU=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],u=n[t++],h=n[t++],d=((i&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|u&63)}}return e.join("")},AP={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],u=i+1<n.length,h=u?n[i+1]:0,d=i+2<n.length,f=d?n[i+2]:0,g=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|f>>6,b=f&63;d||(b=64,u||(v=64)),r.push(t[g],t[_],t[v],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(SP(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):tU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||f==null||_==null)throw new nU;const v=o<<2|h>>4;if(r.push(v),f!==64){const b=h<<4&240|f>>2;if(r.push(b),_!==64){const T=f<<6&192|_;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rU=function(n){const e=SP(n);return AP.encodeByteArray(e,!0)},cg=function(n){return rU(n).replace(/\./g,"")},iw=function(n){try{return AP.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hg(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!iU(t)||(n[t]=hg(n[t],e[t]));return n}function iU(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=()=>IP().__FIREBASE_DEFAULTS__,aU=()=>{if(typeof process>"u"||typeof xI>"u")return;const n=xI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&iw(n[1]);return e&&JSON.parse(e)},sw=()=>{try{return eU()||sU()||aU()||oU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},RP=()=>{var n;return(n=sw())===null||n===void 0?void 0:n.config},lU=n=>{var e;return(e=sw())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cg(JSON.stringify(t)),cg(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hU(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function aw(){var n;const e=(n=sw())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dU(){return typeof window<"u"||CP()}function CP(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function fU(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Wg(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ow(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PP(){const n=Mt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function OP(){return!aw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gl(){try{return typeof indexedDB=="object"}catch{return!1}}function lw(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function xP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="FirebaseError";class Nn extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=pU,Object.setPrototypeOf(this,Nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$s.prototype.create)}}class $s{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],u=o?mU(o,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new Nn(i,h,r)}}function mU(n,e){return n.replace(gU,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const gU=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function yU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qa(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],u=e[i];if(kI(o)&&kI(u)){if(!Qa(o,u))return!1}else if(o!==u)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function kI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function wd(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function DP(n,e){const t=new _U(n,e);return t.subscribe.bind(t)}class _U{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");vU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=a0),i.error===void 0&&(i.error=a0),i.complete===void 0&&(i.complete=a0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vU(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function a0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=1e3,wU=2,bU=4*60*60*1e3,TU=.5;function NI(n,e=EU,t=wU){const r=e*Math.pow(t,n),i=Math.round(TU*r*(Math.random()-.5)*2);return Math.min(bU,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n){return n&&n._delegate?n._delegate:n}class rr{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new uU;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IU(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&u.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const u=this.instances.get(i);return u&&e(u,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AU(n){return n===Jo?void 0:n}function IU(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SU(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw=[];var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const NP={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},RU=je.INFO,CU={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},PU=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=CU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bf{constructor(e){this.name=e,this._logLevel=RU,this._logHandler=PU,this._userLogHandler=null,uw.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}function OU(n){uw.forEach(e=>{e.setLogLevel(n)})}function xU(n,e){for(const t of uw){let r=null;e&&e.level&&(r=NP[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,o,...u)=>{const h=u.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(r??i.logLevel)&&n({level:je[o].toLowerCase(),message:h,args:u,type:i.name})}}}const DU=(n,e)=>e.some(t=>n instanceof t);let MI,VI;function kU(){return MI||(MI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NU(){return VI||(VI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MP=new WeakMap,H0=new WeakMap,VP=new WeakMap,o0=new WeakMap,cw=new WeakMap;function MU(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(qa(n.result)),i()},u=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&MP.set(t,n)}).catch(()=>{}),cw.set(e,n),e}function VU(n){if(H0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),i()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});H0.set(n,e)}let $0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return H0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||VP.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qa(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LU(n){$0=n($0)}function UU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(l0(this),e,...t);return VP.set(r,e.sort?e.sort():[e]),qa(r)}:NU().includes(n)?function(...e){return n.apply(l0(this),e),qa(MP.get(this))}:function(...e){return qa(n.apply(l0(this),e))}}function FU(n){return typeof n=="function"?UU(n):(n instanceof IDBTransaction&&VU(n),DU(n,kU())?new Proxy(n,$0):n)}function qa(n){if(n instanceof IDBRequest)return MU(n);if(o0.has(n))return o0.get(n);const e=FU(n);return e!==n&&(o0.set(n,e),cw.set(e,n)),e}const l0=n=>cw.get(n);function LP(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const u=indexedDB.open(n,e),h=qa(u);return r&&u.addEventListener("upgradeneeded",d=>{r(qa(u.result),d.oldVersion,d.newVersion,qa(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const BU=["get","getKey","getAll","getAllKeys","count"],jU=["put","add","delete","clear"],u0=new Map;function LI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(u0.get(e))return u0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=jU.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BU.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(h.shift())),(await Promise.all([f[t](...h),i&&d.done]))[0]};return u0.set(e,o),o}LU(n=>({...n,get:(e,t,r)=>LI(e,t)||n.get(e,t,r),has:(e,t)=>!!LI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qU(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function qU(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dg="@firebase/app",G0="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new bf("@firebase/app"),HU="@firebase/app-compat",$U="@firebase/analytics-compat",GU="@firebase/analytics",KU="@firebase/app-check-compat",WU="@firebase/app-check",QU="@firebase/auth",YU="@firebase/auth-compat",XU="@firebase/database",JU="@firebase/data-connect",ZU="@firebase/database-compat",e4="@firebase/functions",t4="@firebase/functions-compat",n4="@firebase/installations",r4="@firebase/installations-compat",i4="@firebase/messaging",s4="@firebase/messaging-compat",a4="@firebase/performance",o4="@firebase/performance-compat",l4="@firebase/remote-config",u4="@firebase/remote-config-compat",c4="@firebase/storage",h4="@firebase/storage-compat",d4="@firebase/firestore",f4="@firebase/vertexai",p4="@firebase/firestore-compat",m4="firebase",g4="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ya="[DEFAULT]",y4={[dg]:"fire-core",[HU]:"fire-core-compat",[GU]:"fire-analytics",[$U]:"fire-analytics-compat",[WU]:"fire-app-check",[KU]:"fire-app-check-compat",[QU]:"fire-auth",[YU]:"fire-auth-compat",[XU]:"fire-rtdb",[JU]:"fire-data-connect",[ZU]:"fire-rtdb-compat",[e4]:"fire-fn",[t4]:"fire-fn-compat",[n4]:"fire-iid",[r4]:"fire-iid-compat",[i4]:"fire-fcm",[s4]:"fire-fcm-compat",[a4]:"fire-perf",[o4]:"fire-perf-compat",[l4]:"fire-rc",[u4]:"fire-rc-compat",[c4]:"fire-gcs",[h4]:"fire-gcs-compat",[d4]:"fire-fst",[p4]:"fire-fst-compat",[f4]:"fire-vertex","fire-js":"fire-js",[m4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new Map,ec=new Map,tc=new Map;function $d(n,e){try{n.container.addComponent(e)}catch(t){Us.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function UP(n,e){n.container.addOrOverwriteComponent(e)}function ti(n){const e=n.name;if(tc.has(e))return Us.debug(`There were multiple attempts to register component ${e}.`),!1;tc.set(e,n);for(const t of Xa.values())$d(t,n);for(const t of ec.values())$d(t,n);return!0}function Qg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function _4(n,e,t=Ya){Qg(n,e).clearInstance(t)}function FP(n){return n.options!==void 0}function Tt(n){return n==null?!1:n.settings!==void 0}function v4(){tc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ei=new $s("app","Firebase",E4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BP=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ei.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(n,e){const t=iw(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(t).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class w4 extends BP{constructor(e,t,r,i){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!1,u={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,i);else{const h=e;super(h.options,u,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},t),this._serverConfig.authIdToken&&UI(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&UI(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,tr(dg,G0,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){dw(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ei.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho=g4;function hw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ya,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ei.create("bad-app-name",{appName:String(i)});if(t||(t=RP()),!t)throw ei.create("no-options");const o=Xa.get(i);if(o){if(Qa(t,o.options)&&Qa(r,o.config))return o;throw ei.create("duplicate-app",{appName:i})}const u=new kP(i);for(const d of tc.values())u.addComponent(d);const h=new BP(t,r,u);return Xa.set(i,h),h}function b4(n,e){if(dU()&&!CP())throw ei.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let t;FP(n)?t=n.options:t=n;const r=Object.assign(Object.assign({},e),t);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=f=>[...f].reduce((g,_)=>Math.imul(31,g)+_.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ei.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),u=ec.get(o);if(u)return u.incRefCount(e.releaseOnDeref),u;const h=new kP(o);for(const f of tc.values())h.addComponent(f);const d=new w4(t,e,o,h);return ec.set(o,d),d}function T4(n=Ya){const e=Xa.get(n);if(!e&&n===Ya&&RP())return hw();if(!e)throw ei.create("no-app",{appName:n});return e}function S4(){return Array.from(Xa.values())}async function dw(n){let e=!1;const t=n.name;Xa.has(t)?(e=!0,Xa.delete(t)):ec.has(t)&&n.decRefCount()<=0&&(ec.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(r=>r.delete())),n.isDeleted=!0)}function tr(n,e,t){var r;let i=(r=y4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${i}" with version "${e}":`];o&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Us.warn(h.join(" "));return}ti(new rr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function jP(n,e){if(n!==null&&typeof n!="function")throw ei.create("invalid-log-argument");xU(n,e)}function zP(n){OU(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="firebase-heartbeat-database",I4=1,Gd="firebase-heartbeat-store";let c0=null;function qP(){return c0||(c0=LP(A4,I4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gd)}catch(t){console.warn(t)}}}}).catch(n=>{throw ei.create("idb-open",{originalErrorMessage:n.message})})),c0}async function R4(n){try{const t=(await qP()).transaction(Gd),r=await t.objectStore(Gd).get(HP(n));return await t.done,r}catch(e){if(e instanceof Nn)Us.warn(e.message);else{const t=ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Us.warn(t.message)}}}async function FI(n,e){try{const r=(await qP()).transaction(Gd,"readwrite");await r.objectStore(Gd).put(e,HP(n)),await r.done}catch(t){if(t instanceof Nn)Us.warn(t.message);else{const r=ei.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Us.warn(r.message)}}}function HP(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=1024,P4=30;class O4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new D4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=BI();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>P4){const u=k4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=BI(),{heartbeatsToSend:r,unsentEntries:i}=x4(this._heartbeatsCache.heartbeats),o=cg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Us.warn(t),""}}}function BI(){return new Date().toISOString().substring(0,10)}function x4(n,e=C4){const t=[];let r=n.slice();for(const i of n){const o=t.find(u=>u.agent===i.agent);if(o){if(o.dates.push(i.date),jI(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),jI(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class D4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gl()?lw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await R4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return FI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return FI(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jI(n){return cg(JSON.stringify({version:2,heartbeats:n})).length}function k4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(n){ti(new rr("platform-logger",e=>new zU(e),"PRIVATE")),ti(new rr("heartbeat",e=>new O4(e),"PRIVATE")),tr(dg,G0,n),tr(dg,G0,"esm2017"),tr("fire-js","")}N4("");const M4=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Nn,SDK_VERSION:ho,_DEFAULT_ENTRY_NAME:Ya,_addComponent:$d,_addOrOverwriteComponent:UP,_apps:Xa,_clearComponents:v4,_components:tc,_getProvider:Qg,_isFirebaseApp:FP,_isFirebaseServerApp:Tt,_registerComponent:ti,_removeServiceInstance:_4,_serverApps:ec,deleteApp:dw,getApp:T4,getApps:S4,initializeApp:hw,initializeServerApp:b4,onLog:jP,registerVersion:tr,setLogLevel:zP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e,t){this._delegate=e,this.firebase=t,$d(e,new rr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),dw(this._delegate)))}_getService(e,t=Ya){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Ya){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){$d(this._delegate,e)}_addOrOverwriteComponent(e){UP(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},zI=new $s("app-compat","Firebase",L4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(n){const e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:tr,setLogLevel:zP,onLog:jP,apps:null,SDK_VERSION:ho,INTERNAL:{registerComponent:h,removeApp:r,useAsService:d,modularAPIs:M4}};t.default=t,Object.defineProperty(t,"apps",{get:u});function r(f){delete e[f]}function i(f){if(f=f||Ya,!DI(e,f))throw zI.create("no-app",{appName:f});return e[f]}i.App=n;function o(f,g={}){const _=hw(f,g);if(DI(e,_.name))return e[_.name];const v=new n(_,t);return e[_.name]=v,v}function u(){return Object.keys(e).map(f=>e[f])}function h(f){const g=f.name,_=g.replace("-compat","");if(ti(f)&&f.type==="PUBLIC"){const v=(b=i())=>{if(typeof b[_]!="function")throw zI.create("invalid-app-argument",{appName:g});return b[_]()};f.serviceProps!==void 0&&hg(v,f.serviceProps),t[_]=v,n.prototype[_]=function(...b){return this._getService.bind(this,g).apply(this,f.multipleInstances?b:[])}}return f.type==="PUBLIC"?t[_]:null}function d(f,g){return g==="serverAuth"?null:g}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){const n=U4(V4);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:$P,extendNamespace:e,createSubscribe:DP,ErrorFactory:$s,deepExtend:hg});function e(t){hg(n,t)}return n}const F4=$P();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=new bf("@firebase/app-compat"),B4="@firebase/app-compat",j4="0.2.51";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n){tr(B4,j4,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=IP();if(n.firebase!==void 0){qI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&qI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const gi=F4;z4();var q4="firebase",H4="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gi.registerVersion(q4,H4,"app-compat");var HI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ha,GP;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function R(){}R.prototype=C.prototype,M.D=C.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(w,P,x){for(var D=Array(arguments.length-2),te=2;te<arguments.length;te++)D[te-2]=arguments[te];return C.prototype[P].apply(w,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(M,C,R){R||(R=0);var w=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)w[P]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(P=0;16>P;++P)w[P]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=M.g[0],R=M.g[1],P=M.g[2];var x=M.g[3],D=C+(x^R&(P^x))+w[0]+3614090360&4294967295;C=R+(D<<7&4294967295|D>>>25),D=x+(P^C&(R^P))+w[1]+3905402710&4294967295,x=C+(D<<12&4294967295|D>>>20),D=P+(R^x&(C^R))+w[2]+606105819&4294967295,P=x+(D<<17&4294967295|D>>>15),D=R+(C^P&(x^C))+w[3]+3250441966&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(x^R&(P^x))+w[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=x+(P^C&(R^P))+w[5]+1200080426&4294967295,x=C+(D<<12&4294967295|D>>>20),D=P+(R^x&(C^R))+w[6]+2821735955&4294967295,P=x+(D<<17&4294967295|D>>>15),D=R+(C^P&(x^C))+w[7]+4249261313&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(x^R&(P^x))+w[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=x+(P^C&(R^P))+w[9]+2336552879&4294967295,x=C+(D<<12&4294967295|D>>>20),D=P+(R^x&(C^R))+w[10]+4294925233&4294967295,P=x+(D<<17&4294967295|D>>>15),D=R+(C^P&(x^C))+w[11]+2304563134&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(x^R&(P^x))+w[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=x+(P^C&(R^P))+w[13]+4254626195&4294967295,x=C+(D<<12&4294967295|D>>>20),D=P+(R^x&(C^R))+w[14]+2792965006&4294967295,P=x+(D<<17&4294967295|D>>>15),D=R+(C^P&(x^C))+w[15]+1236535329&4294967295,R=P+(D<<22&4294967295|D>>>10),D=C+(P^x&(R^P))+w[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=x+(R^P&(C^R))+w[6]+3225465664&4294967295,x=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(x^C))+w[11]+643717713&4294967295,P=x+(D<<14&4294967295|D>>>18),D=R+(x^C&(P^x))+w[0]+3921069994&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(P^x&(R^P))+w[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=x+(R^P&(C^R))+w[10]+38016083&4294967295,x=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(x^C))+w[15]+3634488961&4294967295,P=x+(D<<14&4294967295|D>>>18),D=R+(x^C&(P^x))+w[4]+3889429448&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(P^x&(R^P))+w[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=x+(R^P&(C^R))+w[14]+3275163606&4294967295,x=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(x^C))+w[3]+4107603335&4294967295,P=x+(D<<14&4294967295|D>>>18),D=R+(x^C&(P^x))+w[8]+1163531501&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(P^x&(R^P))+w[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=x+(R^P&(C^R))+w[2]+4243563512&4294967295,x=C+(D<<9&4294967295|D>>>23),D=P+(C^R&(x^C))+w[7]+1735328473&4294967295,P=x+(D<<14&4294967295|D>>>18),D=R+(x^C&(P^x))+w[12]+2368359562&4294967295,R=P+(D<<20&4294967295|D>>>12),D=C+(R^P^x)+w[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=x+(C^R^P)+w[8]+2272392833&4294967295,x=C+(D<<11&4294967295|D>>>21),D=P+(x^C^R)+w[11]+1839030562&4294967295,P=x+(D<<16&4294967295|D>>>16),D=R+(P^x^C)+w[14]+4259657740&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(R^P^x)+w[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=x+(C^R^P)+w[4]+1272893353&4294967295,x=C+(D<<11&4294967295|D>>>21),D=P+(x^C^R)+w[7]+4139469664&4294967295,P=x+(D<<16&4294967295|D>>>16),D=R+(P^x^C)+w[10]+3200236656&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(R^P^x)+w[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=x+(C^R^P)+w[0]+3936430074&4294967295,x=C+(D<<11&4294967295|D>>>21),D=P+(x^C^R)+w[3]+3572445317&4294967295,P=x+(D<<16&4294967295|D>>>16),D=R+(P^x^C)+w[6]+76029189&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(R^P^x)+w[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=x+(C^R^P)+w[12]+3873151461&4294967295,x=C+(D<<11&4294967295|D>>>21),D=P+(x^C^R)+w[15]+530742520&4294967295,P=x+(D<<16&4294967295|D>>>16),D=R+(P^x^C)+w[2]+3299628645&4294967295,R=P+(D<<23&4294967295|D>>>9),D=C+(P^(R|~x))+w[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=x+(R^(C|~P))+w[7]+1126891415&4294967295,x=C+(D<<10&4294967295|D>>>22),D=P+(C^(x|~R))+w[14]+2878612391&4294967295,P=x+(D<<15&4294967295|D>>>17),D=R+(x^(P|~C))+w[5]+4237533241&4294967295,R=P+(D<<21&4294967295|D>>>11),D=C+(P^(R|~x))+w[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=x+(R^(C|~P))+w[3]+2399980690&4294967295,x=C+(D<<10&4294967295|D>>>22),D=P+(C^(x|~R))+w[10]+4293915773&4294967295,P=x+(D<<15&4294967295|D>>>17),D=R+(x^(P|~C))+w[1]+2240044497&4294967295,R=P+(D<<21&4294967295|D>>>11),D=C+(P^(R|~x))+w[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=x+(R^(C|~P))+w[15]+4264355552&4294967295,x=C+(D<<10&4294967295|D>>>22),D=P+(C^(x|~R))+w[6]+2734768916&4294967295,P=x+(D<<15&4294967295|D>>>17),D=R+(x^(P|~C))+w[13]+1309151649&4294967295,R=P+(D<<21&4294967295|D>>>11),D=C+(P^(R|~x))+w[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=x+(R^(C|~P))+w[11]+3174756917&4294967295,x=C+(D<<10&4294967295|D>>>22),D=P+(C^(x|~R))+w[2]+718787259&4294967295,P=x+(D<<15&4294967295|D>>>17),D=R+(x^(P|~C))+w[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+P&4294967295,M.g[3]=M.g[3]+x&4294967295}r.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var R=C-this.blockSize,w=this.B,P=this.h,x=0;x<C;){if(P==0)for(;x<=R;)i(this,M,x),x+=this.blockSize;if(typeof M=="string"){for(;x<C;)if(w[P++]=M.charCodeAt(x++),P==this.blockSize){i(this,w),P=0;break}}else for(;x<C;)if(w[P++]=M[x++],P==this.blockSize){i(this,w),P=0;break}}this.h=P,this.o+=C},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var R=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=R&255,R/=256;for(this.u(M),M=Array(16),C=R=0;4>C;++C)for(var w=0;32>w;w+=8)M[R++]=this.g[C]>>>w&255;return M};function o(M,C){var R=h;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=C(M)}function u(M,C){this.h=C;for(var R=[],w=!0,P=M.length-1;0<=P;P--){var x=M[P]|0;w&&x==C||(R[P]=x,w=!1)}this.g=R}var h={};function d(M){return-128<=M&&128>M?o(M,function(C){return new u([C|0],0>C?-1:0)}):new u([M|0],0>M?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return O(f(-M));for(var C=[],R=1,w=0;M>=R;w++)C[w]=M/R|0,R*=4294967296;return new u(C,0)}function g(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return O(g(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(C,8)),w=_,P=0;P<M.length;P+=8){var x=Math.min(8,M.length-P),D=parseInt(M.substring(P,P+x),C);8>x?(x=f(Math.pow(C,x)),w=w.j(x).add(f(D))):(w=w.j(R),w=w.add(f(D)))}return w}var _=d(0),v=d(1),b=d(16777216);n=u.prototype,n.m=function(){if(I(this))return-O(this).m();for(var M=0,C=1,R=0;R<this.g.length;R++){var w=this.i(R);M+=(0<=w?w:4294967296+w)*C,C*=4294967296}return M},n.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(T(this))return"0";if(I(this))return"-"+O(this).toString(M);for(var C=f(Math.pow(M,6)),R=this,w="";;){var P=$(R,C).g;R=L(R,P.j(C));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=P,T(R))return x+w;for(;6>x.length;)x="0"+x;w=x+w}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function T(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function I(M){return M.h==-1}n.l=function(M){return M=L(this,M),I(M)?-1:T(M)?0:1};function O(M){for(var C=M.g.length,R=[],w=0;w<C;w++)R[w]=~M.g[w];return new u(R,~M.h).add(v)}n.abs=function(){return I(this)?O(this):this},n.add=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],w=0,P=0;P<=C;P++){var x=w+(this.i(P)&65535)+(M.i(P)&65535),D=(x>>>16)+(this.i(P)>>>16)+(M.i(P)>>>16);w=D>>>16,x&=65535,D&=65535,R[P]=D<<16|x}return new u(R,R[R.length-1]&-2147483648?-1:0)};function L(M,C){return M.add(O(C))}n.j=function(M){if(T(this)||T(M))return _;if(I(this))return I(M)?O(this).j(O(M)):O(O(this).j(M));if(I(M))return O(this.j(O(M)));if(0>this.l(b)&&0>M.l(b))return f(this.m()*M.m());for(var C=this.g.length+M.g.length,R=[],w=0;w<2*C;w++)R[w]=0;for(w=0;w<this.g.length;w++)for(var P=0;P<M.g.length;P++){var x=this.i(w)>>>16,D=this.i(w)&65535,te=M.i(P)>>>16,F=M.i(P)&65535;R[2*w+2*P]+=D*F,V(R,2*w+2*P),R[2*w+2*P+1]+=x*F,V(R,2*w+2*P+1),R[2*w+2*P+1]+=D*te,V(R,2*w+2*P+1),R[2*w+2*P+2]+=x*te,V(R,2*w+2*P+2)}for(w=0;w<C;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=C;w<2*C;w++)R[w]=0;return new u(R,0)};function V(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function U(M,C){this.g=M,this.h=C}function $(M,C){if(T(C))throw Error("division by zero");if(T(M))return new U(_,_);if(I(M))return C=$(O(M),C),new U(O(C.g),O(C.h));if(I(C))return C=$(M,O(C)),new U(O(C.g),C.h);if(30<M.g.length){if(I(M)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var R=v,w=C;0>=w.l(M);)R=j(R),w=j(w);var P=H(R,1),x=H(w,1);for(w=H(w,2),R=H(R,2);!T(w);){var D=x.add(w);0>=D.l(M)&&(P=P.add(R),x=D),w=H(w,1),R=H(R,1)}return C=L(M,P.j(C)),new U(P,C)}for(P=_;0<=M.l(C);){for(R=Math.max(1,Math.floor(M.m()/C.m())),w=Math.ceil(Math.log(R)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),x=f(R),D=x.j(C);I(D)||0<D.l(M);)R-=w,x=f(R),D=x.j(C);T(x)&&(x=v),P=P.add(x),M=L(M,D)}return new U(P,M)}n.A=function(M){return $(this,M).h},n.and=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],w=0;w<C;w++)R[w]=this.i(w)&M.i(w);return new u(R,this.h&M.h)},n.or=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],w=0;w<C;w++)R[w]=this.i(w)|M.i(w);return new u(R,this.h|M.h)},n.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),R=[],w=0;w<C;w++)R[w]=this.i(w)^M.i(w);return new u(R,this.h^M.h)};function j(M){for(var C=M.g.length+1,R=[],w=0;w<C;w++)R[w]=M.i(w)<<1|M.i(w-1)>>>31;return new u(R,M.h)}function H(M,C){var R=C>>5;C%=32;for(var w=M.g.length-R,P=[],x=0;x<w;x++)P[x]=0<C?M.i(x+R)>>>C|M.i(x+R+1)<<32-C:M.i(x+R);return new u(P,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,GP=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=g,Ha=u}).apply(typeof HI<"u"?HI:typeof self<"u"?self:typeof window<"u"?window:{});var vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KP,bd,WP,Lm,K0,QP,YP,XP;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(p,E,S){return p==Array.prototype||p==Object.prototype||(p[E]=S.value),p};function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof vm=="object"&&vm];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var N=0;N<p.length-1;N++){var Y=p[N];if(!(Y in S))break e;S=S[Y]}p=p[p.length-1],N=S[p],E=E(N),E!=N&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}function o(p,E){p instanceof String&&(p+="");var S=0,N=!1,Y={next:function(){if(!N&&S<p.length){var re=S++;return{value:E(re,p[re]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}i("Array.prototype.values",function(p){return p||function(){return o(this,function(E,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(p){var E=typeof p;return E=E!="object"?E:p?Array.isArray(p)?"array":E:"null",E=="array"||E=="object"&&typeof p.length=="number"}function f(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function g(p,E,S){return p.call.apply(p.bind,arguments)}function _(p,E,S){if(!p)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,N),p.apply(E,Y)}}return function(){return p.apply(E,arguments)}}function v(p,E,S){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,v.apply(null,arguments)}function b(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),p.apply(this,N)}}function T(p,E){function S(){}S.prototype=E.prototype,p.aa=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Qb=function(N,Y,re){for(var ge=Array(arguments.length-2),We=2;We<arguments.length;We++)ge[We-2]=arguments[We];return E.prototype[Y].apply(N,ge)}}function I(p){const E=p.length;if(0<E){const S=Array(E);for(let N=0;N<E;N++)S[N]=p[N];return S}return[]}function O(p,E){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(d(N)){const Y=p.length||0,re=N.length||0;p.length=Y+re;for(let ge=0;ge<re;ge++)p[Y+ge]=N[ge]}else p.push(N)}}class L{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function V(p){return/^[\s\xa0]*$/.test(p)}function U(){var p=h.navigator;return p&&(p=p.userAgent)?p:""}function $(p){return $[" "](p),p}$[" "]=function(){};var j=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function H(p,E,S){for(const N in p)E.call(S,p[N],N,p)}function M(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function C(p){const E={};for(const S in p)E[S]=p[S];return E}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(p,E){let S,N;for(let Y=1;Y<arguments.length;Y++){N=arguments[Y];for(S in N)p[S]=N[S];for(let re=0;re<R.length;re++)S=R[re],Object.prototype.hasOwnProperty.call(N,S)&&(p[S]=N[S])}}function P(p){var E=1;p=p.split(":");const S=[];for(;0<E&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function x(p){h.setTimeout(()=>{throw p},0)}function D(){var p=Te;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class te{constructor(){this.h=this.g=null}add(E,S){const N=F.get();N.set(E,S),this.h?this.h.next=N:this.g=N,this.h=N}}var F=new L(()=>new ee,p=>p.reset());class ee{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ue=!1,Te=new te,z=()=>{const p=h.Promise.resolve(void 0);ie=()=>{p.then(ae)}};var ae=()=>{for(var p;p=D();){try{p.h.call(p.g)}catch(S){x(S)}var E=F;E.j(p),100>E.h&&(E.h++,p.next=E.g,E.g=p)}ue=!1};function we(){this.s=this.s,this.C=this.C}we.prototype.s=!1,we.prototype.ma=function(){this.s||(this.s=!0,this.N())},we.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};h.addEventListener("test",S,E),h.removeEventListener("test",S,E)}catch{}return p}();function xe(p,E){if(ve.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p){var S=this.type=p.type,N=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;if(this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget){if(j){e:{try{$(E.nodeName);var Y=!0;break e}catch{}Y=!1}Y||(E=null)}}else S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement);this.relatedTarget=E,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=typeof p.pointerType=="string"?p.pointerType:De[p.pointerType]||"",this.state=p.state,this.i=p,p.defaultPrevented&&xe.aa.h.call(this)}}T(xe,ve);var De={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),ze=0;function _t(p,E,S,N,Y){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!N,this.ha=Y,this.key=++ze,this.da=this.fa=!1}function $e(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Et(p){this.src=p,this.g={},this.h=0}Et.prototype.add=function(p,E,S,N,Y){var re=p.toString();p=this.g[re],p||(p=this.g[re]=[],this.h++);var ge=at(p,E,N,Y);return-1<ge?(E=p[ge],S||(E.fa=!1)):(E=new _t(E,this.src,re,!!N,Y),E.fa=S,p.push(E)),E};function Je(p,E){var S=E.type;if(S in p.g){var N=p.g[S],Y=Array.prototype.indexOf.call(N,E,void 0),re;(re=0<=Y)&&Array.prototype.splice.call(N,Y,1),re&&($e(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function at(p,E,S,N){for(var Y=0;Y<p.length;++Y){var re=p[Y];if(!re.da&&re.listener==E&&re.capture==!!S&&re.ha==N)return Y}return-1}var Jt="closure_lm_"+(1e6*Math.random()|0),mr={};function Ln(p,E,S,N,Y){if(Array.isArray(E)){for(var re=0;re<E.length;re++)Ln(p,E[re],S,N,Y);return null}return S=Xf(S),p&&p[Ct]?p.K(E,S,f(N)?!!N.capture:!1,Y):Nr(p,E,S,!1,N,Y)}function Nr(p,E,S,N,Y,re){if(!E)throw Error("Invalid event type");var ge=f(Y)?!!Y.capture:!!Y,We=$c(p);if(We||(p[Jt]=We=new Et(p)),S=We.add(E,S,N,ge,re),S.proxy)return S;if(N=Un(),S.proxy=N,N.src=p,N.listener=S,p.addEventListener)ye||(Y=ge),Y===void 0&&(Y=!1),p.addEventListener(E.toString(),N,Y);else if(p.attachEvent)p.attachEvent(Fl(E.toString()),N);else if(p.addListener&&p.removeListener)p.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function Un(){function p(S){return E.call(p.src,p.listener,S)}const E=e_;return p}function sr(p,E,S,N,Y){if(Array.isArray(E))for(var re=0;re<E.length;re++)sr(p,E[re],S,N,Y);else N=f(N)?!!N.capture:!!N,S=Xf(S),p&&p[Ct]?(p=p.i,E=String(E).toString(),E in p.g&&(re=p.g[E],S=at(re,S,N,Y),-1<S&&($e(re[S]),Array.prototype.splice.call(re,S,1),re.length==0&&(delete p.g[E],p.h--)))):p&&(p=$c(p))&&(E=p.g[E.toString()],p=-1,E&&(p=at(E,S,N,Y)),(S=-1<p?E[p]:null)&&ii(S))}function ii(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Ct])Je(E.i,p);else{var S=p.type,N=p.proxy;E.removeEventListener?E.removeEventListener(S,N,p.capture):E.detachEvent?E.detachEvent(Fl(S),N):E.addListener&&E.removeListener&&E.removeListener(N),(S=$c(E))?(Je(S,p),S.h==0&&(S.src=null,E[Jt]=null)):$e(p)}}}function Fl(p){return p in mr?mr[p]:mr[p]="on"+p}function e_(p,E){if(p.da)p=!0;else{E=new xe(E,this);var S=p.listener,N=p.ha||p.src;p.fa&&ii(p),p=S.call(N,E)}return p}function $c(p){return p=p[Jt],p instanceof Et?p:null}var ar="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xf(p){return typeof p=="function"?p:(p[ar]||(p[ar]=function(E){return p.handleEvent(E)}),p[ar])}function ln(){we.call(this),this.i=new Et(this),this.M=this,this.F=null}T(ln,we),ln.prototype[Ct]=!0,ln.prototype.removeEventListener=function(p,E,S,N){sr(this,p,E,S,N)};function gn(p,E){var S,N=p.F;if(N)for(S=[];N;N=N.F)S.push(N);if(p=p.M,N=E.type||E,typeof E=="string")E=new ve(E,p);else if(E instanceof ve)E.target=E.target||p;else{var Y=E;E=new ve(N,p),w(E,Y)}if(Y=!0,S)for(var re=S.length-1;0<=re;re--){var ge=E.g=S[re];Y=rs(ge,N,!0,E)&&Y}if(ge=E.g=p,Y=rs(ge,N,!0,E)&&Y,Y=rs(ge,N,!1,E)&&Y,S)for(re=0;re<S.length;re++)ge=E.g=S[re],Y=rs(ge,N,!1,E)&&Y}ln.prototype.N=function(){if(ln.aa.N.call(this),this.i){var p=this.i,E;for(E in p.g){for(var S=p.g[E],N=0;N<S.length;N++)$e(S[N]);delete p.g[E],p.h--}}this.F=null},ln.prototype.K=function(p,E,S,N){return this.i.add(String(p),E,!1,S,N)},ln.prototype.L=function(p,E,S,N){return this.i.add(String(p),E,!0,S,N)};function rs(p,E,S,N){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,re=0;re<E.length;++re){var ge=E[re];if(ge&&!ge.da&&ge.capture==S){var We=ge.listener,cn=ge.ha||ge.src;ge.fa&&Je(p.i,ge),Y=We.call(cn,N)!==!1&&Y}}return Y&&!N.defaultPrevented}function Jf(p,E,S){if(typeof p=="function")S&&(p=v(p,S));else if(p&&typeof p.handleEvent=="function")p=v(p.handleEvent,p);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:h.setTimeout(p,E||0)}function Gc(p){p.g=Jf(()=>{p.g=null,p.i&&(p.i=!1,Gc(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class t_ extends we{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Gc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vo(p){we.call(this),this.h=p,this.g={}}T(vo,we);var Js=[];function Fn(p){H(p.g,function(E,S){this.g.hasOwnProperty(S)&&ii(E)},p),p.g={}}vo.prototype.N=function(){vo.aa.N.call(this),Fn(this)},vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kc=h.JSON.stringify,_i=h.JSON.parse,Wn=class{stringify(p){return h.JSON.stringify(p,void 0)}parse(p){return h.JSON.parse(p,void 0)}};function Wc(){}Wc.prototype.h=null;function Zf(p){return p.h||(p.h=p.i())}function ep(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zs(){ve.call(this,"d")}T(Zs,ve);function si(){ve.call(this,"c")}T(si,ve);var Mr={},ea=null;function Bl(){return ea=ea||new ln}Mr.La="serverreachability";function Qc(p){ve.call(this,Mr.La,p)}T(Qc,ve);function ta(p){const E=Bl();gn(E,new Qc(E))}Mr.STAT_EVENT="statevent";function jl(p,E){ve.call(this,Mr.STAT_EVENT,p),this.stat=E}T(jl,ve);function Gt(p){const E=Bl();gn(E,new jl(E,p))}Mr.Ma="timingevent";function tp(p,E){ve.call(this,Mr.Ma,p),this.size=E}T(tp,ve);function na(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){p()},E)}function ra(){this.g=!0}ra.prototype.xa=function(){this.g=!1};function np(p,E,S,N,Y,re){p.info(function(){if(p.g)if(re)for(var ge="",We=re.split("&"),cn=0;cn<We.length;cn++){var Qe=We[cn].split("=");if(1<Qe.length){var vn=Qe[0];Qe=Qe[1];var hn=vn.split("_");ge=2<=hn.length&&hn[1]=="type"?ge+(vn+"="+Qe+"&"):ge+(vn+"=redacted&")}}else ge=null;else ge=re;return"XMLHTTP REQ ("+N+") [attempt "+Y+"]: "+E+`
`+S+`
`+ge})}function rp(p,E,S,N,Y,re,ge){p.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Y+"]: "+E+`
`+S+`
`+re+" "+ge})}function ia(p,E,S,N){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+yn(p,S)+(N?" "+N:"")})}function Ei(p,E){p.info(function(){return"TIMEOUT: "+E})}ra.prototype.info=function(){};function yn(p,E){if(!p.g)return E;if(!E)return null;try{var S=JSON.parse(E);if(S){for(p=0;p<S.length;p++)if(Array.isArray(S[p])){var N=S[p];if(!(2>N.length)){var Y=N[1];if(Array.isArray(Y)&&!(1>Y.length)){var re=Y[0];if(re!="noop"&&re!="stop"&&re!="close")for(var ge=1;ge<Y.length;ge++)Y[ge]=""}}}}return Kc(S)}catch{return E}}var un={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},is={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Eo;function zl(){}T(zl,Wc),zl.prototype.g=function(){return new XMLHttpRequest},zl.prototype.i=function(){return{}},Eo=new zl;function wi(p,E,S,N){this.j=p,this.i=E,this.l=S,this.R=N||1,this.U=new vo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yc}function Yc(){this.i=null,this.g="",this.h=!1}var sa={},wo={};function ai(p,E,S){p.L=1,p.v=So(Lt(E)),p.m=S,p.P=!0,ss(p,null)}function ss(p,E){p.F=Date.now(),Pt(p),p.A=Lt(p.v);var S=p.A,N=p.R;Array.isArray(N)||(N=[String(N)]),ls(S.i,"t",N),p.C=0,S=p.j.J,p.h=new Yc,p.g=yp(p.j,S?E:null,!p.m),0<p.O&&(p.M=new t_(v(p.Y,p,p.g),p.O)),E=p.U,S=p.g,N=p.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Js[0]=Y.toString()),Y=Js);for(var re=0;re<Y.length;re++){var ge=Ln(S,Y[re],N||E.handleEvent,!1,E.h||E);if(!ge)break;E.g[ge.key]=ge}E=p.H?C(p.H):{},p.m?(p.u||(p.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.A,p.u,p.m,E)):(p.u="GET",p.g.ea(p.A,p.u,null,E)),ta(),np(p.i,p.u,p.A,p.l,p.R,p.m)}wi.prototype.ca=function(p){p=p.target;const E=this.M;E&&Br(p)==3?E.j():this.Y(p)},wi.prototype.Y=function(p){try{if(p==this.g)e:{const hn=Br(this.g);var E=this.g.Ba();const ds=this.g.Z();if(!(3>hn)&&(hn!=3||this.g&&(this.h.h||this.g.oa()||up(this.g)))){this.J||hn!=4||E==7||(E==8||0>=ds?ta(3):ta(2)),ql(this);var S=this.g.Z();this.X=S;t:if(aa(this)){var N=up(this.g);p="";var Y=N.length,re=Br(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){or(this),gr(this);var ge="";break t}this.h.i=new h.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,p+=this.h.i.decode(N[E],{stream:!(re&&E==Y-1)});N.length=0,this.h.g+=p,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=S==200,rp(this.i,this.u,this.A,this.l,this.R,hn,S),this.o){if(this.T&&!this.K){t:{if(this.g){var We,cn=this.g;if((We=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(We)){var Qe=We;break t}}Qe=null}if(S=Qe)ia(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yr(this,S);else{this.o=!1,this.s=3,Gt(12),or(this),gr(this);break e}}if(this.P){S=!0;let Rn;for(;!this.J&&this.C<ge.length;)if(Rn=oa(this,ge),Rn==wo){hn==4&&(this.s=4,Gt(14),S=!1),ia(this.i,this.l,null,"[Incomplete Response]");break}else if(Rn==sa){this.s=4,Gt(15),ia(this.i,this.l,ge,"[Invalid Chunk]"),S=!1;break}else ia(this.i,this.l,Rn,null),yr(this,Rn);if(aa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||ge.length!=0||this.h.h||(this.s=1,Gt(16),S=!1),this.o=this.o&&S,!S)ia(this.i,this.l,ge,"[Invalid Chunked Response]"),or(this),gr(this);else if(0<ge.length&&!this.W){this.W=!0;var vn=this.j;vn.g==this&&vn.ba&&!vn.M&&(vn.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),xo(vn),vn.M=!0,Gt(11))}}else ia(this.i,this.l,ge,null),yr(this,ge);hn==4&&or(this),this.o&&!this.J&&(hn==4?pp(this.j,this):(this.o=!1,Pt(this)))}else o_(this.g),S==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),or(this),gr(this)}}}catch{}finally{}};function aa(p){return p.g?p.u=="GET"&&p.L!=2&&p.j.Ca:!1}function oa(p,E){var S=p.C,N=E.indexOf(`
`,S);return N==-1?wo:(S=Number(E.substring(S,N)),isNaN(S)?sa:(N+=1,N+S>E.length?wo:(E=E.slice(N,N+S),p.C=N+S,E)))}wi.prototype.cancel=function(){this.J=!0,or(this)};function Pt(p){p.S=Date.now()+p.I,Xc(p,p.I)}function Xc(p,E){if(p.B!=null)throw Error("WatchDog timer not null");p.B=na(v(p.ba,p),E)}function ql(p){p.B&&(h.clearTimeout(p.B),p.B=null)}wi.prototype.ba=function(){this.B=null;const p=Date.now();0<=p-this.S?(Ei(this.i,this.A),this.L!=2&&(ta(),Gt(17)),or(this),this.s=2,gr(this)):Xc(this,this.S-p)};function gr(p){p.j.G==0||p.J||pp(p.j,p)}function or(p){ql(p);var E=p.M;E&&typeof E.ma=="function"&&E.ma(),p.M=null,Fn(p.U),p.g&&(E=p.g,p.g=null,E.abort(),E.ma())}function yr(p,E){try{var S=p.j;if(S.G!=0&&(S.g==p||la(S.h,p))){if(!p.K&&la(S.h,p)&&S.G==3){try{var N=S.Da.g.parse(E)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Y=N;if(Y[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<p.F)Zl(S),Xl(S);else break e;lh(S),Gt(18)}}else S.za=Y[1],0<S.za-S.T&&37500>Y[2]&&S.F&&S.v==0&&!S.C&&(S.C=na(v(S.Za,S),6e3));if(1>=ip(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else hs(S,11)}else if((p.K||S.g==p)&&Zl(S),!V(E))for(Y=S.Da.g.parse(E),E=0;E<Y.length;E++){let Qe=Y[E];if(S.T=Qe[0],Qe=Qe[1],S.G==2)if(Qe[0]=="c"){S.K=Qe[1],S.ia=Qe[2];const vn=Qe[3];vn!=null&&(S.la=vn,S.j.info("VER="+S.la));const hn=Qe[4];hn!=null&&(S.Aa=hn,S.j.info("SVER="+S.Aa));const ds=Qe[5];ds!=null&&typeof ds=="number"&&0<ds&&(N=1.5*ds,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const Rn=p.g;if(Rn){const Ci=Rn.g?Rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var re=N.h;re.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(ua(re,re.h),re.h=null))}if(N.D){const ch=Rn.g?Rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ch&&(N.ya=ch,Ze(N.I,N.D,ch))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-p.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var ge=p;if(N.qa=gp(N,N.J?N.ia:null,N.W),ge.K){Vr(N.h,ge);var We=ge,cn=N.L;cn&&(We.I=cn),We.B&&(ql(We),Pt(We)),N.g=ge}else dp(N);0<S.i.length&&Jl(S)}else Qe[0]!="stop"&&Qe[0]!="close"||hs(S,7);else S.G==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?hs(S,7):ah(S):Qe[0]!="noop"&&S.l&&S.l.ta(Qe),S.v=0)}}ta(4)}catch{}}var n_=class{constructor(p,E){this.g=p,this.map=E}};function Jc(p){this.l=p||10,h.PerformanceNavigationTiming?(p=h.performance.getEntriesByType("navigation"),p=0<p.length&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zc(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function ip(p){return p.h?1:p.g?p.g.size:0}function la(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function ua(p,E){p.g?p.g.add(E):p.h=E}function Vr(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Jc.prototype.cancel=function(){if(this.i=Qn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Qn(p){if(p.h!=null)return p.i.concat(p.h.D);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.D);return E}return I(p.i)}function sp(p){if(p.V&&typeof p.V=="function")return p.V();if(typeof Map<"u"&&p instanceof Map||typeof Set<"u"&&p instanceof Set)return Array.from(p.values());if(typeof p=="string")return p.split("");if(d(p)){for(var E=[],S=p.length,N=0;N<S;N++)E.push(p[N]);return E}E=[],S=0;for(N in p)E[S++]=p[N];return E}function r_(p){if(p.na&&typeof p.na=="function")return p.na();if(!p.V||typeof p.V!="function"){if(typeof Map<"u"&&p instanceof Map)return Array.from(p.keys());if(!(typeof Set<"u"&&p instanceof Set)){if(d(p)||typeof p=="string"){var E=[];p=p.length;for(var S=0;S<p;S++)E.push(S);return E}E=[],S=0;for(const N in p)E[S++]=N;return E}}}function bo(p,E){if(p.forEach&&typeof p.forEach=="function")p.forEach(E,void 0);else if(d(p)||typeof p=="string")Array.prototype.forEach.call(p,E,void 0);else for(var S=r_(p),N=sp(p),Y=N.length,re=0;re<Y;re++)E.call(void 0,N[re],S&&S[re],p)}var eh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hl(p,E){if(p){p=p.split("&");for(var S=0;S<p.length;S++){var N=p[S].indexOf("="),Y=null;if(0<=N){var re=p[S].substring(0,N);Y=p[S].substring(N+1)}else re=p[S];E(re,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function as(p){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,p instanceof as){this.h=p.h,ca(this,p.j),this.o=p.o,this.g=p.g,To(this,p.s),this.l=p.l;var E=p.i,S=new bi;S.i=E.i,E.g&&(S.g=new Map(E.g),S.h=E.h),$l(this,S),this.m=p.m}else p&&(E=String(p).match(eh))?(this.h=!1,ca(this,E[1]||"",!0),this.o=ha(E[2]||""),this.g=ha(E[3]||"",!0),To(this,E[4]),this.l=ha(E[5]||"",!0),$l(this,E[6]||"",!0),this.m=ha(E[7]||"")):(this.h=!1,this.i=new bi(null,this.h))}as.prototype.toString=function(){var p=[],E=this.j;E&&p.push(Lr(E,th,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Lr(E,th,!0),"@"),p.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&p.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(Lr(S,S.charAt(0)=="/"?nh:ap,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",Lr(S,a_)),p.join("")};function Lt(p){return new as(p)}function ca(p,E,S){p.j=S?ha(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function To(p,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);p.s=E}else p.s=null}function $l(p,E,S){E instanceof bi?(p.i=E,rh(p.i,p.h)):(S||(E=Lr(E,s_)),p.i=new bi(E,p.h))}function Ze(p,E,S){p.i.set(E,S)}function So(p){return Ze(p,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),p}function ha(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Lr(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,i_),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function i_(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var th=/[#\/\?@]/g,ap=/[#\?:]/g,nh=/[#\?]/g,s_=/[#\?@]/g,a_=/#/g;function bi(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Ur(p){p.g||(p.g=new Map,p.h=0,p.i&&Hl(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=bi.prototype,n.add=function(p,E){Ur(this),this.i=null,p=us(this,p);var S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function Gl(p,E){Ur(p),E=us(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function os(p,E){return Ur(p),E=us(p,E),p.g.has(E)}n.forEach=function(p,E){Ur(this),this.g.forEach(function(S,N){S.forEach(function(Y){p.call(E,Y,N,this)},this)},this)},n.na=function(){Ur(this);const p=Array.from(this.g.values()),E=Array.from(this.g.keys()),S=[];for(let N=0;N<E.length;N++){const Y=p[N];for(let re=0;re<Y.length;re++)S.push(E[N])}return S},n.V=function(p){Ur(this);let E=[];if(typeof p=="string")os(this,p)&&(E=E.concat(this.g.get(us(this,p))));else{p=Array.from(this.g.values());for(let S=0;S<p.length;S++)E=E.concat(p[S])}return E},n.set=function(p,E){return Ur(this),this.i=null,p=us(this,p),os(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=this.V(p),0<p.length?String(p[0]):E):E};function ls(p,E,S){Gl(p,E),0<S.length&&(p.i=null,p.g.set(us(p,E),I(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(var S=0;S<E.length;S++){var N=E[S];const re=encodeURIComponent(String(N)),ge=this.V(N);for(N=0;N<ge.length;N++){var Y=re;ge[N]!==""&&(Y+="="+encodeURIComponent(String(ge[N]))),p.push(Y)}}return this.i=p.join("&")};function us(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function rh(p,E){E&&!p.j&&(Ur(p),p.i=null,p.g.forEach(function(S,N){var Y=N.toLowerCase();N!=Y&&(Gl(this,N),ls(this,Y,S))},p)),p.j=E}function op(p,E){const S=new ra;if(h.Image){const N=new Image;N.onload=b(Fr,S,"TestLoadImage: loaded",!0,E,N),N.onerror=b(Fr,S,"TestLoadImage: error",!1,E,N),N.onabort=b(Fr,S,"TestLoadImage: abort",!1,E,N),N.ontimeout=b(Fr,S,"TestLoadImage: timeout",!1,E,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=p}else E(!1)}function Ao(p,E){const S=new ra,N=new AbortController,Y=setTimeout(()=>{N.abort(),Fr(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:N.signal}).then(re=>{clearTimeout(Y),re.ok?Fr(S,"TestPingServer: ok",!0,E):Fr(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),Fr(S,"TestPingServer: error",!1,E)})}function Fr(p,E,S,N,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),N(S)}catch{}}function Io(){this.g=new Wn}function Ti(p,E,S){const N=S||"";try{bo(p,function(Y,re){let ge=Y;f(Y)&&(ge=Kc(Y)),E.push(N+re+"="+encodeURIComponent(ge))})}catch(Y){throw E.push(N+"type="+encodeURIComponent("_badmap")),Y}}function da(p){this.l=p.Ub||null,this.j=p.eb||!1}T(da,Wc),da.prototype.g=function(){return new cs(this.l,this.j)},da.prototype.i=function(p){return function(){return p}}({});function cs(p,E){ln.call(this),this.D=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(cs,ln),n=cs.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=p,this.A=E,this.readyState=1,Ai(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};p&&(E.body=p),(this.D||h).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},n.Sa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ih(this)}else p.text().then(this.Ra.bind(this),this.ga.bind(this))};function ih(p){p.j.read().then(p.Pa.bind(p)).catch(p.ga.bind(p))}n.Pa=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?Si(this):Ai(this),this.readyState==3&&ih(this)}},n.Ra=function(p){this.g&&(this.response=this.responseText=p,Si(this))},n.Qa=function(p){this.g&&(this.response=p,Si(this))},n.ga=function(){this.g&&Si(this)};function Si(p){p.readyState=4,p.l=null,p.j=null,p.v=null,Ai(p)}n.setRequestHeader=function(p,E){this.u.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function Ai(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function sh(p){let E="";return H(p,function(S,N){E+=N,E+=":",E+=S,E+=`\r
`}),E}function _n(p,E,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=sh(S),typeof p=="string"?S!=null&&encodeURIComponent(String(S)):Ze(p,E,S))}function st(p){ln.call(this),this.headers=new Map,this.o=p||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(st,ln);var Kl=/^https?$/i,Ro=["POST","PUT"];n=st.prototype,n.Ha=function(p){this.J=p},n.ea=function(p,E,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Eo.g(),this.v=this.o?Zf(this.o):Zf(Eo),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(re){lp(this,re);return}if(p=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Y in N)S.set(Y,N[Y]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const re of N.keys())S.set(re,N.get(re));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(re=>re.toLowerCase()=="content-type"),Y=h.FormData&&p instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ro,E,void 0))||N||Y||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of S)this.g.setRequestHeader(re,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Co(this),this.u=!0,this.g.send(p),this.u=!1}catch(re){lp(this,re)}};function lp(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.m=5,Wl(p),Ii(p)}function Wl(p){p.A||(p.A=!0,gn(p,"complete"),gn(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=p||7,gn(this,"complete"),gn(this,"abort"),Ii(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ql(this):this.bb())},n.bb=function(){Ql(this)};function Ql(p){if(p.h&&typeof u<"u"&&(!p.v[1]||Br(p)!=4||p.Z()!=2)){if(p.u&&Br(p)==4)Jf(p.Ea,0,p);else if(gn(p,"readystatechange"),Br(p)==4){p.h=!1;try{const ge=p.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var N;if(N=ge===0){var Y=String(p.D).match(eh)[1]||null;!Y&&h.self&&h.self.location&&(Y=h.self.location.protocol.slice(0,-1)),N=!Kl.test(Y?Y.toLowerCase():"")}S=N}if(S)gn(p,"complete"),gn(p,"success");else{p.m=6;try{var re=2<Br(p)?p.g.statusText:""}catch{re=""}p.l=re+" ["+p.Z()+"]",Wl(p)}}finally{Ii(p)}}}}function Ii(p,E){if(p.g){Co(p);const S=p.g,N=p.v[0]?()=>{}:null;p.g=null,p.v=null,E||gn(p,"ready");try{S.onreadystatechange=N}catch{}}}function Co(p){p.I&&(h.clearTimeout(p.I),p.I=null)}n.isActive=function(){return!!this.g};function Br(p){return p.g?p.g.readyState:0}n.Z=function(){try{return 2<Br(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),_i(E)}};function up(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.H){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function o_(p){const E={};p=(p.g&&2<=Br(p)&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<p.length;N++){if(V(p[N]))continue;var S=P(p[N]);const Y=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const re=E[Y]||[];E[Y]=re,re.push(S)}M(E,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function Yl(p){this.Aa=0,this.i=[],this.j=new ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,p),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,p),this.cb=Po("retryDelaySeedMs",1e4,p),this.Wa=Po("forwardChannelMaxRetries",2,p),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,p),this.pa=p&&p.xmlHttpFactory||void 0,this.Xa=p&&p.Tb||void 0,this.Ca=p&&p.useFetchStreams||!1,this.L=void 0,this.J=p&&p.supportsCrossDomainXhr||!1,this.K="",this.h=new Jc(p&&p.concurrentRequestLimit),this.Da=new Io,this.P=p&&p.fastHandshake||!1,this.O=p&&p.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=p&&p.Rb||!1,p&&p.xa&&this.j.xa(),p&&p.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&p&&p.detectBufferingProxy||!1,this.ja=void 0,p&&p.longPollingTimeout&&0<p.longPollingTimeout&&(this.ja=p.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Yl.prototype,n.la=8,n.G=1,n.connect=function(p,E,S,N){Gt(0),this.W=p,this.H=E||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=gp(this,null,this.W),Jl(this)};function ah(p){if(cp(p),p.G==3){var E=p.U++,S=Lt(p.I);if(Ze(S,"SID",p.K),Ze(S,"RID",E),Ze(S,"TYPE","terminate"),Oo(p,S),E=new wi(p,p.j,E),E.L=2,E.v=So(Lt(S)),S=!1,h.navigator&&h.navigator.sendBeacon)try{S=h.navigator.sendBeacon(E.v.toString(),"")}catch{}!S&&h.Image&&(new Image().src=E.v,S=!0),S||(E.g=yp(E.j,null),E.g.ea(E.v)),E.F=Date.now(),Pt(E)}mp(p)}function Xl(p){p.g&&(xo(p),p.g.cancel(),p.g=null)}function cp(p){Xl(p),p.u&&(h.clearTimeout(p.u),p.u=null),Zl(p),p.h.cancel(),p.s&&(typeof p.s=="number"&&h.clearTimeout(p.s),p.s=null)}function Jl(p){if(!Zc(p.h)&&!p.s){p.s=!0;var E=p.Ga;ie||z(),ue||(ie(),ue=!0),Te.add(E,p),p.B=0}}function l_(p,E){return ip(p.h)>=p.h.j-(p.s?1:0)?!1:p.s?(p.i=E.D.concat(p.i),!0):p.G==1||p.G==2||p.B>=(p.Va?0:p.Wa)?!1:(p.s=na(v(p.Ga,p,E),uh(p,p.B)),p.B++,!0)}n.Ga=function(p){if(this.s)if(this.s=null,this.G==1){if(!p){this.U=Math.floor(1e5*Math.random()),p=this.U++;const Y=new wi(this,this.j,p);let re=this.o;if(this.S&&(re?(re=C(re),w(re,this.S)):re=this.S),this.m!==null||this.O||(Y.H=re,re=null),this.P)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(E+=N,4096<E){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=hp(this,Y,E),S=Lt(this.I),Ze(S,"RID",p),Ze(S,"CVER",22),this.D&&Ze(S,"X-HTTP-Session-Id",this.D),Oo(this,S),re&&(this.O?E="headers="+encodeURIComponent(String(sh(re)))+"&"+E:this.m&&_n(S,this.m,re)),ua(this.h,Y),this.Ua&&Ze(S,"TYPE","init"),this.P?(Ze(S,"$req",E),Ze(S,"SID","null"),Y.T=!0,ai(Y,S,null)):ai(Y,S,E),this.G=2}}else this.G==3&&(p?oh(this,p):this.i.length==0||Zc(this.h)||oh(this))};function oh(p,E){var S;E?S=E.l:S=p.U++;const N=Lt(p.I);Ze(N,"SID",p.K),Ze(N,"RID",S),Ze(N,"AID",p.T),Oo(p,N),p.m&&p.o&&_n(N,p.m,p.o),S=new wi(p,p.j,S,p.B+1),p.m===null&&(S.H=p.o),E&&(p.i=E.D.concat(p.i)),E=hp(p,S,1e3),S.I=Math.round(.5*p.wa)+Math.round(.5*p.wa*Math.random()),ua(p.h,S),ai(S,N,E)}function Oo(p,E){p.H&&H(p.H,function(S,N){Ze(E,N,S)}),p.l&&bo({},function(S,N){Ze(E,N,S)})}function hp(p,E,S){S=Math.min(p.i.length,S);var N=p.l?v(p.l.Na,p.l,p):null;e:{var Y=p.i;let re=-1;for(;;){const ge=["count="+S];re==-1?0<S?(re=Y[0].g,ge.push("ofs="+re)):re=0:ge.push("ofs="+re);let We=!0;for(let cn=0;cn<S;cn++){let Qe=Y[cn].g;const vn=Y[cn].map;if(Qe-=re,0>Qe)re=Math.max(0,Y[cn].g-100),We=!1;else try{Ti(vn,ge,"req"+Qe+"_")}catch{N&&N(vn)}}if(We){N=ge.join("&");break e}}}return p=p.i.splice(0,S),E.D=p,N}function dp(p){if(!p.g&&!p.u){p.Y=1;var E=p.Fa;ie||z(),ue||(ie(),ue=!0),Te.add(E,p),p.v=0}}function lh(p){return p.g||p.u||3<=p.v?!1:(p.Y++,p.u=na(v(p.Fa,p),uh(p,p.v)),p.v++,!0)}n.Fa=function(){if(this.u=null,fp(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var p=2*this.R;this.j.info("BP detection timer enabled: "+p),this.A=na(v(this.ab,this),p)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),Xl(this),fp(this))};function xo(p){p.A!=null&&(h.clearTimeout(p.A),p.A=null)}function fp(p){p.g=new wi(p,p.j,"rpc",p.Y),p.m===null&&(p.g.H=p.o),p.g.O=0;var E=Lt(p.qa);Ze(E,"RID","rpc"),Ze(E,"SID",p.K),Ze(E,"AID",p.T),Ze(E,"CI",p.F?"0":"1"),!p.F&&p.ja&&Ze(E,"TO",p.ja),Ze(E,"TYPE","xmlhttp"),Oo(p,E),p.m&&p.o&&_n(E,p.m,p.o),p.L&&(p.g.I=p.L);var S=p.g;p=p.ia,S.L=1,S.v=So(Lt(E)),S.m=null,S.P=!0,ss(S,p)}n.Za=function(){this.C!=null&&(this.C=null,Xl(this),lh(this),Gt(19))};function Zl(p){p.C!=null&&(h.clearTimeout(p.C),p.C=null)}function pp(p,E){var S=null;if(p.g==E){Zl(p),xo(p),p.g=null;var N=2}else if(la(p.h,E))S=E.D,Vr(p.h,E),N=1;else return;if(p.G!=0){if(E.o)if(N==1){S=E.m?E.m.length:0,E=Date.now()-E.F;var Y=p.B;N=Bl(),gn(N,new tp(N,S)),Jl(p)}else dp(p);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(N==1&&l_(p,E)||N==2&&lh(p)))switch(S&&0<S.length&&(E=p.h,E.i=E.i.concat(S)),Y){case 1:hs(p,5);break;case 4:hs(p,10);break;case 3:hs(p,6);break;default:hs(p,2)}}}function uh(p,E){let S=p.Ta+Math.floor(Math.random()*p.cb);return p.isActive()||(S*=2),S*E}function hs(p,E){if(p.j.info("Error code "+E),E==2){var S=v(p.fb,p),N=p.Xa;const Y=!N;N=new as(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ca(N,"https"),So(N),Y?op(N.toString(),S):Ao(N.toString(),S)}else Gt(2);p.G=0,p.l&&p.l.sa(E),mp(p),cp(p)}n.fb=function(p){p?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function mp(p){if(p.G=0,p.ka=[],p.l){const E=Qn(p.h);(E.length!=0||p.i.length!=0)&&(O(p.ka,E),O(p.ka,p.i),p.h.i.length=0,I(p.i),p.i.length=0),p.l.ra()}}function gp(p,E,S){var N=S instanceof as?Lt(S):new as(S);if(N.g!="")E&&(N.g=E+"."+N.g),To(N,N.s);else{var Y=h.location;N=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var re=new as(null);N&&ca(re,N),E&&(re.g=E),Y&&To(re,Y),S&&(re.l=S),N=re}return S=p.D,E=p.ya,S&&E&&Ze(N,S,E),Ze(N,"VER",p.la),Oo(p,N),N}function yp(p,E,S){if(E&&!p.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Ca&&!p.pa?new st(new da({eb:S})):new st(p.pa),E.Ha(p.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _p(){}n=_p.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function eu(){}eu.prototype.g=function(p,E){return new Yn(p,E)};function Yn(p,E){ln.call(this),this.g=new Yl(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(p?p["X-WebChannel-Client-Profile"]=E.va:p={"X-WebChannel-Client-Profile":E.va}),this.g.S=p,(p=E&&E.Sb)&&!V(p)&&(this.g.m=p),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!V(E)&&(this.g.D=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Ri(this)}T(Yn,ln),Yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yn.prototype.close=function(){ah(this.g)},Yn.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.u&&(S={},S.__data__=Kc(p),p=S);E.i.push(new n_(E.Ya++,p)),E.G==3&&Jl(E)},Yn.prototype.N=function(){this.g.l=null,delete this.j,ah(this.g),delete this.g,Yn.aa.N.call(this)};function vp(p){Zs.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}T(vp,Zs);function Ep(){si.call(this),this.status=1}T(Ep,si);function Ri(p){this.g=p}T(Ri,_p),Ri.prototype.ua=function(){gn(this.g,"a")},Ri.prototype.ta=function(p){gn(this.g,new vp(p))},Ri.prototype.sa=function(p){gn(this.g,new Ep)},Ri.prototype.ra=function(){gn(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,Yn.prototype.send=Yn.prototype.o,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,XP=function(){return new eu},YP=function(){return Bl()},QP=Mr,K0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},un.NO_ERROR=0,un.TIMEOUT=8,un.HTTP_ERROR=6,Lm=un,is.COMPLETE="complete",WP=is,ep.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",ln.prototype.listen=ln.prototype.K,bd=ep,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,KP=st}).apply(typeof vm<"u"?vm:typeof self<"u"?self:typeof window<"u"?window:{});const $I="@firebase/firestore",GI="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new bf("@firebase/firestore");function Fu(){return Ja.logLevel}function $4(n){Ja.setLogLevel(n)}function pe(n,...e){if(Ja.logLevel<=je.DEBUG){const t=e.map(fw);Ja.debug(`Firestore (${Pc}): ${n}`,...t)}}function Wt(n,...e){if(Ja.logLevel<=je.ERROR){const t=e.map(fw);Ja.error(`Firestore (${Pc}): ${n}`,...t)}}function Xi(n,...e){if(Ja.logLevel<=je.WARN){const t=e.map(fw);Ja.warn(`Firestore (${Pc}): ${n}`,...t)}}function fw(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(n="Unexpected state"){const e=`FIRESTORE (${Pc}) INTERNAL ASSERTION FAILED: `+n;throw Wt(e),new Error(e)}function Ae(n,e){n||be()}function G4(n,e){n||be()}function Ee(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Nn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class K4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sn.UNAUTHENTICATED))}shutdown(){}}class W4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Q4{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ae(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new Mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mn,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},h=d=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mn)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new JP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Sn(e)}}class Y4{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class X4{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Y4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class J4{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Tt(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ae(this.o===void 0);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.R;return this.R=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new KI(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ae(typeof t.token=="string"),this.R=t.token,new KI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Z4(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function ke(n,e){return n<e?-1:n>e?1:0}function nc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function eO(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=-62135596800,QI=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*QI);return new It(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<WI)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QI}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-WI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new It(0,0))}static max(){return new Re(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="__name__";class Li{constructor(e,t,r){t===void 0?t=0:t>e.length&&be(),r===void 0?r=e.length-t:r>e.length-t&&be(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Li.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Li.isNumericId(e),i=Li.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Li.extractNumericId(e).compare(Li.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ha.fromString(e.substring(4,e.length-2))}}class qe extends Li{construct(e,t,r){return new qe(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new qe(t)}static emptyPath(){return new qe([])}}const e5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class St extends Li{construct(e,t,r){return new St(e,t,r)}static isValidIdentifier(e){return e5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),St.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YI}static keyField(){return new St([YI])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(o(),i++)}if(o(),u)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new St(t)}static emptyPath(){return new St([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(qe.fromString(e))}static fromName(e){return new _e(qe.fromString(e).popFirst(5))}static empty(){return new _e(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new qe(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=-1;class fg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function W0(n){return n.fields.find(e=>e.kind===2)}function Zo(n){return n.fields.filter(e=>e.kind!==2)}fg.UNKNOWN_ID=-1;class Um{constructor(e,t){this.fieldPath=e,this.kind=t}}class Kd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Kd(0,kr.min())}}function tO(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new It(t+1,0):new It(t,r));return new kr(i,_e.empty(),e)}function nO(n){return new kr(n.readTime,n.key,rc)}class kr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new kr(Re.min(),_e.empty(),rc)}static max(){return new kr(Re.max(),_e.empty(),rc)}}function pw(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(n){if(n.code!==ne.FAILED_PRECONDITION||n.message!==rO)throw n;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,o=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++o,u&&o===i&&t()},d=>r(d))}),u=!0,o===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const f=d;t(e[f]).next(g=>{u[f]=g,++h,h===o&&r(u)},g=>i(g))}})}static doWhile(e,t){return new X((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar="SimpleDb";class Yg{static open(e,t,r,i){try{return new Yg(t,e.transaction(i,r))}catch(o){throw new Od(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.m=new Mn,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{t.error?this.m.reject(new Od(e,t.error)):this.m.resolve()},this.transaction.onerror=r=>{const i=mw(r.target.error);this.m.reject(new Od(e,i))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(pe(Ar,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new n5(t)}}class Wi{static delete(e){return pe(Ar,"Removing database:",e),tl(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!gl())return!1;if(Wi.v())return!0;const e=Mt(),t=Wi.C(e),r=0<t&&t<10,i=sO(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,t){return e.store(t)}static C(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.O=r,Wi.C(Mt())===12.2&&Wt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(pe(Ar,"Opening database:",this.name),this.db=await new Promise((t,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const u=o.target.result;t(u)},i.onblocked=()=>{r(new Od(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const u=o.target.error;u.name==="VersionError"?r(new de(ne.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?r(new de(ne.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):r(new Od(e,u))},i.onupgradeneeded=o=>{pe(Ar,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.O.B(u,i.transaction,o.oldVersion,this.version).next(()=>{pe(Ar,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=t=>this.L(t)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.N(e);const h=Yg.open(this.db,e,o?"readonly":"readwrite",r),d=i(h).next(f=>(h.S(),f)).catch(f=>(h.abort(f),X.reject(f))).toPromise();return d.catch(()=>{}),await h.p,d}catch(h){const d=h,f=d.name!=="FirebaseError"&&u<3;if(pe(Ar,"Transaction failed with error:",d.message,"Retrying:",f),this.close(),!f)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function sO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class t5{constructor(e){this.q=e,this.$=!1,this.K=null}get isDone(){return this.$}get U(){return this.K}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.K=e}delete(){return tl(this.q.delete())}}class Od extends de{constructor(e,t){super(ne.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function po(n){return n.name==="IndexedDbTransactionError"}class n5{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(pe(Ar,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(pe(Ar,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),tl(r)}add(e){return pe(Ar,"ADD",this.store.name,e,e),tl(this.store.add(e))}get(e){return tl(this.store.get(e)).next(t=>(t===void 0&&(t=null),pe(Ar,"GET",this.store.name,e,t),t))}delete(e){return pe(Ar,"DELETE",this.store.name,e),tl(this.store.delete(e))}count(){return pe(Ar,"COUNT",this.store.name),tl(this.store.count())}G(e,t){const r=this.options(e,t),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new X((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}})}{const o=this.cursor(r),u=[];return this.j(o,(h,d)=>{u.push(d)}).next(()=>u)}}H(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new X((i,o)=>{r.onerror=u=>{o(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}J(e,t){pe(Ar,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.j(i,(o,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.j(i,t)}X(e){const t=this.cursor({});return new X((r,i)=>{t.onerror=o=>{const u=mw(o.target.error);i(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}j(e,t){const r=[];return new X((i,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const d=new t5(h),f=t(h.primaryKey,h.value,d);if(f instanceof X){const g=f.catch(_=>(d.done(),X.reject(_)));r.push(g)}d.isDone?i():d.U===null?h.continue():h.continue(d.U)}}).next(()=>X.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function tl(n){return new X((e,t)=>{n.onsuccess=r=>{const i=r.target.result;e(i)},n.onerror=r=>{const i=mw(r.target.error);t(i)}})}let XI=!1;function mw(n){const e=Wi.C(Mt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new de("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return XI||(XI=!0,setTimeout(()=>{throw r},0)),r}}return n}const xd="IndexBackfiller";class r5{constructor(e,t){this.asyncQueue=e,this.ee=t,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){pe(xd,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const t=await this.ee.ne();pe(xd,`Documents written: ${t}`)}catch(t){po(t)?pe(xd,"Ignoring IndexedDB error during index backfill: ",t):await fo(t)}await this.te(6e4)})}}class i5{constructor(e,t){this.localStore=e,this.persistence=t}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.re(t,e))}re(e,t){const r=new Set;let i=t,o=!0;return X.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!r.has(u))return pe(xd,`Processing collection: ${u}`),this.ie(e,u,i).next(h=>{i-=h,r.add(u)});o=!1})).next(()=>t-i)}ie(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.se(i,o)).next(h=>(pe(xd,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}se(e,t){let r=e;return t.changes.forEach((i,o)=>{const u=nO(o);pw(u,r)>0&&(r=u)}),new kr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}cr.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $a=-1;function Tf(n){return n==null}function Wd(n){return n===0&&1/n==-1/0}function aO(n){return typeof n=="number"&&Number.isInteger(n)&&!Wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="";function Gn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=JI(e)),e=s5(n.get(t),e);return JI(e)}function s5(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case pg:t+="";break;default:t+=o}}return t}function JI(n){return n+pg+""}function $i(n){const e=n.length;if(Ae(e>=2),e===2)return Ae(n.charAt(0)===pg&&n.charAt(1)===""),qe.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const u=n.indexOf(pg,o);switch((u<0||u>t)&&be(),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;i.length===0?d=h:(i+=h,d=i,i=""),r.push(d);break;case"":i+=n.substring(o,u),i+="\0";break;case"":i+=n.substring(o,u+1);break;default:be()}o=u+2}return new qe(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="remoteDocuments",Sf="owner",Ru="owner",Qd="mutationQueues",a5="userId",di="mutations",ZI="batchId",al="userMutationsIndex",eR=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(n,e){return[n,Gn(e)]}function oO(n,e,t){return[n,Gn(e),t]}const o5={},ic="documentMutations",mg="remoteDocumentsV14",l5=["prefixPath","collectionGroup","readTime","documentId"],Bm="documentKeyIndex",u5=["prefixPath","collectionGroup","documentId"],lO="collectionGroupIndex",c5=["collectionGroup","readTime","prefixPath","documentId"],Yd="remoteDocumentGlobal",Q0="remoteDocumentGlobalKey",sc="targets",uO="queryTargetsIndex",h5=["canonicalId","targetId"],ac="targetDocuments",d5=["targetId","path"],gw="documentTargetsIndex",f5=["path","targetId"],gg="targetGlobalKey",dl="targetGlobal",Xd="collectionParents",p5=["collectionId","parent"],oc="clientMetadata",m5="clientId",Xg="bundles",g5="bundleId",Jg="namedQueries",y5="name",yw="indexConfiguration",_5="indexId",Y0="collectionGroupIndex",v5="collectionGroup",yg="indexState",E5=["indexId","uid"],cO="sequenceNumberIndex",w5=["uid","sequenceNumber"],_g="indexEntries",b5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hO="documentKeyIndex",T5=["indexId","uid","orderedDocumentKey"],Zg="documentOverlays",S5=["userId","collectionPath","documentId"],X0="collectionPathOverlayIndex",A5=["userId","collectionPath","largestBatchId"],dO="collectionGroupOverlayIndex",I5=["userId","collectionGroup","largestBatchId"],_w="globals",R5="name",fO=[Qd,di,ic,el,sc,Sf,dl,ac,oc,Yd,Xd,Xg,Jg],C5=[...fO,Zg],pO=[Qd,di,ic,mg,sc,Sf,dl,ac,oc,Yd,Xd,Xg,Jg,Zg],mO=pO,vw=[...mO,yw,yg,_g],P5=vw,O5=[...vw,_w];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends iO{constructor(e,t){super(),this.ue=e,this.currentSequenceNumber=t}}function mn(n,e){const t=Ee(n);return Wi.M(t.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function mo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gO(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||xn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Em(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Em(this.root,e,this.comparator,!1)}getReverseIterator(){return new Em(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Em(this.root,e,this.comparator,!0)}}class Em{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??xn.RED,this.left=i??xn.EMPTY,this.right=o??xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new xn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}xn.EMPTY=null,xn.RED=!0,xn.BLACK=!1;xn.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,t,r,i,o){return this}insert(e,t,r){return new xn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nR(this.data.getIterator())}getIteratorFrom(e){return new nR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof lt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lt(this.comparator);return t.data=e,t}}class nR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Cu(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new hr([])}unionWith(e){let t=new lt(St.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new hr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yO("Invalid base64 string: "+o):o}}(e);return new qt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let u=0;u<i.length;++u)o+=String.fromCharCode(i[u]);return o}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const D5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(n){if(Ae(!!n),typeof n=="string"){let e=0;const t=D5.exec(n);if(Ae(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(n.seconds),nanos:bt(n.nanos)}}function bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bs(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="server_timestamp",vO="__type__",EO="__previous_value__",wO="__local_write_time__";function ey(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[vO])===null||t===void 0?void 0:t.stringValue)===_O}function ty(n){const e=n.mapValue.fields[EO];return ey(e)?ty(e):e}function Jd(n){const e=Fs(n.mapValue.fields[wO].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e,t,r,i,o,u,h,d,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=f}}const Z0="(default)";class Za{constructor(e,t){this.projectId=e,this.database=t||Z0}static empty(){return new Za("","")}get isDefaultDatabase(){return this.database===Z0}isEqual(e){return e instanceof Za&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="__type__",bO="__max__",Ba={mapValue:{fields:{__type__:{stringValue:bO}}}},ww="__vector__",lc="value",jm={nullValue:"NULL_VALUE"};function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ey(n)?4:TO(n)?9007199254740991:ny(n)?10:11:be()}function Ji(n,e){if(n===e)return!0;const t=eo(n);if(t!==eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jd(n).isEqual(Jd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const u=Fs(i.timestampValue),h=Fs(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return Bs(i.bytesValue).isEqual(Bs(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return bt(i.geoPointValue.latitude)===bt(o.geoPointValue.latitude)&&bt(i.geoPointValue.longitude)===bt(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return bt(i.integerValue)===bt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const u=bt(i.doubleValue),h=bt(o.doubleValue);return u===h?Wd(u)===Wd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return nc(n.arrayValue.values||[],e.arrayValue.values||[],Ji);case 10:case 11:return function(i,o){const u=i.mapValue.fields||{},h=o.mapValue.fields||{};if(tR(u)!==tR(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Ji(u[d],h[d])))return!1;return!0}(n,e);default:return be()}}function Zd(n,e){return(n.values||[]).find(t=>Ji(t,e))!==void 0}function to(n,e){if(n===e)return 0;const t=eo(n),r=eo(e);if(t!==r)return ke(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=bt(o.integerValue||o.doubleValue),d=bt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(n,e);case 3:return rR(n.timestampValue,e.timestampValue);case 4:return rR(Jd(n),Jd(e));case 5:return ke(n.stringValue,e.stringValue);case 6:return function(o,u){const h=Bs(o),d=Bs(u);return h.compareTo(d)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),d=u.split("/");for(let f=0;f<h.length&&f<d.length;f++){const g=ke(h[f],d[f]);if(g!==0)return g}return ke(h.length,d.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=ke(bt(o.latitude),bt(u.latitude));return h!==0?h:ke(bt(o.longitude),bt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return iR(n.arrayValue,e.arrayValue);case 10:return function(o,u){var h,d,f,g;const _=o.fields||{},v=u.fields||{},b=(h=_[lc])===null||h===void 0?void 0:h.arrayValue,T=(d=v[lc])===null||d===void 0?void 0:d.arrayValue,I=ke(((f=b==null?void 0:b.values)===null||f===void 0?void 0:f.length)||0,((g=T==null?void 0:T.values)===null||g===void 0?void 0:g.length)||0);return I!==0?I:iR(b,T)}(n.mapValue,e.mapValue);case 11:return function(o,u){if(o===Ba.mapValue&&u===Ba.mapValue)return 0;if(o===Ba.mapValue)return 1;if(u===Ba.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),f=u.fields||{},g=Object.keys(f);d.sort(),g.sort();for(let _=0;_<d.length&&_<g.length;++_){const v=ke(d[_],g[_]);if(v!==0)return v;const b=to(h[d[_]],f[g[_]]);if(b!==0)return b}return ke(d.length,g.length)}(n.mapValue,e.mapValue);default:throw be()}}function rR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Fs(n),r=Fs(e),i=ke(t.seconds,r.seconds);return i!==0?i:ke(t.nanos,r.nanos)}function iR(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=to(t[i],r[i]);if(o)return o}return ke(t.length,r.length)}function uc(n){return eE(n)}function eE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Fs(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Bs(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=eE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const u of r)o?o=!1:i+=",",i+=`${u}:${eE(t.fields[u])}`;return i+"}"}(n.mapValue):be()}function zm(n){switch(eo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ty(n);return e?16+zm(e):16;case 5:return 2*n.stringValue.length;case 6:return Bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zm(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return mo(r.fields,(o,u)=>{i+=o.length+zm(u)}),i}(n.mapValue);default:throw be()}}function yl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tE(n){return!!n&&"integerValue"in n}function ef(n){return!!n&&"arrayValue"in n}function sR(n){return!!n&&"nullValue"in n}function aR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function qm(n){return!!n&&"mapValue"in n}function ny(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ew])===null||t===void 0?void 0:t.stringValue)===ww}function Dd(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return mo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Dd(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Dd(n.arrayValue.values[t]);return e}return Object.assign({},n)}function TO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===bO}const SO={mapValue:{fields:{[Ew]:{stringValue:ww},[lc]:{arrayValue:{}}}}};function N5(n){return"nullValue"in n?jm:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?yl(Za.empty(),_e.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?ny(n)?SO:{mapValue:{}}:be()}function M5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?yl(Za.empty(),_e.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?SO:"mapValue"in n?ny(n)?{mapValue:{}}:Ba:be()}function oR(n,e){const t=to(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function lR(n,e){const t=to(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!qm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Dd(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Dd(u):i.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());qm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ji(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];qm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){mo(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new kn(Dd(this.value))}}function AO(n){const e=[];return mo(n.fields,(t,r)=>{const i=new St([t]);if(qm(r)){const o=AO(r.mapValue).fields;if(o.length===0)e.push(i);else for(const u of o)e.push(i.child(u))}else e.push(i)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t,r,i,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new vt(e,0,Re.min(),Re.min(),Re.min(),kn.empty(),0)}static newFoundDocument(e,t,r,i){return new vt(e,1,t,Re.min(),r,i,0)}static newNoDocument(e,t){return new vt(e,2,t,Re.min(),Re.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new vt(e,3,t,Re.min(),Re.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,t){this.position=e,this.inclusive=t}}function uR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],u=n.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(u.referenceValue),t.key):r=to(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function cR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ji(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t="asc"){this.field=e,this.dir=t}}function V5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{}class He extends IO{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new L5(e,t,r):t==="array-contains"?new B5(e,r):t==="in"?new DO(e,r):t==="not-in"?new j5(e,r):t==="array-contains-any"?new z5(e,r):new He(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new U5(e,r):new F5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(to(t,this.value)):t!==null&&eo(this.value)===eo(t)&&this.matchesComparison(to(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ot extends IO{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ot(e,t)}matches(e){return cc(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function cc(n){return n.op==="and"}function nE(n){return n.op==="or"}function bw(n){return RO(n)&&cc(n)}function RO(n){for(const e of n.filters)if(e instanceof ot)return!1;return!0}function rE(n){if(n instanceof He)return n.field.canonicalString()+n.op.toString()+uc(n.value);if(bw(n))return n.filters.map(e=>rE(e)).join(",");{const e=n.filters.map(t=>rE(t)).join(",");return`${n.op}(${e})`}}function CO(n,e){return n instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.field.isEqual(i.field)&&Ji(r.value,i.value)}(n,e):n instanceof ot?function(r,i){return i instanceof ot&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,u,h)=>o&&CO(u,i.filters[h]),!0):!1}(n,e):void be()}function PO(n,e){const t=n.filters.concat(e);return ot.create(t,n.op)}function OO(n){return n instanceof He?function(t){return`${t.field.canonicalString()} ${t.op} ${uc(t.value)}`}(n):n instanceof ot?function(t){return t.op.toString()+" {"+t.getFilters().map(OO).join(" ,")+"}"}(n):"Filter"}class L5 extends He{constructor(e,t,r){super(e,t,r),this.key=_e.fromName(r.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class U5 extends He{constructor(e,t){super(e,"in",t),this.keys=xO("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class F5 extends He{constructor(e,t){super(e,"not-in",t),this.keys=xO("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xO(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>_e.fromName(r.referenceValue))}class B5 extends He{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ef(t)&&Zd(t.arrayValue,this.value)}}class DO extends He{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Zd(this.value.arrayValue,t)}}class j5 extends He{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Zd(this.value.arrayValue,t)}}class z5 extends He{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ef(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Zd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(e,t=null,r=[],i=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=u,this.endAt=h,this.le=null}}function iE(n,e=null,t=[],r=[],i=null,o=null,u=null){return new q5(n,e,t,r,i,o,u)}function _l(n){const e=Ee(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>rE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>uc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>uc(r)).join(",")),e.le=t}return e.le}function Af(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!V5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!CO(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!cR(n.startAt,e.startAt)&&cR(n.endAt,e.endAt)}function vg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Eg(n,e){return n.filters.filter(t=>t instanceof He&&t.field.isEqual(e))}function hR(n,e,t){let r=jm,i=!0;for(const o of Eg(n,e)){let u=jm,h=!0;switch(o.op){case"<":case"<=":u=N5(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=jm}oR({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];oR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}function dR(n,e,t){let r=Ba,i=!0;for(const o of Eg(n,e)){let u=Ba,h=!0;switch(o.op){case">=":case">":u=M5(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=Ba}lR({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];lR({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t=null,r=[],i=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function kO(n,e,t,r,i,o,u,h){return new Gs(n,e,t,r,i,o,u,h)}function Oc(n){return new Gs(n)}function fR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Tw(n){return n.collectionGroup!==null}function Gu(n){const e=Ee(n);if(e.he===null){e.he=[];const t=new Set;for(const o of e.explicitOrderBy)e.he.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new lt(St.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(h=h.add(f.field))})}),h})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.he.push(new tf(o,r))}),t.has(St.keyField().canonicalString())||e.he.push(new tf(St.keyField(),r))}return e.he}function nr(n){const e=Ee(n);return e.Pe||(e.Pe=H5(e,Gu(n))),e.Pe}function H5(n,e){if(n.limitType==="F")return iE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new tf(i.field,o)});const t=n.endAt?new no(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new no(n.startAt.position,n.startAt.inclusive):null;return iE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function sE(n,e){const t=n.filters.concat([e]);return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function wg(n,e,t){return new Gs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function If(n,e){return Af(nr(n),nr(e))&&n.limitType===e.limitType}function NO(n){return`${_l(nr(n))}|lt:${n.limitType}`}function Bu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>OO(i)).join(", ")}]`),Tf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>uc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>uc(i)).join(",")),`Target(${r})`}(nr(n))}; limitType=${n.limitType})`}function Rf(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Gu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(u,h,d){const f=uR(u,h,d);return u.inclusive?f<=0:f<0}(r.startAt,Gu(r),i)||r.endAt&&!function(u,h,d){const f=uR(u,h,d);return u.inclusive?f>=0:f>0}(r.endAt,Gu(r),i))}(n,e)}function MO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VO(n){return(e,t)=>{let r=!1;for(const i of Gu(n)){const o=$5(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function $5(n,e,t){const r=n.field.isKeyField()?_e.comparator(e.key,t.key):function(o,u,h){const d=u.data.field(o),f=h.data.field(o);return d!==null&&f!==null?to(d,f):be()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){mo(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return gO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=new yt(_e.comparator);function dr(){return G5}const LO=new yt(_e.comparator);function Td(...n){let e=LO;for(const t of n)e=e.insert(t.key,t);return e}function UO(n){let e=LO;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Gi(){return kd()}function FO(){return kd()}function kd(){return new Ks(n=>n.toString(),(n,e)=>n.isEqual(e))}const K5=new yt(_e.comparator),W5=new lt(_e.comparator);function Ve(...n){let e=W5;for(const t of n)e=e.add(t);return e}const Q5=new lt(ke);function Sw(){return Q5}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function BO(n){return{integerValue:""+n}}function jO(n,e){return aO(e)?BO(e):Aw(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this._=void 0}}function Y5(n,e,t){return n instanceof hc?function(i,o){const u={fields:{[vO]:{stringValue:_O},[wO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ey(o)&&(o=ty(o)),o&&(u.fields[EO]=o),{mapValue:u}}(t,e):n instanceof vl?qO(n,e):n instanceof El?HO(n,e):function(i,o){const u=zO(i,o),h=pR(u)+pR(i.Ie);return tE(u)&&tE(i.Ie)?BO(h):Aw(i.serializer,h)}(n,e)}function X5(n,e,t){return n instanceof vl?qO(n,e):n instanceof El?HO(n,e):t}function zO(n,e){return n instanceof dc?function(r){return tE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class hc extends ry{}class vl extends ry{constructor(e){super(),this.elements=e}}function qO(n,e){const t=$O(e);for(const r of n.elements)t.some(i=>Ji(i,r))||t.push(r);return{arrayValue:{values:t}}}class El extends ry{constructor(e){super(),this.elements=e}}function HO(n,e){let t=$O(e);for(const r of n.elements)t=t.filter(i=>!Ji(i,r));return{arrayValue:{values:t}}}class dc extends ry{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function pR(n){return bt(n.integerValue||n.doubleValue)}function $O(n){return ef(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t){this.field=e,this.transform=t}}function J5(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof vl&&i instanceof vl||r instanceof El&&i instanceof El?nc(r.elements,i.elements,Ji):r instanceof dc&&i instanceof dc?Ji(r.Ie,i.Ie):r instanceof hc&&i instanceof hc}(n.transform,e.transform)}class Z5{constructor(e,t){this.version=e,this.transformResults=t}}class At{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new At}static exists(e){return new At(void 0,e)}static updateTime(e){return new At(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class iy{}function GO(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Dc(n.key,At.none()):new xc(n.key,n.data,At.none());{const t=n.data,r=kn.empty();let i=new lt(St.comparator);for(let o of e.fields)if(!i.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),i=i.add(o)}return new Ws(n.key,r,new hr(i.toArray()),At.none())}}function eF(n,e,t){n instanceof xc?function(i,o,u){const h=i.value.clone(),d=gR(i.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Ws?function(i,o,u){if(!Hm(i.precondition,o))return void o.convertToUnknownDocument(u.version);const h=gR(i.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(KO(i)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):function(i,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Nd(n,e,t,r){return n instanceof xc?function(o,u,h,d){if(!Hm(o.precondition,u))return h;const f=o.value.clone(),g=yR(o.fieldTransforms,d,u);return f.setAll(g),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ws?function(o,u,h,d){if(!Hm(o.precondition,u))return h;const f=yR(o.fieldTransforms,d,u),g=u.data;return g.setAll(KO(o)),g.setAll(f),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,u,h){return Hm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(n,e,t)}function tF(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=zO(r.transform,i||null);o!=null&&(t===null&&(t=kn.empty()),t.set(r.field,o))}return t||null}function mR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nc(r,i,(o,u)=>J5(o,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class xc extends iy{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ws extends iy{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KO(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gR(n,e,t){const r=new Map;Ae(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],u=o.transform,h=e.data.field(o.field);r.set(o.field,X5(u,h,t[i]))}return r}function yR(n,e,t){const r=new Map;for(const i of n){const o=i.transform,u=t.data.field(i.field);r.set(i.field,Y5(o,u,e))}return r}class Dc extends iy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Iw extends iy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eF(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Nd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FO();return this.mutations.forEach(i=>{const o=e.get(i.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(i.key)?null:h;const d=GO(u,h);d!==null&&r.set(i.key,d),u.isValidDocument()||u.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&nc(this.mutations,e.mutations,(t,r)=>mR(t,r))&&nc(this.baseMutations,e.baseMutations,(t,r)=>mR(t,r))}}class Cw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ae(e.mutations.length===r.length);let i=function(){return K5}();const o=e.mutations;for(let u=0;u<o.length;u++)i=i.insert(o[u].key,r[u].version);return new Cw(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,Xe;function WO(n){switch(n){case ne.OK:return be();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return be()}}function QO(n){if(n===void 0)return Wt("GRPC error has no .code"),ne.UNKNOWN;switch(n){case nn.OK:return ne.OK;case nn.CANCELLED:return ne.CANCELLED;case nn.UNKNOWN:return ne.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ne.INTERNAL;case nn.UNAVAILABLE:return ne.UNAVAILABLE;case nn.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case nn.NOT_FOUND:return ne.NOT_FOUND;case nn.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case nn.ABORTED:return ne.ABORTED;case nn.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case nn.DATA_LOSS:return ne.DATA_LOSS;default:return be()}}(Xe=nn||(nn={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new Ha([4294967295,4294967295],0);function _R(n){const e=YO().encode(n),t=new GP;return t.update(e),new Uint8Array(t.digest())}function vR(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ha([t,r],0),new Ha([i,o],0)]}class Ow{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Sd(`Invalid padding: ${t}`);if(r<0)throw new Sd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sd(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Sd(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ha.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(Ha.fromNumber(r)));return i.compare(rF)===1&&(i=new Ha([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=_R(e),[r,i]=vR(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);if(!this.Re(u))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new Ow(o,i,t);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const t=_R(e),[r,i]=vR(t);for(let o=0;o<this.hashCount;o++){const u=this.Ae(r,i,o);this.Ve(u)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Sd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Of.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Pf(Re.min(),i,new yt(ke),dr(),Ve())}}class Of{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Of(r,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class XO{constructor(e,t){this.targetId=e,this.ge=t}}class JO{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class ER{constructor(){this.pe=0,this.ye=wR(),this.we=qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),t=Ve(),r=Ve();return this.ye.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:be()}}),new Of(this.we,this.be,e,t,r)}Me(){this.Se=!1,this.ye=wR()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ae(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class iF{constructor(e){this.ke=e,this.qe=new Map,this.Qe=dr(),this.$e=wm(),this.Ke=wm(),this.Ue=new yt(ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const o=i.target;if(vg(o))if(r===0){const u=new _e(o.path);this.ze(t,u,vt.newNoDocument(u,Re.min()))}else Ae(r===1);else{const u=this.et(t);if(u!==r){const h=this.tt(e),d=h?this.nt(h,e,u):1;if(d!==0){this.Ye(t);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,f)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let u,h;try{u=Bs(r).toUint8Array()}catch(d){if(d instanceof yO)return Xi("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Ow(u,i,o)}catch(d){return Xi(d instanceof Sd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.Ee===0?null:h}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,o,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((o,u)=>{const h=this.Xe(u);if(h){if(o.current&&vg(h.target)){const d=new _e(h.target.path);this._t(d).has(u)||this.ut(u,d)||this.ze(u,d,vt.newNoDocument(d,e))}o.ve&&(t.set(u,o.Fe()),o.Me())}});let r=Ve();this.Ke.forEach((o,u)=>{let h=!0;u.forEachWhile(d=>{const f=this.Xe(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(o))}),this.Qe.forEach((o,u)=>u.setReadTime(e));const i=new Pf(e,t,this.Ue,this.Qe,r);return this.Qe=dr(),this.$e=wm(),this.Ke=wm(),this.Ue=new yt(ke),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new ER,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new lt(ke),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new lt(ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new ER),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function wm(){return new yt(_e.comparator)}function wR(){return new yt(_e.comparator)}const sF={asc:"ASCENDING",desc:"DESCENDING"},aF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oF={and:"AND",or:"OR"};class lF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function aE(n,e){return n.useProto3Json||Tf(e)?e:{value:e}}function fc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZO(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function uF(n,e){return fc(n,e.toTimestamp())}function Qt(n){return Ae(!!n),Re.fromTimestamp(function(t){const r=Fs(t);return new It(r.seconds,r.nanos)}(n))}function xw(n,e){return oE(n,e).canonicalString()}function oE(n,e){const t=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function ex(n){const e=qe.fromString(n);return Ae(cx(e)),e}function nf(n,e){return xw(n.databaseId,e.path)}function Qi(n,e){const t=ex(e);if(t.get(1)!==n.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(rx(t))}function tx(n,e){return xw(n.databaseId,e)}function nx(n){const e=ex(n);return e.length===4?qe.emptyPath():rx(e)}function lE(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rx(n){return Ae(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function bR(n,e,t){return{name:nf(n,e),fields:t.value.mapValue.fields}}function ix(n,e,t){const r=Qi(n,e.name),i=Qt(e.updateTime),o=e.createTime?Qt(e.createTime):Re.min(),u=new kn({mapValue:{fields:e.fields}}),h=vt.newFoundDocument(r,i,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function cF(n,e){return"found"in e?function(r,i){Ae(!!i.found),i.found.name,i.found.updateTime;const o=Qi(r,i.found.name),u=Qt(i.found.updateTime),h=i.found.createTime?Qt(i.found.createTime):Re.min(),d=new kn({mapValue:{fields:i.found.fields}});return vt.newFoundDocument(o,u,h,d)}(n,e):"missing"in e?function(r,i){Ae(!!i.missing),Ae(!!i.readTime);const o=Qi(r,i.missing),u=Qt(i.readTime);return vt.newNoDocument(o,u)}(n,e):be()}function hF(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,g){return f.useProto3Json?(Ae(g===void 0||typeof g=="string"),qt.fromBase64String(g||"")):(Ae(g===void 0||g instanceof Buffer||g instanceof Uint8Array),qt.fromUint8Array(g||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(f){const g=f.code===void 0?ne.UNKNOWN:QO(f.code);return new de(g,f.message||"")}(u);t=new JO(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Qi(n,r.document.name),o=Qt(r.document.updateTime),u=r.document.createTime?Qt(r.document.createTime):Re.min(),h=new kn({mapValue:{fields:r.document.fields}}),d=vt.newFoundDocument(i,o,u,h),f=r.targetIds||[],g=r.removedTargetIds||[];t=new $m(f,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Qi(n,r.document),o=r.readTime?Qt(r.readTime):Re.min(),u=vt.newNoDocument(i,o),h=r.removedTargetIds||[];t=new $m([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Qi(n,r.document),o=r.removedTargetIds||[];t=new $m([],o,i,null)}else{if(!("filter"in e))return be();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,u=new nF(i,o),h=r.targetId;t=new XO(h,u)}}return t}function rf(n,e){let t;if(e instanceof xc)t={update:bR(n,e.key,e.value)};else if(e instanceof Dc)t={delete:nf(n,e.key)};else if(e instanceof Ws)t={update:bR(n,e.key,e.data),updateMask:yF(e.fieldMask)};else{if(!(e instanceof Iw))return be();t={verify:nf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof hc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof vl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof El)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof dc)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw be()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uF(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:be()}(n,e.precondition)),t}function uE(n,e){const t=e.currentDocument?function(o){return o.updateTime!==void 0?At.updateTime(Qt(o.updateTime)):o.exists!==void 0?At.exists(o.exists):At.none()}(e.currentDocument):At.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,h){let d=null;if("setToServerValue"in h)Ae(h.setToServerValue==="REQUEST_TIME"),d=new hc;else if("appendMissingElements"in h){const g=h.appendMissingElements.values||[];d=new vl(g)}else if("removeAllFromArray"in h){const g=h.removeAllFromArray.values||[];d=new El(g)}else"increment"in h?d=new dc(u,h.increment):be();const f=St.fromServerFormat(h.fieldPath);return new Cf(f,d)}(n,i)):[];if(e.update){e.update.name;const i=Qi(n,e.update.name),o=new kn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(d){const f=d.fieldPaths||[];return new hr(f.map(g=>St.fromServerFormat(g)))}(e.updateMask);return new Ws(i,o,u,t,r)}return new xc(i,o,t,r)}if(e.delete){const i=Qi(n,e.delete);return new Dc(i,t)}if(e.verify){const i=Qi(n,e.verify);return new Iw(i,t)}return be()}function dF(n,e){return n&&n.length>0?(Ae(e!==void 0),n.map(t=>function(i,o){let u=i.updateTime?Qt(i.updateTime):Qt(o);return u.isEqual(Re.min())&&(u=Qt(o)),new Z5(u,i.transformResults||[])}(t,e))):[]}function sx(n,e){return{documents:[tx(n,e.path)]}}function ax(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tx(n,i);const o=function(f){if(f.length!==0)return ux(ot.create(f,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const u=function(f){if(f.length!==0)return f.map(g=>function(v){return{field:ju(v.field),direction:pF(v.dir)}}(g))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=aE(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{ht:t,parent:i}}function ox(n){let e=nx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ae(r===1);const g=t.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=function(_){const v=lx(_);return v instanceof ot&&bw(v)?v.getFilters():[v]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(v=>function(T){return new tf(zu(T.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(v))}(t.orderBy));let h=null;t.limit&&(h=function(_){let v;return v=typeof _=="object"?_.value:_,Tf(v)?null:v}(t.limit));let d=null;t.startAt&&(d=function(_){const v=!!_.before,b=_.values||[];return new no(b,v)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const v=!_.before,b=_.values||[];return new no(b,v)}(t.endAt)),kO(e,i,u,o,h,"F",d,f)}function fF(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function lx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=zu(t.unaryFilter.field);return He.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zu(t.unaryFilter.field);return He.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=zu(t.unaryFilter.field);return He.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zu(t.unaryFilter.field);return He.create(u,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(n):n.fieldFilter!==void 0?function(t){return He.create(zu(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ot.create(t.compositeFilter.filters.map(r=>lx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return be()}}(t.compositeFilter.op))}(n):be()}function pF(n){return sF[n]}function mF(n){return aF[n]}function gF(n){return oF[n]}function ju(n){return{fieldPath:n.canonicalString()}}function zu(n){return St.fromServerFormat(n.fieldPath)}function ux(n){return n instanceof He?function(t){if(t.op==="=="){if(aR(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NAN"}};if(sR(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(aR(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NOT_NAN"}};if(sR(t.value))return{unaryFilter:{field:ju(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(t.field),op:mF(t.op),value:t.value}}}(n):n instanceof ot?function(t){const r=t.getFilters().map(i=>ux(i));return r.length===1?r[0]:{compositeFilter:{op:gF(t.op),filters:r}}}(n):be()}function yF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,t,r,i,o=Re.min(),u=Re.min(),h=qt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.Tt=e}}function _F(n,e){let t;if(e.document)t=ix(n.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=bl(e.noDocument.readTime);t=vt.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return be();{const r=_e.fromSegments(e.unknownDocument.path),i=bl(e.unknownDocument.version);t=vt.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const o=new It(i[0],i[1]);return Re.fromTimestamp(o)}(e.readTime)),t}function TR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:bg(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,u){return{name:nf(o,u.key),fields:u.data.value.mapValue.fields,updateTime:fc(o,u.version.toTimestamp()),createTime:fc(o,u.createTime.toTimestamp())}}(n.Tt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:wl(e.version)};else{if(!e.isUnknownDocument())return be();r.unknownDocument={path:t.path.toArray(),version:wl(e.version)}}return r}function bg(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function wl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function bl(n){const e=new It(n.seconds,n.nanoseconds);return Re.fromTimestamp(e)}function nl(n,e){const t=(e.baseMutations||[]).map(o=>uE(n.Tt,o));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>uE(n.Tt,o)),i=It.fromMillis(e.localWriteTimeMs);return new Rw(e.batchId,i,t,r)}function Ad(n){const e=bl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?bl(n.lastLimboFreeSnapshotVersion):Re.min();let r;return r=function(o){return o.documents!==void 0}(n.query)?function(o){return Ae(o.documents.length===1),nr(Oc(nx(o.documents[0])))}(n.query):function(o){return nr(ox(o))}(n.query),new xs(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,qt.fromBase64String(n.resumeToken))}function dx(n,e){const t=wl(e.snapshotVersion),r=wl(e.lastLimboFreeSnapshotVersion);let i;i=vg(e.target)?sx(n.Tt,e.target):ax(n.Tt,e.target).ht;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_l(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Dw(n){const e=ox({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wg(e,e.limit,"L"):e}function h0(n,e){return new Pw(e.largestBatchId,uE(n.Tt,e.overlayMutation))}function SR(n,e){const t=e.path.lastSegment();return[n,Gn(e.path.popLast()),t]}function AR(n,e,t,r){return{indexId:n,uid:e,sequenceNumber:t,readTime:wl(r.readTime),documentKey:Gn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{getBundleMetadata(e,t){return IR(e).get(t).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:bl(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,t){return IR(e).put(function(i){return{bundleId:i.id,createTime:wl(Qt(i.createTime)),version:i.version}}(t))}getNamedQuery(e,t){return RR(e).get(t).next(r=>{if(r)return function(o){return{name:o.name,query:Dw(o.bundledQuery),readTime:bl(o.readTime)}}(r)})}saveNamedQuery(e,t){return RR(e).put(function(i){return{name:i.name,readTime:wl(Qt(i.readTime)),bundledQuery:i.bundledQuery}}(t))}}function IR(n){return mn(n,Xg)}function RR(n){return mn(n,Jg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t){this.serializer=e,this.userId=t}static It(e,t){const r=t.uid||"";return new sy(e,r)}getOverlay(e,t){return Zh(e).get(SR(this.userId,t)).next(r=>r?h0(this.serializer,r):null)}getOverlays(e,t){const r=Gi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,u)=>{const h=new Pw(t,u);i.push(this.Et(e,h))}),X.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Gn(u.getCollectionPath())));const o=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);o.push(Zh(e).J(X0,h))}),X.waitFor(o)}getOverlaysForCollection(e,t,r){const i=Gi(),o=Gn(t),u=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Zh(e).G(X0,u).next(h=>{for(const d of h){const f=h0(this.serializer,d);i.set(f.getKey(),f)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=Gi();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Zh(e).Z({index:dO,range:h},(d,f,g)=>{const _=h0(this.serializer,f);o.size()<i||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):g.done()}).next(()=>o)}Et(e,t){return Zh(e).put(function(i,o,u){const[h,d,f]=SR(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:f,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:rf(i.Tt,u.mutation)}}(this.serializer,this.userId,t))}}function Zh(n){return mn(n,Zg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{dt(e){return mn(e,_w)}getSessionToken(e){return this.dt(e).get("sessionToken").next(t=>{const r=t==null?void 0:t.value;return r?qt.fromUint8Array(r):qt.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.dt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(bt(e.integerValue));else if("doubleValue"in e){const r=bt(e.doubleValue);isNaN(r)?this.ft(t,13):(this.ft(t,15),Wd(r)?t.gt(0):t.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(t,20),typeof r=="string"&&(r=Fs(r)),t.yt(`${r.seconds||""}`),t.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Bs(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ft(t,45),t.gt(r.latitude||0),t.gt(r.longitude||0)}else"mapValue"in e?TO(e)?this.ft(t,Number.MAX_SAFE_INTEGER):ny(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):be()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const r=e.fields||{};this.ft(t,55);for(const i of Object.keys(r))this.wt(i,t),this.Rt(r[i],t)}vt(e,t){var r,i;const o=e.fields||{};this.ft(t,53);const u=lc,h=((i=(r=o[u].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(t,15),t.gt(bt(h)),this.wt(u,t),this.Rt(o[u],t)}Ft(e,t){const r=e.values||[];this.ft(t,50);for(const i of r)this.Rt(i,t)}Dt(e,t){this.ft(t,37),_e.fromName(e).path.forEach(r=>{this.ft(t,60),this.Mt(r,t)})}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}rl.xt=new rl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=255;function wF(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function CR(n){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const u=wF(255&r[o]);if(i+=u,u!==8)break}return i}(n);return Math.ceil(e/8)}class bF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Nt(r.value),r=t.next();this.Bt()}Lt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.kt(r.value),r=t.next();this.qt()}Qt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Nt(r);else if(r<2048)this.Nt(960|r>>>6),this.Nt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Nt(480|r>>>12),this.Nt(128|63&r>>>6),this.Nt(128|63&r);else{const i=t.codePointAt(0);this.Nt(240|i>>>18),this.Nt(128|63&i>>>12),this.Nt(128|63&i>>>6),this.Nt(128|63&i)}}this.Bt()}$t(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.kt(r);else if(r<2048)this.kt(960|r>>>6),this.kt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.kt(480|r>>>12),this.kt(128|63&r>>>6),this.kt(128|63&r);else{const i=t.codePointAt(0);this.kt(240|i>>>18),this.kt(128|63&i>>>12),this.kt(128|63&i>>>6),this.kt(128|63&i)}}this.qt()}Kt(e){const t=this.Ut(e),r=CR(t);this.Wt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Gt(e){const t=this.Ut(e),r=CR(t);this.Wt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}zt(){this.jt(Pu),this.jt(255)}Ht(){this.Jt(Pu),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Ut(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Nt(e){const t=255&e;t===0?(this.jt(0),this.jt(255)):t===Pu?(this.jt(Pu),this.jt(0)):this.jt(t)}kt(e){const t=255&e;t===0?(this.Jt(0),this.Jt(255)):t===Pu?(this.Jt(Pu),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class TF{constructor(e){this.Zt=e}St(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Kt(e)}Vt(){this.Zt.zt()}}class SF{constructor(e){this.Zt=e}St(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class ed{constructor(){this.Zt=new bF,this.Xt=new TF(this.Zt),this.en=new SF(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}nn(){const e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new il(this.indexId,this.documentKey,this.arrayValue,r)}}function ka(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=PR(n.arrayValue,e.arrayValue),t!==0?t:(t=PR(n.directionalValue,e.directionalValue),t!==0?t:_e.comparator(n.documentKey,e.documentKey)))}function PR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.rn=new lt((t,r)=>St.comparator(t.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const t of e.filters){const r=t;r.isInequality()?this.rn=this.rn.add(r):this._n.push(r)}}get an(){return this.rn.size>1}un(e){if(Ae(e.collectionGroup===this.collectionId),this.an)return!1;const t=W0(e);if(t!==void 0&&!this.cn(t))return!1;const r=Zo(e);let i=new Set,o=0,u=0;for(;o<r.length&&this.cn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.rn.size>0){const h=this.rn.getIterator().getNext();if(!i.has(h.field.canonicalString())){const d=r[o];if(!this.ln(h,d)||!this.hn(this.sn[u++],d))return!1}++o}for(;o<r.length;++o){const h=r[o];if(u>=this.sn.length||!this.hn(this.sn[u++],h))return!1}return!0}Pn(){if(this.an)return null;let e=new lt(St.comparator);const t=[];for(const r of this._n)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Um(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Um(r.field,0))}for(const r of this.sn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Um(r.field,r.dir==="asc"?0:1)));return new fg(fg.UNKNOWN_ID,this.collectionId,t,Kd.empty())}cn(e){for(const t of this._n)if(this.ln(t,e))return!0;return!1}ln(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}hn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(n){var e,t;if(Ae(n instanceof He||n instanceof ot),n instanceof He){if(n instanceof DO){const i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(o=>He.create(n.field,"==",o)))||[];return ot.create(i,"or")}return n}const r=n.filters.map(i=>fx(i));return ot.create(r,n.op)}function AF(n){if(n.getFilters().length===0)return[];const e=dE(fx(n));return Ae(px(e)),cE(e)||hE(e)?[e]:e.getFilters()}function cE(n){return n instanceof He}function hE(n){return n instanceof ot&&bw(n)}function px(n){return cE(n)||hE(n)||function(t){if(t instanceof ot&&nE(t)){for(const r of t.getFilters())if(!cE(r)&&!hE(r))return!1;return!0}return!1}(n)}function dE(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;if(n.filters.length===1)return dE(n.filters[0]);const e=n.filters.map(r=>dE(r));let t=ot.create(e,n.op);return t=Tg(t),px(t)?t:(Ae(t instanceof ot),Ae(cc(t)),Ae(t.filters.length>1),t.filters.reduce((r,i)=>kw(r,i)))}function kw(n,e){let t;return Ae(n instanceof He||n instanceof ot),Ae(e instanceof He||e instanceof ot),t=n instanceof He?e instanceof He?function(i,o){return ot.create([i,o],"and")}(n,e):xR(n,e):e instanceof He?xR(e,n):function(i,o){if(Ae(i.filters.length>0&&o.filters.length>0),cc(i)&&cc(o))return PO(i,o.getFilters());const u=nE(i)?i:o,h=nE(i)?o:i,d=u.filters.map(f=>kw(f,h));return ot.create(d,"or")}(n,e),Tg(t)}function xR(n,e){if(cc(e))return PO(e,n.getFilters());{const t=e.filters.map(r=>kw(n,r));return ot.create(t,"or")}}function Tg(n){if(Ae(n instanceof He||n instanceof ot),n instanceof He)return n;const e=n.getFilters();if(e.length===1)return Tg(e[0]);if(RO(n))return n;const t=e.map(i=>Tg(i)),r=[];return t.forEach(i=>{i instanceof He?r.push(i):i instanceof ot&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:ot.create(r,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.Tn=new Nw}addToCollectionParentIndex(e,t){return this.Tn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(kr.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Nw{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new lt(qe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="IndexedDbIndexManager",bm=new Uint8Array(0);class RF{constructor(e,t){this.databaseId=t,this.In=new Nw,this.En=new Ks(r=>_l(r),(r,i)=>Af(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.In.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.In.add(t)});const o={collectionId:r,parent:Gn(i)};return kR(e).put(o)}return X.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[eO(t),""],!1,!0);return kR(e).G(i).next(o=>{for(const u of o){if(u.collectionId!==t)break;r.push($i(u.parent))}return r})}addFieldIndex(e,t){const r=td(e),i=function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])}}(t);delete i.indexId;const o=r.add(i);if(t.indexState){const u=xu(e);return o.next(h=>{u.put(AR(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=td(e),i=xu(e),o=Ou(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=td(e),r=Ou(e),i=xu(e);return t.J().next(()=>r.J()).next(()=>i.J())}createTargetIndexes(e,t){return X.forEach(this.dn(t),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new OR(r).Pn();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,t){const r=Ou(e);let i=!0;const o=new Map;return X.forEach(this.dn(t),u=>this.An(e,u).next(h=>{i&&(i=!!h),o.set(u,h)})).next(()=>{if(i){let u=Ve();const h=[];return X.forEach(o,(d,f)=>{pe(DR,`Using index ${function(U){return`id=${U.indexId}|cg=${U.collectionGroup}|f=${U.fields.map($=>`${$.fieldPath}:${$.kind}`).join(",")}`}(d)} to execute ${_l(t)}`);const g=function(U,$){const j=W0($);if(j===void 0)return null;for(const H of Eg(U,j.fieldPath))switch(H.op){case"array-contains-any":return H.value.arrayValue.values||[];case"array-contains":return[H.value]}return null}(f,d),_=function(U,$){const j=new Map;for(const H of Zo($))for(const M of Eg(U,H.fieldPath))switch(M.op){case"==":case"in":j.set(H.fieldPath.canonicalString(),M.value);break;case"not-in":case"!=":return j.set(H.fieldPath.canonicalString(),M.value),Array.from(j.values())}return null}(f,d),v=function(U,$){const j=[];let H=!0;for(const M of Zo($)){const C=M.kind===0?hR(U,M.fieldPath,U.startAt):dR(U,M.fieldPath,U.startAt);j.push(C.value),H&&(H=C.inclusive)}return new no(j,H)}(f,d),b=function(U,$){const j=[];let H=!0;for(const M of Zo($)){const C=M.kind===0?dR(U,M.fieldPath,U.endAt):hR(U,M.fieldPath,U.endAt);j.push(C.value),H&&(H=C.inclusive)}return new no(j,H)}(f,d),T=this.Rn(d,f,v),I=this.Rn(d,f,b),O=this.Vn(d,f,_),L=this.mn(d.indexId,g,T,v.inclusive,I,b.inclusive,O);return X.forEach(L,V=>r.H(V,t.limit).next(U=>{U.forEach($=>{const j=_e.fromSegments($.documentKey);u.has(j)||(u=u.add(j),h.push(j))})}))}).next(()=>h)}return X.resolve(null)})}dn(e){let t=this.En.get(e);return t||(e.filters.length===0?t=[e]:t=AF(ot.create(e.filters,"and")).map(r=>iE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,t),t)}mn(e,t,r,i,o,u,h){const d=(t!=null?t.length:1)*Math.max(r.length,o.length),f=d/(t!=null?t.length:1),g=[];for(let _=0;_<d;++_){const v=t?this.fn(t[_/f]):bm,b=this.gn(e,v,r[_%f],i),T=this.pn(e,v,o[_%f],u),I=h.map(O=>this.gn(e,v,O,!0));g.push(...this.createRange(b,T,I))}return g}gn(e,t,r,i){const o=new il(e,_e.empty(),t,r);return i?o:o.nn()}pn(e,t,r,i){const o=new il(e,_e.empty(),t,r);return i?o.nn():o}An(e,t){const r=new OR(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let u=null;for(const h of o)r.un(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;const i=this.dn(t);return X.forEach(i,o=>this.An(e,o).next(u=>{u?r!==0&&u.fields.length<function(d){let f=new lt(St.comparator),g=!1;for(const _ of d.filters)for(const v of _.getFlattenedFilters())v.field.isKeyField()||(v.op==="array-contains"||v.op==="array-contains-any"?g=!0:f=f.add(v.field));for(const _ of d.orderBy)_.field.isKeyField()||(f=f.add(_.field));return f.size+(g?1:0)}(o)&&(r=1):r=0})).next(()=>function(u){return u.limit!==null}(t)&&i.length>1&&r===2?1:r)}yn(e,t){const r=new ed;for(const i of Zo(e)){const o=t.data.field(i.fieldPath);if(o==null)return null;const u=r.tn(i.kind);rl.xt.At(o,u)}return r.Yt()}fn(e){const t=new ed;return rl.xt.At(e,t.tn(0)),t.Yt()}wn(e,t){const r=new ed;return rl.xt.At(yl(this.databaseId,t),r.tn(function(o){const u=Zo(o);return u.length===0?0:u[u.length-1].kind}(e))),r.Yt()}Vn(e,t,r){if(r===null)return[];let i=[];i.push(new ed);let o=0;for(const u of Zo(e)){const h=r[o++];for(const d of i)if(this.bn(t,u.fieldPath)&&ef(h))i=this.Sn(i,u,h);else{const f=d.tn(u.kind);rl.xt.At(h,f)}}return this.Dn(i)}Rn(e,t,r){return this.Vn(e,t,r.position)}Dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Yt();return t}Sn(e,t,r){const i=[...e],o=[];for(const u of r.arrayValue.values||[])for(const h of i){const d=new ed;d.seed(h.Yt()),rl.xt.At(u,d.tn(t.kind)),o.push(d)}return o}bn(e,t){return!!e.filters.find(r=>r instanceof He&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){const r=td(e),i=xu(e);return(t?r.G(Y0,IDBKeyRange.bound(t,t)):r.G()).next(o=>{const u=[];return X.forEach(o,h=>i.get([h.indexId,this.uid]).next(d=>{u.push(function(g,_){const v=_?new Kd(_.sequenceNumber,new kr(bl(_.readTime),new _e($i(_.documentKey)),_.largestBatchId)):Kd.empty(),b=g.fields.map(([T,I])=>new Um(St.fromServerFormat(T),I));return new fg(g.indexId,g.collectionGroup,b,v)}(h,d))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:ke(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=td(e),o=xu(e);return this.vn(e).next(u=>i.G(Y0,IDBKeyRange.bound(t,t)).next(h=>X.forEach(h,d=>o.put(AR(d.indexId,this.uid,u,r)))))}updateIndexEntries(e,t){const r=new Map;return X.forEach(t,(i,o)=>{const u=r.get(i.collectionGroup);return(u?X.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),X.forEach(h,d=>this.Cn(e,i,d).next(f=>{const g=this.Fn(o,d);return f.isEqual(g)?X.resolve():this.Mn(e,o,d,f,g)}))))})}xn(e,t,r,i){return Ou(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.wn(r,t.key),documentKey:t.key.path.toArray()})}On(e,t,r,i){return Ou(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.wn(r,t.key),t.key.path.toArray()])}Cn(e,t,r){const i=Ou(e);let o=new lt(ka);return i.Z({index:hO,range:IDBKeyRange.only([r.indexId,this.uid,this.wn(r,t)])},(u,h)=>{o=o.add(new il(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}Fn(e,t){let r=new lt(ka);const i=this.yn(t,e);if(i==null)return r;const o=W0(t);if(o!=null){const u=e.data.field(o.fieldPath);if(ef(u))for(const h of u.arrayValue.values||[])r=r.add(new il(t.indexId,e.key,this.fn(h),i))}else r=r.add(new il(t.indexId,e.key,bm,i));return r}Mn(e,t,r,i,o){pe(DR,"Updating index entries for document '%s'",t.key);const u=[];return function(d,f,g,_,v){const b=d.getIterator(),T=f.getIterator();let I=Cu(b),O=Cu(T);for(;I||O;){let L=!1,V=!1;if(I&&O){const U=g(I,O);U<0?V=!0:U>0&&(L=!0)}else I!=null?V=!0:L=!0;L?(_(O),O=Cu(T)):V?(v(I),I=Cu(b)):(I=Cu(b),O=Cu(T))}}(i,o,ka,h=>{u.push(this.xn(e,t,r,h))},h=>{u.push(this.On(e,t,r,h))}),X.waitFor(u)}vn(e){let t=1;return xu(e).Z({index:cO,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>ka(u,h)).filter((u,h,d)=>!h||ka(u,d[h-1])!==0);const i=[];i.push(e);for(const u of r){const h=ka(u,e),d=ka(u,t);if(h===0)i[0]=e.nn();else if(h>0&&d<0)i.push(u),i.push(u.nn());else if(d>0)break}i.push(t);const o=[];for(let u=0;u<i.length;u+=2){if(this.Nn(i[u],i[u+1]))return[];const h=[i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,bm,[]],d=[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,bm,[]];o.push(IDBKeyRange.bound(h,d))}return o}Nn(e,t){return ka(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(NR)}getMinOffset(e,t){return X.mapArray(this.dn(t),r=>this.An(e,r).next(i=>i||be())).next(NR)}}function kR(n){return mn(n,Xd)}function Ou(n){return mn(n,_g)}function td(n){return mn(n,yw)}function xu(n){return mn(n,yg)}function NR(n){Ae(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;pw(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new kr(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mx=41943040;class Hn{static withCacheSize(e){return new Hn(e,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(n,e,t){const r=n.store(di),i=n.store(ic),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=r.Z({range:u},(g,_,v)=>(h++,v.delete()));o.push(d.next(()=>{Ae(h===1)}));const f=[];for(const g of t.mutations){const _=oO(e,g.key.path,t.batchId);o.push(i.delete(_)),f.push(g.key)}return X.waitFor(o).next(()=>f)}function Sg(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw be();e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn.DEFAULT_COLLECTION_PERCENTILE=10,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Hn.DEFAULT=new Hn(mx,Hn.DEFAULT_COLLECTION_PERCENTILE,Hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Hn.DISABLED=new Hn(-1,0,0);class ay{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Bn={}}static It(e,t,r,i){Ae(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new ay(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Na(e).Z({index:al,range:r},(i,o,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=qu(e),u=Na(e);return u.add({}).next(h=>{Ae(typeof h=="number");const d=new Rw(h,t,r,i),f=function(b,T,I){const O=I.baseMutations.map(V=>rf(b.Tt,V)),L=I.mutations.map(V=>rf(b.Tt,V));return{userId:T,batchId:I.batchId,localWriteTimeMs:I.localWriteTime.toMillis(),baseMutations:O,mutations:L}}(this.serializer,this.userId,d),g=[];let _=new lt((v,b)=>ke(v.canonicalString(),b.canonicalString()));for(const v of i){const b=oO(this.userId,v.key.path,h);_=_.add(v.key.path.popLast()),g.push(u.put(f)),g.push(o.put(b,o5))}return _.forEach(v=>{g.push(this.indexManager.addToCollectionParentIndex(e,v))}),e.addOnCommittedListener(()=>{this.Bn[h]=d.keys()}),X.waitFor(g).next(()=>d)})}lookupMutationBatch(e,t){return Na(e).get(t).next(r=>r?(Ae(r.userId===this.userId),nl(this.serializer,r)):null)}Ln(e,t){return this.Bn[t]?X.resolve(this.Bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Na(e).Z({index:al,range:i},(u,h,d)=>{h.userId===this.userId&&(Ae(h.batchId>=r),o=nl(this.serializer,h)),d.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=$a;return Na(e).Z({index:al,range:t,reverse:!0},(i,o,u)=>{r=o.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,$a],[this.userId,Number.POSITIVE_INFINITY]);return Na(e).G(al,t).next(r=>r.map(i=>nl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Fm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return qu(e).Z({range:i},(u,h,d)=>{const[f,g,_]=u,v=$i(g);if(f===this.userId&&t.path.isEqual(v))return Na(e).get(_).next(b=>{if(!b)throw be();Ae(b.userId===this.userId),o.push(nl(this.serializer,b))});d.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(ke);const i=[];return t.forEach(o=>{const u=Fm(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=qu(e).Z({range:h},(f,g,_)=>{const[v,b,T]=f,I=$i(b);v===this.userId&&o.path.isEqual(I)?r=r.add(T):_.done()});i.push(d)}),X.waitFor(i).next(()=>this.kn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=Fm(this.userId,r),u=IDBKeyRange.lowerBound(o);let h=new lt(ke);return qu(e).Z({range:u},(d,f,g)=>{const[_,v,b]=d,T=$i(v);_===this.userId&&r.isPrefixOf(T)?T.length===i&&(h=h.add(b)):g.done()}).next(()=>this.kn(e,h))}kn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(Na(e).get(o).next(u=>{if(u===null)throw be();Ae(u.userId===this.userId),r.push(nl(this.serializer,u))}))}),X.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return gx(e.ue,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.qn(t.batchId)}),X.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return X.resolve();const r=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),i=[];return qu(e).Z({range:r},(o,u,h)=>{if(o[0]===this.userId){const d=$i(o[1]);i.push(d)}else h.done()}).next(()=>{Ae(i.length===0)})})}containsKey(e,t){return yx(e,this.userId,t)}Qn(e){return _x(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:$a,lastStreamToken:""})}}function yx(n,e,t){const r=Fm(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let u=!1;return qu(n).Z({range:o,Y:!0},(h,d,f)=>{const[g,_,v]=h;g===e&&_===i&&(u=!0),f.done()}).next(()=>u)}function Na(n){return mn(n,di)}function qu(n){return mn(n,ic)}function _x(n){return mn(n,Qd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Tl(0)}static Un(){return new Tl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Wn(e).next(t=>{const r=new Tl(t.highestTargetId);return t.highestTargetId=r.next(),this.Gn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(t=>Re.fromTimestamp(new It(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Wn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Gn(e,i)))}addTargetData(e,t){return this.zn(e,t).next(()=>this.Wn(e).next(r=>(r.targetCount+=1,this.jn(t,r),this.Gn(e,r))))}updateTargetData(e,t){return this.zn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Du(e).delete(t.targetId)).next(()=>this.Wn(e)).next(r=>(Ae(r.targetCount>0),r.targetCount-=1,this.Gn(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Du(e).Z((u,h)=>{const d=Ad(h);d.sequenceNumber<=t&&r.get(d.targetId)===null&&(i++,o.push(this.removeTargetData(e,d)))}).next(()=>X.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Du(e).Z((r,i)=>{const o=Ad(i);t(o)})}Wn(e){return VR(e).get(gg).next(t=>(Ae(t!==null),t))}Gn(e,t){return VR(e).put(gg,t)}zn(e,t){return Du(e).put(dx(this.serializer,t))}jn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Wn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=_l(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Du(e).Z({range:i,index:uO},(u,h,d)=>{const f=Ad(h);Af(t,f.target)&&(o=f,d.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=Fa(e);return t.forEach(u=>{const h=Gn(u.path);i.push(o.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),X.waitFor(i)}removeMatchingKeys(e,t,r){const i=Fa(e);return X.forEach(t,o=>{const u=Gn(o.path);return X.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=Fa(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Fa(e);let o=Ve();return i.Z({range:r,Y:!0},(u,h,d)=>{const f=$i(u[1]),g=new _e(f);o=o.add(g)}).next(()=>o)}containsKey(e,t){const r=Gn(t.path),i=IDBKeyRange.bound([r],[eO(r)],!1,!0);let o=0;return Fa(e).Z({index:gw,Y:!0,range:i},([u,h],d,f)=>{u!==0&&(o++,f.done())}).next(()=>o>0)}lt(e,t){return Du(e).get(t).next(r=>r?Ad(r):null)}}function Du(n){return mn(n,sc)}function VR(n){return mn(n,dl)}function Fa(n){return mn(n,ac)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="LruGarbageCollector",PF=1048576;function UR([n,e],[t,r]){const i=ke(n,t);return i===0?ke(e,r):i}class OF{constructor(e){this.Hn=e,this.buffer=new lt(UR),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();UR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){pe(LR,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){po(t)?pe(LR,"Ignoring IndexedDB error during garbage collection: ",t):await fo(t)}await this.er(3e5)})}}class xF{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return X.resolve(cr.ae);const r=new OF(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(MR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MR):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,o,u,h,d,f;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,h=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),Fu()<=je.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function Ex(n,e){return new xF(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,t){this.db=e,this.garbageCollector=Ex(this,t)}nr(e){const t=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}rr(e,t){return this._r(e,(r,i)=>t(i))}addReference(e,t,r){return Tm(e,r)}removeReference(e,t,r){return Tm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Tm(e,t)}ar(e,t){return function(i,o){let u=!1;return _x(i).X(h=>yx(i,h,o).next(d=>(d&&(u=!0),X.resolve(!d)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this._r(e,(u,h)=>{if(h<=t){const d=this.ar(e,u).next(f=>{if(!f)return o++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Re.min()),Fa(e).delete(function(_){return[0,Gn(_.path)]}(u))))});i.push(d)}}).next(()=>X.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Tm(e,t)}_r(e,t){const r=Fa(e);let i,o=cr.ae;return r.Z({index:gw},([u,h],{path:d,sequenceNumber:f})=>{u===0?(o!==cr.ae&&t(new _e($i(i)),o),o=f,i=d):o=cr.ae}).next(()=>{o!==cr.ae&&t(new _e($i(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tm(n,e){return Fa(n).put(function(r,i){return{targetId:0,path:Gn(r.path),sequenceNumber:i}}(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.changes=new Ks(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Yo(e).put(r)}removeEntry(e,t,r){return Yo(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],bg(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.ur(e,r)))}getEntry(e,t){let r=vt.newInvalidDocument(t);return Yo(e).Z({index:Bm,range:IDBKeyRange.only(nd(t))},(i,o)=>{r=this.cr(t,o)}).next(()=>r)}lr(e,t){let r={size:0,document:vt.newInvalidDocument(t)};return Yo(e).Z({index:Bm,range:IDBKeyRange.only(nd(t))},(i,o)=>{r={document:this.cr(t,o),size:Sg(o)}}).next(()=>r)}getEntries(e,t){let r=dr();return this.hr(e,t,(i,o)=>{const u=this.cr(i,o);r=r.insert(i,u)}).next(()=>r)}Pr(e,t){let r=dr(),i=new yt(_e.comparator);return this.hr(e,t,(o,u)=>{const h=this.cr(o,u);r=r.insert(o,h),i=i.insert(o,Sg(u))}).next(()=>({documents:r,Tr:i}))}hr(e,t,r){if(t.isEmpty())return X.resolve();let i=new lt(jR);t.forEach(d=>i=i.add(d));const o=IDBKeyRange.bound(nd(i.first()),nd(i.last())),u=i.getIterator();let h=u.getNext();return Yo(e).Z({index:Bm,range:o},(d,f,g)=>{const _=_e.fromSegments([...f.prefixPath,f.collectionGroup,f.documentId]);for(;h&&jR(h,_)<0;)r(h,null),h=u.getNext();h&&h.isEqual(_)&&(r(h,f),h=u.hasNext()?u.getNext():null),h?g.W(nd(h)):g.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),bg(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yo(e).G(IDBKeyRange.bound(h,d,!0)).next(f=>{o==null||o.incrementDocumentReadCount(f.length);let g=dr();for(const _ of f){const v=this.cr(_e.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);v.isFoundDocument()&&(Rf(t,v)||i.has(v.key))&&(g=g.insert(v.key,v))}return g})}getAllFromCollectionGroup(e,t,r,i){let o=dr();const u=BR(t,r),h=BR(t,kr.max());return Yo(e).Z({index:lO,range:IDBKeyRange.bound(u,h,!0)},(d,f,g)=>{const _=this.cr(_e.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);o=o.insert(_.key,_),o.size===i&&g.done()}).next(()=>o)}newChangeBuffer(e){return new NF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return FR(e).get(Q0).next(t=>(Ae(!!t),t))}ur(e,t){return FR(e).put(Q0,t)}cr(e,t){if(t){const r=_F(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(Re.min())))return r}return vt.newInvalidDocument(e)}}function bx(n){return new kF(n)}class NF extends wx{constructor(e,t){super(),this.Ir=e,this.trackRemovals=t,this.Er=new Ks(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new lt((o,u)=>ke(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Er.get(o);if(t.push(this.Ir.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=TR(this.Ir.serializer,u);i=i.add(o.path.popLast());const f=Sg(d);r+=f-h.size,t.push(this.Ir.addEntry(e,o,d))}else if(r-=h.size,this.trackRemovals){const d=TR(this.Ir.serializer,u.convertToNoDocument(Re.min()));t.push(this.Ir.addEntry(e,o,d))}}),i.forEach(o=>{t.push(this.Ir.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.Ir.updateMetadata(e,r)),X.waitFor(t)}getFromCache(e,t){return this.Ir.lr(e,t).next(r=>(this.Er.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Ir.Pr(e,t).next(({documents:r,Tr:i})=>(i.forEach((o,u)=>{this.Er.set(o,{size:u,readTime:r.get(o).readTime})}),r))}}function FR(n){return mn(n,Yd)}function Yo(n){return mn(n,mg)}function nd(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function BR(n,e){const t=e.documentKey.path.toArray();return[n,bg(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function jR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=ke(t[o],r[o]),i)return i;return i=ke(t.length,r.length),i||(i=ke(t[t.length-2],r[r.length-2]),i||ke(t[t.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Nd(r.mutation,i,hr.empty(),It.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ve()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ve()){const i=Gi();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let u=Td();return o.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Gi();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ve()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let o=dr();const u=kd(),h=function(){return kd()}();return t.forEach((d,f)=>{const g=r.get(f.key);i.has(f.key)&&(g===void 0||g.mutation instanceof Ws)?o=o.insert(f.key,f):g!==void 0?(u.set(f.key,g.mutation.getFieldMask()),Nd(g.mutation,f,g.mutation.getFieldMask(),It.now())):u.set(f.key,hr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,g)=>u.set(f,g)),t.forEach((f,g)=>{var _;return h.set(f,new MF(g,(_=u.get(f))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,t){const r=kd();let i=new yt((u,h)=>u-h),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(d=>{const f=t.get(d);if(f===null)return;let g=r.get(d)||hr.empty();g=h.applyToLocalView(f,g),r.set(d,g);const _=(i.get(h.batchId)||Ve()).add(d);i=i.insert(h.batchId,_)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),f=d.key,g=d.value,_=FO();g.forEach(v=>{if(!o.has(v)){const b=GO(t.get(v),r.get(v));b!==null&&_.set(v,b),o=o.add(v)}}),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return X.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Tw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const u=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):X.resolve(Gi());let h=rc,d=o;return u.next(f=>X.forEach(f,(g,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next(v=>{d=d.insert(g,v)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,Ve())).next(g=>({batchId:h,changes:UO(g)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(r=>{let i=Td();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let u=Td();return this.indexManager.getCollectionParents(e,o).next(h=>X.forEach(h,d=>{const f=function(_,v){return new Gs(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(g=>{g.forEach((_,v)=>{u=u.insert(_,v)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(u=>{o.forEach((d,f)=>{const g=f.getKey();u.get(g)===null&&(u=u.insert(g,vt.newInvalidDocument(g)))});let h=Td();return u.forEach((d,f)=>{const g=o.get(d);g!==void 0&&Nd(g.mutation,f,hr.empty(),It.now()),Rf(t,f)&&(h=h.insert(d,f))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return X.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Qt(i.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:Dw(i.bundledQuery),readTime:Qt(i.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LF{constructor(){this.overlays=new yt(_e.comparator),this.Rr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Gi();return X.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.Et(e,t,o)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=Gi(),o=t.length+1,u=new _e(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,f=d.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new yt((f,g)=>f-g);const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let g=o.get(f.largestBatchId);g===null&&(g=Gi(),o=o.insert(f.largestBatchId,g)),g.set(f.getKey(),f)}}const h=Gi(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,g)=>h.set(f,g)),!(h.size()>=i)););return X.resolve(h)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Pw(t,r));let o=this.Rr.get(t);o===void 0&&(o=Ve(),this.Rr.set(t,o)),this.Rr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Vr=new lt(Tn.mr),this.gr=new lt(Tn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Tn(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Tn(e,t))}br(e,t){e.forEach(r=>this.removeReference(r,t))}Sr(e){const t=new _e(new qe([])),r=new Tn(t,e),i=new Tn(t,e+1),o=[];return this.gr.forEachInRange([r,i],u=>{this.wr(u),o.push(u.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new qe([])),r=new Tn(t,e),i=new Tn(t,e+1);let o=Ve();return this.gr.forEachInRange([r,i],u=>{o=o.add(u.key)}),o}containsKey(e){const t=new Tn(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Tn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||ke(e.Cr,t.Cr)}static pr(e,t){return ke(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new lt(Tn.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Rw(o,t,r,i);this.mutationQueue.push(u);for(const h of i)this.Mr=this.Mr.add(new Tn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?$a:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Tn(t,0),i=new Tn(t,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],u=>{const h=this.Or(u.Cr);o.push(h)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new lt(ke);return t.forEach(i=>{const o=new Tn(i,0),u=new Tn(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,u],h=>{r=r.add(h.Cr)})}),X.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const u=new Tn(new _e(o),0);let h=new lt(ke);return this.Mr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(h=h.add(d.Cr)),!0)},u),X.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ae(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return X.forEach(t.mutations,i=>{const o=new Tn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Tn(t,0),i=this.Mr.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.kr=e,this.docs=function(){return new yt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,u=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(t))}getEntries(e,t){let r=dr();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vt.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=dr();const u=t.path,h=new _e(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:f,value:{document:g}}=d.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||pw(nO(g),r)<=0||(i.has(g.key)||Rf(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,t,r,i){be()}qr(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new jF(this)}getSize(e){return X.resolve(this.size)}}class jF extends wx{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zF{constructor(e){this.persistence=e,this.Qr=new Ks(t=>_l(t),Af),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Mw,this.targetCount=0,this.Ur=Tl.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),X.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.zn(t),X.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.Qr.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.Kr.br(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(u=>{o.push(i.markPotentiallyOrphaned(e,u))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new cr(0),this.zr=!1,this.zr=!0,this.jr=new UF,this.referenceDelegate=e(this),this.Hr=new zF(this),this.indexManager=new IF,this.remoteDocumentCache=function(i){return new BF(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new hx(t),this.Yr=new VF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new LF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new FF(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe("MemoryPersistence","Starting transaction:",e);const i=new qF(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,t){return X.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class qF extends iO{constructor(e){super(),this.currentSequenceNumber=e}}class oy{constructor(e){this.persistence=e,this.ti=new Mw,this.ni=null}static ri(e){return new oy(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),X.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,r=>{const i=_e.fromPath(r);return this.si(e,i).next(o=>{o||t.removeEntry(i,Re.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return X.or([()=>X.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Ag{constructor(e,t){this.persistence=e,this.oi=new Ks(r=>Gn(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Ex(this,t)}static ri(e,t){return new Ag(e,t)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return X.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?X.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,u=>this.ar(e,u,t).next(h=>{h||(r++,o.removeEntry(u,Re.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),X.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zm(e.data.value)),t}ar(e,t,r){return X.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return X.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HF{constructor(e){this.serializer=e}B(e,t,r,i){const o=new Yg("createOrUpgrade",t);r<1&&i>=1&&(function(d){d.createObjectStore(Sf)}(e),function(d){d.createObjectStore(Qd,{keyPath:a5}),d.createObjectStore(di,{keyPath:ZI,autoIncrement:!0}).createIndex(al,eR,{unique:!0}),d.createObjectStore(ic)}(e),zR(e),function(d){d.createObjectStore(el)}(e));let u=X.resolve();return r<3&&i>=3&&(r!==0&&(function(d){d.deleteObjectStore(ac),d.deleteObjectStore(sc),d.deleteObjectStore(dl)}(e),zR(e)),u=u.next(()=>function(d){const f=d.store(dl),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Re.min().toTimestamp(),targetCount:0};return f.put(gg,g)}(o))),r<4&&i>=4&&(r!==0&&(u=u.next(()=>function(d,f){return f.store(di).G().next(_=>{d.deleteObjectStore(di),d.createObjectStore(di,{keyPath:ZI,autoIncrement:!0}).createIndex(al,eR,{unique:!0});const v=f.store(di),b=_.map(T=>v.put(T));return X.waitFor(b)})}(e,o))),u=u.next(()=>{(function(d){d.createObjectStore(oc,{keyPath:m5})})(e)})),r<5&&i>=5&&(u=u.next(()=>this._i(o))),r<6&&i>=6&&(u=u.next(()=>(function(d){d.createObjectStore(Yd)}(e),this.ai(o)))),r<7&&i>=7&&(u=u.next(()=>this.ui(o))),r<8&&i>=8&&(u=u.next(()=>this.ci(e,o))),r<9&&i>=9&&(u=u.next(()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(u=u.next(()=>this.li(o))),r<11&&i>=11&&(u=u.next(()=>{(function(d){d.createObjectStore(Xg,{keyPath:g5})})(e),function(d){d.createObjectStore(Jg,{keyPath:y5})}(e)})),r<12&&i>=12&&(u=u.next(()=>{(function(d){const f=d.createObjectStore(Zg,{keyPath:S5});f.createIndex(X0,A5,{unique:!1}),f.createIndex(dO,I5,{unique:!1})})(e)})),r<13&&i>=13&&(u=u.next(()=>function(d){const f=d.createObjectStore(mg,{keyPath:l5});f.createIndex(Bm,u5),f.createIndex(lO,c5)}(e)).next(()=>this.hi(e,o)).next(()=>e.deleteObjectStore(el))),r<14&&i>=14&&(u=u.next(()=>this.Pi(e,o))),r<15&&i>=15&&(u=u.next(()=>function(d){d.createObjectStore(yw,{keyPath:_5,autoIncrement:!0}).createIndex(Y0,v5,{unique:!1}),d.createObjectStore(yg,{keyPath:E5}).createIndex(cO,w5,{unique:!1}),d.createObjectStore(_g,{keyPath:b5}).createIndex(hO,T5,{unique:!1})}(e))),r<16&&i>=16&&(u=u.next(()=>{t.objectStore(yg).clear()}).next(()=>{t.objectStore(_g).clear()})),r<17&&i>=17&&(u=u.next(()=>{(function(d){d.createObjectStore(_w,{keyPath:R5})})(e)})),u}ai(e){let t=0;return e.store(el).Z((r,i)=>{t+=Sg(i)}).next(()=>{const r={byteSize:t};return e.store(Yd).put(Q0,r)})}_i(e){const t=e.store(Qd),r=e.store(di);return t.G().next(i=>X.forEach(i,o=>{const u=IDBKeyRange.bound([o.userId,$a],[o.userId,o.lastAcknowledgedBatchId]);return r.G(al,u).next(h=>X.forEach(h,d=>{Ae(d.userId===o.userId);const f=nl(this.serializer,d);return gx(e,o.userId,f).next(()=>{})}))}))}ui(e){const t=e.store(ac),r=e.store(el);return e.store(dl).get(gg).next(i=>{const o=[];return r.Z((u,h)=>{const d=new qe(u),f=function(_){return[0,Gn(_)]}(d);o.push(t.get(f).next(g=>g?X.resolve():(_=>t.put({targetId:0,path:Gn(_),sequenceNumber:i.highestListenSequenceNumber}))(d)))}).next(()=>X.waitFor(o))})}ci(e,t){e.createObjectStore(Xd,{keyPath:p5});const r=t.store(Xd),i=new Nw,o=u=>{if(i.add(u)){const h=u.lastSegment(),d=u.popLast();return r.put({collectionId:h,parent:Gn(d)})}};return t.store(el).Z({Y:!0},(u,h)=>{const d=new qe(u);return o(d.popLast())}).next(()=>t.store(ic).Z({Y:!0},([u,h,d],f)=>{const g=$i(h);return o(g.popLast())}))}li(e){const t=e.store(sc);return t.Z((r,i)=>{const o=Ad(i),u=dx(this.serializer,o);return t.put(u)})}hi(e,t){const r=t.store(el),i=[];return r.Z((o,u)=>{const h=t.store(mg),d=function(_){return _.document?new _e(qe.fromString(_.document.name).popFirst(5)):_.noDocument?_e.fromSegments(_.noDocument.path):_.unknownDocument?_e.fromSegments(_.unknownDocument.path):be()}(u).path.toArray(),f={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(f))}).next(()=>X.waitFor(i))}Pi(e,t){const r=t.store(di),i=bx(this.serializer),o=new Vw(oy.ri,this.serializer.Tt);return r.G().next(u=>{const h=new Map;return u.forEach(d=>{var f;let g=(f=h.get(d.userId))!==null&&f!==void 0?f:Ve();nl(this.serializer,d).keys().forEach(_=>g=g.add(_)),h.set(d.userId,g)}),X.forEach(h,(d,f)=>{const g=new Sn(f),_=sy.It(this.serializer,g),v=o.getIndexManager(g),b=ay.It(g,this.serializer,v,o.referenceDelegate);return new Tx(i,b,_,v).recalculateAndSaveOverlaysForDocumentKeys(new J0(t,cr.ae),d).next()})})}}function zR(n){n.createObjectStore(ac,{keyPath:d5}).createIndex(gw,f5,{unique:!0}),n.createObjectStore(sc,{keyPath:"targetId"}).createIndex(uO,h5,{unique:!0}),n.createObjectStore(dl)}const Ma="IndexedDbPersistence",d0=18e5,f0=5e3,p0="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sx="main";class Lw{constructor(e,t,r,i,o,u,h,d,f,g,_=17){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ti=o,this.window=u,this.document=h,this.Ii=f,this.Ei=g,this.di=_,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=v=>Promise.resolve(),!Lw.D())throw new de(ne.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DF(this,i),this.gi=t+Sx,this.serializer=new hx(d),this.pi=new Wi(this.gi,this.di,new HF(this.serializer)),this.jr=new EF,this.Hr=new CF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bx(this.serializer),this.Yr=new vF,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,g===!1&&Wt(Ma,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,p0);return this.bi(),this.Si(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new cr(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(t=>{t||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(t=>this.isPrimary&&!t?this.xi(e).next(()=>!1):!!t&&this.Oi(e).next(()=>!0))).catch(e=>{if(po(e))return pe(Ma,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(Ma,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return rd(e).get(Ru).next(t=>X.resolve(this.Ni(t)))}Bi(e){return Sm(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,d0)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const r=mn(t,oc);return r.G().next(i=>{const o=this.qi(i,d0),u=i.filter(h=>o.indexOf(h)===-1);return X.forEach(u,h=>r.delete(h.clientId)).next(()=>u)})}).catch(()=>[]);if(this.yi)for(const t of e)this.yi.removeItem(this.Qi(t.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?X.resolve(!0):rd(e).get(Ru).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,f0)&&!this.$i(t.ownerId)){if(this.Ni(t)&&this.networkEnabled)return!0;if(!this.Ni(t)){if(!t.allowTabSynchronization)throw new de(ne.FAILED_PRECONDITION,p0);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sm(e).G().next(r=>this.qi(r,f0).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(o||u&&h)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&pe(Ma,`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.zr=!1,this.Ki(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ui(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[Sf,oc],e=>{const t=new J0(e,cr.ae);return this.xi(t).next(()=>this.Bi(t))}),this.pi.close(),this.Gi()}qi(e,t){return e.filter(r=>this.ki(r.updateTimeMs,t)&&!this.$i(r.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Sm(e).G().next(t=>this.qi(t,d0).map(r=>r.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,t){return ay.It(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new RF(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return sy.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,t,r){pe(Ma,"Starting transaction:",e);const i=t==="readonly"?"readonly":"readwrite",o=function(d){return d===17?O5:d===16?P5:d===15?vw:d===14?mO:d===13?pO:d===12?C5:d===11?fO:void be()}(this.di);let u;return this.pi.runTransaction(e,i,o,h=>(u=new J0(h,this.Gr?this.Gr.next():cr.ae),t==="readwrite-primary"?this.Fi(u).next(d=>!!d||this.Mi(u)).next(d=>{if(!d)throw Wt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new de(ne.FAILED_PRECONDITION,rO);return r(u)}).next(d=>this.Oi(u).next(()=>d)):this.ji(u).next(()=>r(u)))).then(h=>(u.raiseOnCommittedEvent(),h))}ji(e){return rd(e).get(Ru).next(t=>{if(t!==null&&this.ki(t.leaseTimestampMs,f0)&&!this.$i(t.ownerId)&&!this.Ni(t)&&!(this.Ei||this.allowTabSynchronization&&t.allowTabSynchronization))throw new de(ne.FAILED_PRECONDITION,p0)})}Oi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rd(e).put(Ru,t)}static D(){return Wi.D()}xi(e){const t=rd(e);return t.get(Ru).next(r=>this.Ni(r)?(pe(Ma,"Releasing primary lease."),t.delete(Ru)):X.resolve())}ki(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(Wt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}bi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ui(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}Si(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ki();const t=/(?:Version|Mobile)\/1[456]/;OP()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var t;try{const r=((t=this.yi)===null||t===void 0?void 0:t.getItem(this.Qi(e)))!==null;return pe(Ma,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Wt(Ma,"Failed to get zombied client id.",r),!1}}Ki(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){Wt("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rd(n){return mn(n,Sf)}function Sm(n){return mn(n,oc)}function Uw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=Ve(),i=Ve();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Fw(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return OP()?8:sO(Mt())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.rs(e,t).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.ss(e,t,i,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new $F;return this._s(e,t,u).next(h=>{if(o.result=h,this.Xi)return this.us(e,t,u,h.size)})}).next(()=>o.result)}us(e,t,r,i){return r.documentReadCount<this.es?(Fu()<=je.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Bu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(Fu()<=je.DEBUG&&pe("QueryEngine","Query:",Bu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Fu()<=je.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Bu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):X.resolve())}rs(e,t){if(fR(t))return X.resolve(null);let r=nr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=wg(t,null,"F"),r=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=Ve(...o);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.cs(t,h);return this.ls(t,f,u,d.readTime)?this.rs(e,wg(t,null,"F")):this.hs(e,f,t,d)}))})))}ss(e,t,r,i){return fR(t)||i.isEqual(Re.min())?X.resolve(null):this.ns.getDocuments(e,r).next(o=>{const u=this.cs(t,o);return this.ls(t,u,r,i)?X.resolve(null):(Fu()<=je.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bu(t)),this.hs(e,u,t,tO(i,rc)).next(h=>h))})}cs(e,t){let r=new lt(VO(e));return t.forEach((i,o)=>{Rf(e,o)&&(r=r.add(o))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,t,r){return Fu()<=je.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Bu(t)),this.ns.getDocumentsMatchingQuery(e,t,kr.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw="LocalStore",GF=3e8;class KF{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new yt(ke),this.Is=new Ks(o=>_l(o),Af),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tx(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Ix(n,e,t,r){return new KF(n,e,t,r)}async function Rx(n,e){const t=Ee(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],h=[];let d=Ve();for(const f of i){u.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}for(const f of o){h.push(f.batchId);for(const g of f.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(r,d).next(f=>({Rs:f,removedBatchIds:u,addedBatchIds:h}))})})}function WF(n,e){const t=Ee(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,d,f,g){const _=f.batch,v=_.keys();let b=X.resolve();return v.forEach(T=>{b=b.next(()=>g.getEntry(d,T)).next(I=>{const O=f.docVersions.get(T);Ae(O!==null),I.version.compareTo(O)<0&&(_.applyToRemoteDocument(I,f),I.isValidDocument()&&(I.setReadTime(f.commitVersion),g.addEntry(I)))})}),b.next(()=>h.mutationQueue.removeMutationBatch(d,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Ve();for(let f=0;f<h.mutationResults.length;++f)h.mutationResults[f].transformResults.length>0&&(d=d.add(h.batch.mutations[f].key));return d}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Cx(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function QF(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const h=[];e.targetChanges.forEach((g,_)=>{const v=i.get(_);if(!v)return;h.push(t.Hr.removeMatchingKeys(o,g.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(o,g.addedDocuments,_)));let b=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(qt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),i=i.insert(_,b),function(I,O,L){return I.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=GF?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(v,b,g)&&h.push(t.Hr.updateTargetData(o,b))});let d=dr(),f=Ve();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))}),h.push(Px(o,u,e.documentUpdates).next(g=>{d=g.Vs,f=g.fs})),!r.isEqual(Re.min())){const g=t.Hr.getLastRemoteSnapshotVersion(o).next(_=>t.Hr.setTargetsMetadata(o,o.currentSequenceNumber,r));h.push(g)}return X.waitFor(h).next(()=>u.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(t.Ts=i,o))}function Px(n,e,t){let r=Ve(),i=Ve();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=dr();return t.forEach((h,d)=>{const f=o.get(h);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(Re.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):pe(Bw,"Ignoring outdated watch update for ",h,". Current version:",f.version," Watch version:",d.version)}),{Vs:u,fs:i}})}function YF(n,e){const t=Ee(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$a),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pc(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):t.Hr.allocateTargetId(r).next(u=>(i=new xs(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function mc(n,e,t){const r=Ee(n),i=r.Ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!po(u))throw u;pe(Bw,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function Ig(n,e,t){const r=Ee(n);let i=Re.min(),o=Ve();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,f,g){const _=Ee(d),v=_.Is.get(g);return v!==void 0?X.resolve(_.Ts.get(v)):_.Hr.getTargetData(f,g)}(r,u,nr(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,h.targetId).next(d=>{o=d})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,t?i:Re.min(),t?o:Ve())).next(h=>(Dx(r,MO(e),h),{documents:h,gs:o})))}function Ox(n,e){const t=Ee(n),r=Ee(t.Hr),i=t.Ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.lt(o,e).next(u=>u?u.target:null))}function xx(n,e){const t=Ee(n),r=t.Es.get(e)||Re.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ds.getAllFromCollectionGroup(i,e,tO(r,rc),Number.MAX_SAFE_INTEGER)).then(i=>(Dx(t,e,i),i))}function Dx(n,e,t){let r=n.Es.get(e)||Re.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Es.set(e,r)}async function XF(n,e,t,r){const i=Ee(n);let o=Ve(),u=dr();for(const f of t){const g=e.ps(f.metadata.name);f.document&&(o=o.add(g));const _=e.ys(f);_.setReadTime(e.ws(f.metadata.readTime)),u=u.insert(g,_)}const h=i.ds.newChangeBuffer({trackRemovals:!0}),d=await pc(i,function(g){return nr(Oc(qe.fromString(`__bundle__/docs/${g}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",f=>Px(f,h,u).next(g=>(h.apply(f),g)).next(g=>i.Hr.removeMatchingKeysForTargetId(f,d.targetId).next(()=>i.Hr.addMatchingKeys(f,o,d.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,g.Vs,g.fs)).next(()=>g.Vs)))}async function JF(n,e,t=Ve()){const r=await pc(n,nr(Dw(e.bundledQuery))),i=Ee(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const u=Qt(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Yr.saveNamedQuery(o,e);const h=r.withResumeToken(qt.EMPTY_BYTE_STRING,u);return i.Ts=i.Ts.insert(h.targetId,h),i.Hr.updateTargetData(o,h).next(()=>i.Hr.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Hr.addMatchingKeys(o,t,r.targetId)).next(()=>i.Yr.saveNamedQuery(o,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="firestore_clients";function qR(n,e){return`${kx}_${n}_${e}`}const Nx="firestore_mutations";function HR(n,e,t){let r=`${Nx}_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const Mx="firestore_targets";function m0(n,e){return`${Mx}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="SharedClientState";class Rg{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static bs(e,t,r){const i=JSON.parse(r);let o,u=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return u&&i.error&&(u=typeof i.error.message=="string"&&typeof i.error.code=="string",u&&(o=new de(i.error.code,i.error.message))),u?new Rg(e,t,i.state,o):(Wt(Ui,`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Md{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static bs(e,t){const r=JSON.parse(t);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new de(r.error.code,r.error.message))),o?new Md(e,r.state,i):(Wt(Ui,`Failed to parse target state for ID '${e}': ${t}`),null)}Ss(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Cg{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static bs(e,t){const r=JSON.parse(t);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Sw();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=aO(r.activeTargetIds[u]),o=o.add(r.activeTargetIds[u]);return i?new Cg(e,o):(Wt(Ui,`Failed to parse client data for instance '${e}': ${t}`),null)}}class jw{constructor(e,t){this.clientId=e,this.onlineState=t}static bs(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new jw(t.clientId,t.onlineState):(Wt(Ui,`Failed to parse online state: ${e}`),null)}}class fE{constructor(){this.activeTargetIds=Sw()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g0{constructor(e,t,r,i,o){this.window=e,this.Ti=t,this.persistenceKey=r,this.Cs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Fs=this.Ms.bind(this),this.xs=new yt(ke),this.started=!1,this.Os=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ns=qR(this.persistenceKey,this.Cs),this.Bs=function(d){return`firestore_sequence_number_${d}`}(this.persistenceKey),this.xs=this.xs.insert(this.Cs,new fE),this.Ls=new RegExp(`^${kx}_${u}_([^_]*)$`),this.ks=new RegExp(`^${Nx}_${u}_(\\d+)(?:_(.*))?$`),this.qs=new RegExp(`^${Mx}_${u}_(\\d+)$`),this.Qs=function(d){return`firestore_online_state_${d}`}(this.persistenceKey),this.$s=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.Fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.zi();for(const r of e){if(r===this.Cs)continue;const i=this.getItem(qR(this.persistenceKey,r));if(i){const o=Cg.bs(r,i);o&&(this.xs=this.xs.insert(o.clientId,o))}}this.Ks();const t=this.storage.getItem(this.Qs);if(t){const r=this.Us(t);r&&this.Ws(r)}for(const r of this.Os)this.Ms(r);this.Os=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Bs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Gs(this.xs)}isActiveQueryTarget(e){let t=!1;return this.xs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.zs(e,"pending")}updateMutationState(e,t,r){this.zs(e,t,r),this.js(e)}addLocalQueryTarget(e,t=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(m0(this.persistenceKey,e));if(i){const o=Md.bs(e,i);o&&(r=o.state)}}return t&&this.Hs.Ds(e),this.Ks(),r}removeLocalQueryTarget(e){this.Hs.vs(e),this.Ks()}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(m0(this.persistenceKey,e))}updateQueryState(e,t,r){this.Js(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.js(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Ys(e)}notifyBundleLoaded(e){this.Zs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Fs),this.removeItem(this.Ns),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return pe(Ui,"READ",e,t),t}setItem(e,t){pe(Ui,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){pe(Ui,"REMOVE",e),this.storage.removeItem(e)}Ms(e){const t=e;if(t.storageArea===this.storage){if(pe(Ui,"EVENT",t.key,t.newValue),t.key===this.Ns)return void Wt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ti.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this.Ls.test(t.key)){if(t.newValue==null){const r=this.Xs(t.key);return this.eo(r,null)}{const r=this.no(t.key,t.newValue);if(r)return this.eo(r.clientId,r)}}else if(this.ks.test(t.key)){if(t.newValue!==null){const r=this.ro(t.key,t.newValue);if(r)return this.io(r)}}else if(this.qs.test(t.key)){if(t.newValue!==null){const r=this.so(t.key,t.newValue);if(r)return this.oo(r)}}else if(t.key===this.Qs){if(t.newValue!==null){const r=this.Us(t.newValue);if(r)return this.Ws(r)}}else if(t.key===this.Bs){const r=function(o){let u=cr.ae;if(o!=null)try{const h=JSON.parse(o);Ae(typeof h=="number"),u=h}catch(h){Wt(Ui,"Failed to read sequence number from WebStorage",h)}return u}(t.newValue);r!==cr.ae&&this.sequenceNumberHandler(r)}else if(t.key===this.$s){const r=this._o(t.newValue);await Promise.all(r.map(i=>this.syncEngine.ao(i)))}}}else this.Os.push(t)})}}get Hs(){return this.xs.get(this.Cs)}Ks(){this.setItem(this.Ns,this.Hs.Ss())}zs(e,t,r){const i=new Rg(this.currentUser,e,t,r),o=HR(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Ss())}js(e){const t=HR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Ys(e){const t={clientId:this.Cs,onlineState:e};this.storage.setItem(this.Qs,JSON.stringify(t))}Js(e,t,r){const i=m0(this.persistenceKey,e),o=new Md(e,t,r);this.setItem(i,o.Ss())}Zs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.$s,t)}Xs(e){const t=this.Ls.exec(e);return t?t[1]:null}no(e,t){const r=this.Xs(e);return Cg.bs(r,t)}ro(e,t){const r=this.ks.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return Rg.bs(new Sn(o),i,t)}so(e,t){const r=this.qs.exec(e),i=Number(r[1]);return Md.bs(i,t)}Us(e){return jw.bs(e)}_o(e){return JSON.parse(e)}async io(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.uo(e.batchId,e.state,e.error);pe(Ui,`Ignoring mutation for non-active user ${e.user.uid}`)}oo(e){return this.syncEngine.co(e.targetId,e.state,e.error)}eo(e,t){const r=t?this.xs.insert(e,t):this.xs.remove(e),i=this.Gs(this.xs),o=this.Gs(r),u=[],h=[];return o.forEach(d=>{i.has(d)||u.push(d)}),i.forEach(d=>{o.has(d)||h.push(d)}),this.syncEngine.lo(u,h).then(()=>{this.xs=r})}Ws(e){this.xs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Gs(e){let t=Sw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Vx{constructor(){this.ho=new fE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new fE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZF{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="ConnectivityMonitor";class GR{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){pe($R,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){pe($R,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am=null;function pE(){return Am===null?Am=function(){return 268435456+Math.round(2147483648*Math.random())}():Am++,"0x"+Am.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="RestConnection",eB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tB{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Z0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}bo(e,t,r,i,o){const u=pE(),h=this.So(e,t.toUriEncodedString());pe(y0,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(d,i,o),this.vo(e,h,d,r).then(f=>(pe(y0,`Received RPC '${e}' ${u}: `,f),f),f=>{throw Xi(y0,`RPC '${e}' ${u} failed with error: `,f,"url: ",h,"request:",r),f})}Co(e,t,r,i,o,u){return this.bo(e,t,r,i,o)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Pc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}So(e,t){const r=eB[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn="WebChannelConnection";class rB extends tB{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const o=pE();return new Promise((u,h)=>{const d=new KP;d.setWithCredentials(!0),d.listenOnce(WP.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Lm.NO_ERROR:const g=d.getResponseJson();pe(zn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(g)),u(g);break;case Lm.TIMEOUT:pe(zn,`RPC '${e}' ${o} timed out`),h(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Lm.HTTP_ERROR:const _=d.getStatus();if(pe(zn,`RPC '${e}' ${o} failed with status:`,_,"response text:",d.getResponseText()),_>0){let v=d.getResponseJson();Array.isArray(v)&&(v=v[0]);const b=v==null?void 0:v.error;if(b&&b.status&&b.message){const T=function(O){const L=O.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(L)>=0?L:ne.UNKNOWN}(b.status);h(new de(T,b.message))}else h(new de(ne.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new de(ne.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{pe(zn,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);pe(zn,`RPC '${e}' ${o} sending request:`,i),d.send(t,"POST",f,r,15)})}Wo(e,t,r){const i=pE(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=XP(),h=YP(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Do(d.initMessageHeaders,t,r),d.encodeInitMessageHeaders=!0;const g=o.join("");pe(zn,`Creating RPC '${e}' stream ${i}: ${g}`,d);const _=u.createWebChannel(g,d);let v=!1,b=!1;const T=new nB({Fo:O=>{b?pe(zn,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(v||(pe(zn,`Opening RPC '${e}' stream ${i} transport.`),_.open(),v=!0),pe(zn,`RPC '${e}' stream ${i} sending:`,O),_.send(O))},Mo:()=>_.close()}),I=(O,L,V)=>{O.listen(L,U=>{try{V(U)}catch($){setTimeout(()=>{throw $},0)}})};return I(_,bd.EventType.OPEN,()=>{b||(pe(zn,`RPC '${e}' stream ${i} transport opened.`),T.Qo())}),I(_,bd.EventType.CLOSE,()=>{b||(b=!0,pe(zn,`RPC '${e}' stream ${i} transport closed`),T.Ko())}),I(_,bd.EventType.ERROR,O=>{b||(b=!0,Xi(zn,`RPC '${e}' stream ${i} transport errored:`,O),T.Ko(new de(ne.UNAVAILABLE,"The operation could not be completed")))}),I(_,bd.EventType.MESSAGE,O=>{var L;if(!b){const V=O.data[0];Ae(!!V);const U=V,$=(U==null?void 0:U.error)||((L=U[0])===null||L===void 0?void 0:L.error);if($){pe(zn,`RPC '${e}' stream ${i} received error:`,$);const j=$.status;let H=function(R){const w=nn[R];if(w!==void 0)return QO(w)}(j),M=$.message;H===void 0&&(H=ne.INTERNAL,M="Unknown error status: "+j+" with message "+$.message),b=!0,T.Ko(new de(H,M)),_.close()}else pe(zn,`RPC '${e}' stream ${i} received:`,V),T.Uo(V)}}),I(h,QP.STAT_EVENT,O=>{O.stat===K0.PROXY?pe(zn,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===K0.NOPROXY&&pe(zn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){return typeof window<"u"?window:null}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n){return new lF(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="PersistentStream";class Ux{constructor(e,t,r,i,o,u,h,d){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(Wt(t.toString()),Wt("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return pe(KR,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(pe(KR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iB extends Ux{constructor(e,t,r,i,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=hF(this.serializer,e),r=function(o){if(!("targetChange"in o))return Re.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Re.min():u.readTime?Qt(u.readTime):Re.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=lE(this.serializer),t.addTarget=function(o,u){let h;const d=u.target;if(h=vg(d)?{documents:sx(o,d)}:{query:ax(o,d).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=ZO(o,u.resumeToken);const f=aE(o,u.expectedCount);f!==null&&(h.expectedCount=f)}else if(u.snapshotVersion.compareTo(Re.min())>0){h.readTime=fc(o,u.snapshotVersion.toTimestamp());const f=aE(o,u.expectedCount);f!==null&&(h.expectedCount=f)}return h}(this.serializer,e);const r=fF(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=lE(this.serializer),t.removeTarget=e,this.I_(t)}}class sB extends Ux{constructor(e,t,r,i,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.serializer=o}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=dF(e.writeResults,e.commitTime),r=Qt(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=lE(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>rf(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aB{}class oB extends aB{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.bo(e,oE(t,r),i,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new de(ne.UNKNOWN,o.toString())})}Co(e,t,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,oE(t,r),i,u,h,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class lB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Wt(t),this.N_=!1):pe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="RemoteStore";class uB{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(u=>{r.enqueueAndForget(async()=>{go(this)&&(pe(Sl,"Restarting streams for network reachability change."),await async function(d){const f=Ee(d);f.W_.add(4),await kc(f),f.j_.set("Unknown"),f.W_.delete(4),await Df(f)}(this))})}),this.j_=new lB(r,i)}}async function Df(n){if(go(n))for(const e of n.G_)await e(!0)}async function kc(n){for(const e of n.G_)await e(!1)}function ly(n,e){const t=Ee(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),$w(t)?Hw(t):Mc(t).c_()&&qw(t,e))}function gc(n,e){const t=Ee(n),r=Mc(t);t.U_.delete(e),r.c_()&&Fx(t,e),t.U_.size===0&&(r.c_()?r.P_():go(t)&&t.j_.set("Unknown"))}function qw(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mc(n).y_(e)}function Fx(n,e){n.H_.Ne(e),Mc(n).w_(e)}function Hw(n){n.H_=new iF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Mc(n).start(),n.j_.B_()}function $w(n){return go(n)&&!Mc(n).u_()&&n.U_.size>0}function go(n){return Ee(n).W_.size===0}function Bx(n){n.H_=void 0}async function cB(n){n.j_.set("Online")}async function hB(n){n.U_.forEach((e,t)=>{qw(n,e)})}async function dB(n,e){Bx(n),$w(n)?(n.j_.q_(e),Hw(n)):n.j_.set("Unknown")}async function fB(n,e,t){if(n.j_.set("Online"),e instanceof JO&&e.state===2&&e.cause)try{await async function(i,o){const u=o.cause;for(const h of o.targetIds)i.U_.has(h)&&(await i.remoteSyncer.rejectListen(h,u),i.U_.delete(h),i.H_.removeTarget(h))}(n,e)}catch(r){pe(Sl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Pg(n,r)}else if(e instanceof $m?n.H_.We(e):e instanceof XO?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Re.min()))try{const r=await Cx(n.localStore);t.compareTo(r)>=0&&await function(o,u){const h=o.H_.ot(u);return h.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.U_.get(f);g&&o.U_.set(f,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,f)=>{const g=o.U_.get(d);if(!g)return;o.U_.set(d,g.withResumeToken(qt.EMPTY_BYTE_STRING,g.snapshotVersion)),Fx(o,d);const _=new xs(g.target,d,f,g.sequenceNumber);qw(o,_)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(r){pe(Sl,"Failed to raise snapshot:",r),await Pg(n,r)}}async function Pg(n,e,t){if(!po(e))throw e;n.W_.add(1),await kc(n),n.j_.set("Offline"),t||(t=()=>Cx(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{pe(Sl,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Df(n)})}function jx(n,e){return e().catch(t=>Pg(n,t,e))}async function Nc(n){const e=Ee(n),t=ro(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:$a;for(;pB(e);)try{const i=await YF(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,mB(e,i)}catch(i){await Pg(e,i)}zx(e)&&qx(e)}function pB(n){return go(n)&&n.K_.length<10}function mB(n,e){n.K_.push(e);const t=ro(n);t.c_()&&t.b_&&t.S_(e.mutations)}function zx(n){return go(n)&&!ro(n).u_()&&n.K_.length>0}function qx(n){ro(n).start()}async function gB(n){ro(n).C_()}async function yB(n){const e=ro(n);for(const t of n.K_)e.S_(t.mutations)}async function _B(n,e,t){const r=n.K_.shift(),i=Cw.from(r,e,t);await jx(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Nc(n)}async function vB(n,e){e&&ro(n).b_&&await async function(r,i){if(function(u){return WO(u)&&u!==ne.ABORTED}(i.code)){const o=r.K_.shift();ro(r).h_(),await jx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Nc(r)}}(n,e),zx(n)&&qx(n)}async function WR(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),pe(Sl,"RemoteStore received new credentials");const r=go(t);t.W_.add(3),await kc(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Df(t)}async function mE(n,e){const t=Ee(n);e?(t.W_.delete(2),await Df(t)):e||(t.W_.add(2),await kc(t),t.j_.set("Unknown"))}function Mc(n){return n.J_||(n.J_=function(t,r,i){const o=Ee(t);return o.M_(),new iB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:cB.bind(null,n),No:hB.bind(null,n),Lo:dB.bind(null,n),p_:fB.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),$w(n)?Hw(n):n.j_.set("Unknown")):(await n.J_.stop(),Bx(n))})),n.J_}function ro(n){return n.Y_||(n.Y_=function(t,r,i){const o=Ee(t);return o.M_(),new sB(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:gB.bind(null,n),Lo:vB.bind(null,n),D_:yB.bind(null,n),v_:_B.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Nc(n)):(await n.Y_.stop(),n.K_.length>0&&(pe(Sl,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const u=Date.now()+r,h=new Gw(e,t,u,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vc(n,e){if(Wt("AsyncQueue",`${e}: ${n}`),po(n))return new de(ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{static emptySet(e){return new Ku(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||_e.comparator(t.key,r.key):(t,r)=>_e.comparator(t.key,r.key),this.keyedMap=Td(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ku)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ku;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this.Z_=new yt(_e.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class yc{constructor(e,t,r,i,o,u,h,d,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,i,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new yc(e,t,Ku.emptySet(t),u,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&If(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class wB{constructor(){this.queries=YR(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=Ee(t),o=i.queries;i.queries=YR(),o.forEach((u,h)=>{for(const d of h.ta)d.onError(r)})})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function YR(){return new Ks(n=>NO(n),If)}async function Kw(n,e){const t=Ee(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.na()&&e.ra()&&(r=2):(o=new EB,r=e.ra()?0:1);try{switch(r){case 0:o.ea=await t.onListen(i,!0);break;case 1:o.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(u){const h=Vc(u,`Initialization of query '${Bu(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ta.push(e),e.sa(t.onlineState),o.ea&&e.oa(o.ea)&&Qw(t)}async function Ww(n,e){const t=Ee(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const u=o.ta.indexOf(e);u>=0&&(o.ta.splice(u,1),o.ta.length===0?i=e.ra()?0:1:!o.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function bB(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=i.query,u=t.queries.get(o);if(u){for(const h of u.ta)h.oa(i)&&(r=!0);u.ea=i}}r&&Qw(t)}function TB(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const o of i.ta)o.onError(t);r.queries.delete(e)}function Qw(n){n.ia.forEach(e=>{e.next()})}var gE,XR;(XR=gE||(gE={}))._a="default",XR.Cache="cache";class Yw{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new yc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=yc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gE.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SB{constructor(e,t){this.Ia=e,this.byteLength=t}Ea(){return"metadata"in this.Ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.serializer=e}ps(e){return Qi(this.serializer,e)}ys(e){return e.metadata.exists?ix(this.serializer,e.document,!1):vt.newNoDocument(this.ps(e.metadata.name),this.ws(e.metadata.readTime))}ws(e){return Qt(e)}}class AB{constructor(e,t,r){this.da=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Hx(e)}Aa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ia.namedQuery)this.queries.push(e.Ia.namedQuery);else if(e.Ia.documentMetadata){this.documents.push({metadata:e.Ia.documentMetadata}),e.Ia.documentMetadata.exists||++t;const r=qe.fromString(e.Ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ia.document&&(this.documents[this.documents.length-1].document=e.Ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Ra(e){const t=new Map,r=new JR(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ps(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||Ve()).add(o);t.set(u,h)}}return t}async complete(){const e=await XF(this.localStore,new JR(this.serializer),this.documents,this.da.id),t=this.Ra(this.documents);for(const r of this.queries)await JF(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Va:this.collectionGroups,ma:e}}}function Hx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e){this.key=e}}class Gx{constructor(e){this.key=e}}class Kx{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=VO(e),this.wa=new Ku(this.ya)}get ba(){return this.fa}Sa(e,t){const r=t?t.Da:new QR,i=t?t.wa:this.wa;let o=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const v=i.get(g),b=Rf(this.query,_)?_:null,T=!!v&&this.mutatedKeys.has(v.key),I=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let O=!1;v&&b?v.data.isEqual(b.data)?T!==I&&(r.track({type:3,doc:b}),O=!0):this.va(v,b)||(r.track({type:2,doc:b}),O=!0,(d&&this.ya(b,d)>0||f&&this.ya(b,f)<0)&&(h=!0)):!v&&b?(r.track({type:0,doc:b}),O=!0):v&&!b&&(r.track({type:1,doc:v}),O=!0,(d||f)&&(h=!0)),O&&(b?(u=u.add(b),o=I?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:h,mutatedKeys:o}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,_)=>function(b,T){const I=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return I(b)-I(T)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const h=t&&!i?this.Fa():[],d=this.pa.size===0&&this.current&&!i?1:0,f=d!==this.ga;return this.ga=d,u.length!==0||f?{snapshot:new yc(this.query,e.wa,o,u,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new QR,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Gx(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new $x(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ve();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return yc.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const yo="SyncEngine";class IB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class RB{constructor(e){this.key=e,this.Ba=!1}}class CB{constructor(e,t,r,i,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Ks(h=>NO(h),If),this.qa=new Map,this.Qa=new Set,this.$a=new yt(_e.comparator),this.Ka=new Map,this.Ua=new Mw,this.Wa={},this.Ga=new Map,this.za=Tl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function PB(n,e,t=!0){const r=uy(n);let i;const o=r.ka.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Na()):i=await Wx(r,e,t,!0),i}async function OB(n,e){const t=uy(n);await Wx(t,e,!0,!1)}async function Wx(n,e,t,r){const i=await pc(n.localStore,nr(e)),o=i.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await Xw(n,e,o,u==="current",i.resumeToken)),n.isPrimaryClient&&t&&ly(n.remoteStore,i),h}async function Xw(n,e,t,r,i){n.Ha=(_,v,b)=>async function(I,O,L,V){let U=O.view.Sa(L);U.ls&&(U=await Ig(I.localStore,O.query,!1).then(({documents:M})=>O.view.Sa(M,U)));const $=V&&V.targetChanges.get(O.targetId),j=V&&V.targetMismatches.get(O.targetId)!=null,H=O.view.applyChanges(U,I.isPrimaryClient,$,j);return yE(I,O.targetId,H.Ma),H.snapshot}(n,_,v,b);const o=await Ig(n.localStore,e,!0),u=new Kx(e,o.gs),h=u.Sa(o.documents),d=Of.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),f=u.applyChanges(h,n.isPrimaryClient,d);yE(n,t,f.Ma);const g=new IB(e,t,u);return n.ka.set(e,g),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),f.snapshot}async function xB(n,e,t){const r=Ee(n),i=r.ka.get(e),o=r.qa.get(i.targetId);if(o.length>1)return r.qa.set(i.targetId,o.filter(u=>!If(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&gc(r.remoteStore,i.targetId),_c(r,i.targetId)}).catch(fo)):(_c(r,i.targetId),await mc(r.localStore,i.targetId,!0))}async function DB(n,e){const t=Ee(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gc(t.remoteStore,r.targetId))}async function kB(n,e,t){const r=tb(n);try{const i=await function(u,h){const d=Ee(u),f=It.now(),g=h.reduce((b,T)=>b.add(T.key),Ve());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",b=>{let T=dr(),I=Ve();return d.ds.getEntries(b,g).next(O=>{T=O,T.forEach((L,V)=>{V.isValidDocument()||(I=I.add(L))})}).next(()=>d.localDocuments.getOverlayedDocuments(b,T)).next(O=>{_=O;const L=[];for(const V of h){const U=tF(V,_.get(V.key).overlayedDocument);U!=null&&L.push(new Ws(V.key,U,AO(U.value.mapValue),At.exists(!0)))}return d.mutationQueue.addMutationBatch(b,f,L,h)}).next(O=>{v=O;const L=O.applyToLocalDocumentSet(_,I);return d.documentOverlayCache.saveOverlays(b,O.batchId,L)})}).then(()=>({batchId:v.batchId,changes:UO(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,d){let f=u.Wa[u.currentUser.toKey()];f||(f=new yt(ke)),f=f.insert(h,d),u.Wa[u.currentUser.toKey()]=f}(r,i.batchId,t),await Qs(r,i.changes),await Nc(r.remoteStore)}catch(i){const o=Vc(i,"Failed to persist write");t.reject(o)}}async function Qx(n,e){const t=Ee(n);try{const r=await QF(t.localStore,e);e.targetChanges.forEach((i,o)=>{const u=t.Ka.get(o);u&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Ba=!0:i.modifiedDocuments.size>0?Ae(u.Ba):i.removedDocuments.size>0&&(Ae(u.Ba),u.Ba=!1))}),await Qs(t,r,e)}catch(r){await fo(r)}}function ZR(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((o,u)=>{const h=u.view.sa(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const d=Ee(u);d.onlineState=h;let f=!1;d.queries.forEach((g,_)=>{for(const v of _.ta)v.sa(h)&&(f=!0)}),f&&Qw(d)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NB(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),o=i&&i.key;if(o){let u=new yt(_e.comparator);u=u.insert(o,vt.newNoDocument(o,Re.min()));const h=Ve().add(o),d=new Pf(Re.min(),new Map,new yt(ke),u,h);await Qx(r,d),r.$a=r.$a.remove(o),r.Ka.delete(e),eb(r)}else await mc(r.localStore,e,!1).then(()=>_c(r,e,t)).catch(fo)}async function MB(n,e){const t=Ee(n),r=e.batch.batchId;try{const i=await WF(t.localStore,e);Zw(t,r,null),Jw(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Qs(t,i)}catch(i){await fo(i)}}async function VB(n,e,t){const r=Ee(n);try{const i=await function(u,h){const d=Ee(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return d.mutationQueue.lookupMutationBatch(f,h).next(_=>(Ae(_!==null),g=_.keys(),d.mutationQueue.removeMutationBatch(f,_))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>d.localDocuments.getDocuments(f,g))})}(r.localStore,e);Zw(r,e,t),Jw(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Qs(r,i)}catch(i){await fo(i)}}async function LB(n,e){const t=Ee(n);go(t.remoteStore)||pe(yo,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(u){const h=Ee(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d))}(t.localStore);if(r===$a)return void e.resolve();const i=t.Ga.get(r)||[];i.push(e),t.Ga.set(r,i)}catch(r){const i=Vc(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Jw(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function Zw(n,e,t){const r=Ee(n);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function _c(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.Sr(e).forEach(r=>{n.Ua.containsKey(r)||Yx(n,r)})}function Yx(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(gc(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),eb(n))}function yE(n,e,t){for(const r of t)r instanceof $x?(n.Ua.addReference(r.key,e),UB(n,r)):r instanceof Gx?(pe(yo,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||Yx(n,r.key)):be()}function UB(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(pe(yo,"New document in limbo: "+t),n.Qa.add(r),eb(n))}function eb(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(qe.fromString(e)),r=n.za.next();n.Ka.set(r,new RB(t)),n.$a=n.$a.insert(t,r),ly(n.remoteStore,new xs(nr(Oc(t.path)),r,"TargetPurposeLimboResolution",cr.ae))}}async function Qs(n,e,t){const r=Ee(n),i=[],o=[],u=[];r.ka.isEmpty()||(r.ka.forEach((h,d)=>{u.push(r.Ha(d,e,t).then(f=>{var g;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(f){i.push(f);const _=Fw.Yi(d.targetId,f);o.push(_)}}))}),await Promise.all(u),r.La.p_(i),await async function(d,f){const g=Ee(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>X.forEach(f,v=>X.forEach(v.Hi,b=>g.persistence.referenceDelegate.addReference(_,v.targetId,b)).next(()=>X.forEach(v.Ji,b=>g.persistence.referenceDelegate.removeReference(_,v.targetId,b)))))}catch(_){if(!po(_))throw _;pe(Bw,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const b=g.Ts.get(v),T=b.snapshotVersion,I=b.withLastLimboFreeSnapshotVersion(T);g.Ts=g.Ts.insert(v,I)}}}(r.localStore,o))}async function FB(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){pe(yo,"User change. New user:",e.toKey());const r=await Rx(t.localStore,e);t.currentUser=e,function(o,u){o.Ga.forEach(h=>{h.forEach(d=>{d.reject(new de(ne.CANCELLED,u))})}),o.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qs(t,r.Rs)}}function BB(n,e){const t=Ee(n),r=t.Ka.get(e);if(r&&r.Ba)return Ve().add(r.key);{let i=Ve();const o=t.qa.get(e);if(!o)return i;for(const u of o){const h=t.ka.get(u);i=i.unionWith(h.view.ba)}return i}}async function jB(n,e){const t=Ee(n),r=await Ig(t.localStore,e.query,!0),i=e.view.Oa(r);return t.isPrimaryClient&&yE(t,e.targetId,i.Ma),i}async function zB(n,e){const t=Ee(n);return xx(t.localStore,e).then(r=>Qs(t,r))}async function qB(n,e,t,r){const i=Ee(n),o=await function(h,d){const f=Ee(h),g=Ee(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",_=>g.Ln(_,d).next(v=>v?f.localDocuments.getDocuments(_,v):X.resolve(null)))}(i.localStore,e);o!==null?(t==="pending"?await Nc(i.remoteStore):t==="acknowledged"||t==="rejected"?(Zw(i,e,r||null),Jw(i,e),function(h,d){Ee(Ee(h).mutationQueue).qn(d)}(i.localStore,e)):be(),await Qs(i,o)):pe(yo,"Cannot apply mutation batch with id: "+e)}async function HB(n,e){const t=Ee(n);if(uy(t),tb(t),e===!0&&t.ja!==!0){const r=t.sharedClientState.getAllActiveQueryTargets(),i=await e1(t,r.toArray());t.ja=!0,await mE(t.remoteStore,!0);for(const o of i)ly(t.remoteStore,o)}else if(e===!1&&t.ja!==!1){const r=[];let i=Promise.resolve();t.qa.forEach((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(_c(t,u),mc(t.localStore,u,!0))),gc(t.remoteStore,u)}),await i,await e1(t,r),function(u){const h=Ee(u);h.Ka.forEach((d,f)=>{gc(h.remoteStore,f)}),h.Ua.Dr(),h.Ka=new Map,h.$a=new yt(_e.comparator)}(t),t.ja=!1,await mE(t.remoteStore,!1)}}async function e1(n,e,t){const r=Ee(n),i=[],o=[];for(const u of e){let h;const d=r.qa.get(u);if(d&&d.length!==0){h=await pc(r.localStore,nr(d[0]));for(const f of d){const g=r.ka.get(f),_=await jB(r,g);_.snapshot&&o.push(_.snapshot)}}else{const f=await Ox(r.localStore,u);h=await pc(r.localStore,f),await Xw(r,Xx(f),u,!1,h.resumeToken)}i.push(h)}return r.La.p_(o),i}function Xx(n){return kO(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function $B(n){return function(t){return Ee(Ee(t).persistence).zi()}(Ee(n).localStore)}async function GB(n,e,t,r){const i=Ee(n);if(i.ja)return void pe(yo,"Ignoring unexpected query state notification.");const o=i.qa.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await xx(i.localStore,MO(o[0])),h=Pf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",qt.EMPTY_BYTE_STRING);await Qs(i,u,h);break}case"rejected":await mc(i.localStore,e,!0),_c(i,e,r);break;default:be()}}async function KB(n,e,t){const r=uy(n);if(r.ja){for(const i of e){if(r.qa.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){pe(yo,"Adding an already active target "+i);continue}const o=await Ox(r.localStore,i),u=await pc(r.localStore,o);await Xw(r,Xx(o),u.targetId,!1,u.resumeToken),ly(r.remoteStore,u)}for(const i of t)r.qa.has(i)&&await mc(r.localStore,i,!1).then(()=>{gc(r.remoteStore,i),_c(r,i)}).catch(fo)}}function uy(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NB.bind(null,e),e.La.p_=bB.bind(null,e.eventManager),e.La.Ja=TB.bind(null,e.eventManager),e}function tb(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VB.bind(null,e),e}function WB(n,e,t){const r=Ee(n);(async function(o,u,h){try{const d=await u.getMetadata();if(await function(b,T){const I=Ee(b),O=Qt(T.createTime);return I.persistence.runTransaction("hasNewerBundle","readonly",L=>I.Yr.getBundleMetadata(L,T.id)).then(L=>!!L&&L.createTime.compareTo(O)>=0)}(o.localStore,d))return await u.close(),h._completeWith(function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}}(d)),Promise.resolve(new Set);h._updateProgress(Hx(d));const f=new AB(d,o.localStore,u.serializer);let g=await u.Ya();for(;g;){const v=await f.Aa(g);v&&h._updateProgress(v),g=await u.Ya()}const _=await f.complete();return await Qs(o,_.ma,void 0),await function(b,T){const I=Ee(b);return I.persistence.runTransaction("Save bundle","readwrite",O=>I.Yr.saveBundleMetadata(O,T))}(o.localStore,d),h._completeWith(_.progress),Promise.resolve(_.Va)}catch(d){return Xi(yo,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Ix(this.persistence,new Ax,e.initialUser,this.serializer)}Xa(e){return new Vw(oy.ri,this.serializer)}Za(e){return new Vx}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class QB extends sf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ae(this.persistence.referenceDelegate instanceof Ag);const r=this.persistence.referenceDelegate.garbageCollector;return new vx(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new Vw(r=>Ag.ri(r,t),this.serializer)}}class Jx extends sf{constructor(e,t,r){super(),this.ru=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await tb(this.ru.syncEngine),await Nc(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return Ix(this.persistence,new Ax,e.initialUser,this.serializer)}tu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new vx(r,e.asyncQueue,t)}nu(e,t){const r=new i5(t,this.persistence);return new r5(e.asyncQueue,r)}Xa(e){const t=Uw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Hn.withCacheSize(this.cacheSizeBytes):Hn.DEFAULT;return new Lw(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,Lx(),Gm(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new Vx}}class YB extends Jx{constructor(e,t){super(e,t,!1),this.ru=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ru.syncEngine;this.sharedClientState instanceof g0&&(this.sharedClientState.syncEngine={uo:qB.bind(null,t),co:GB.bind(null,t),lo:KB.bind(null,t),zi:$B.bind(null,t),ao:zB.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ci(async r=>{await HB(this.ru.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Za(e){const t=Lx();if(!g0.D(t))throw new de(ne.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Uw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new g0(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class af{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=FB.bind(null,this.syncEngine),await mE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wB}()}createDatastore(e){const t=xf(e.databaseInfo.databaseId),r=function(o){return new rB(o)}(e.databaseInfo);return function(o,u,h,d){return new oB(o,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,u,h){return new uB(r,i,o,u,h)}(this.localStore,this.datastore,e.asyncQueue,t=>ZR(this.syncEngine,t,0),function(){return GR.D()?new GR:new ZF}())}createSyncEngine(e,t){return function(i,o,u,h,d,f,g){const _=new CB(i,o,u,h,d,f);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=Ee(i);pe(Sl,"RemoteStore shutting down."),o.W_.add(5),await kc(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}af.provider={build:()=>new af};function t1(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Wt("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XB{constructor(e,t){this.ou=e,this.serializer=t,this.metadata=new Mn,this.buffer=new Uint8Array,this._u=function(){return new TextDecoder("utf-8")}(),this.au().then(r=>{r&&r.Ea()?this.metadata.resolve(r.Ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Ia)}`))},r=>this.metadata.reject(r))}close(){return this.ou.cancel()}async getMetadata(){return this.metadata.promise}async Ya(){return await this.getMetadata(),this.au()}async au(){const e=await this.uu();if(e===null)return null;const t=this._u.decode(e),r=Number(t);isNaN(r)&&this.cu(`length string (${t}) is not valid number`);const i=await this.lu(r);return new SB(JSON.parse(i),e.length+r)}hu(){return this.buffer.findIndex(e=>e===123)}async uu(){for(;this.hu()<0&&!await this.Pu(););if(this.buffer.length===0)return null;const e=this.hu();e<0&&this.cu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async lu(e){for(;this.buffer.length<e;)await this.Pu()&&this.cu("Reached the end of bundle when more is expected.");const t=this._u.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}cu(e){throw this.ou.cancel(),new Error(`Invalid bundle format: ${e}`)}async Pu(){const e=await this.ou.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new de(ne.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(i,o){const u=Ee(i),h={documents:o.map(_=>nf(u.serializer,_))},d=await u.Co("BatchGetDocuments",u.serializer.databaseId,qe.emptyPath(),h,o.length),f=new Map;d.forEach(_=>{const v=cF(u.serializer,_);f.set(v.key.toString(),v)});const g=[];return o.forEach(_=>{const v=f.get(_.toString());Ae(!!v),g.push(v)}),g}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Dc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{const i=_e.fromPath(r);this.mutations.push(new Iw(i,this.precondition(i)))}),await async function(r,i){const o=Ee(r),u={writes:i.map(h=>rf(o.serializer,h))};await o.bo("Commit",o.serializer.databaseId,qe.emptyPath(),u)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw be();t=Re.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new de(ne.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Re.min())?At.exists(!1):At.updateTime(t):At.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Re.min()))throw new de(ne.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return At.updateTime(t)}return At.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Tu=r.maxAttempts,this.a_=new zw(this.asyncQueue,"transaction_retry")}Iu(){this.Tu-=1,this.Eu()}Eu(){this.a_.Xo(async()=>{const e=new JB(this.datastore),t=this.du(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Au(i)}))}).catch(r=>{this.Au(r)})})}du(e){try{const t=this.updateFunction(e);return!Tf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Au(e){this.Tu>0&&this.Ru(e)?(this.Tu-=1,this.asyncQueue.enqueueAndForget(()=>(this.Eu(),Promise.resolve()))):this.deferred.reject(e)}Ru(e){if(e.name==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!WO(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io="FirestoreClient";class e3{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Sn.UNAUTHENTICATED,this.clientId=ZP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{pe(io,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(pe(io,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Vc(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function _0(n,e){n.asyncQueue.verifyOperationInProgress(),pe(io,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Rx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function n1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await nb(n);pe(io,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>WR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>WR(e.remoteStore,i)),n._onlineComponents=e}async function nb(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pe(io,"Using user provided OfflineComponentProvider");try{await _0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===ne.FAILED_PRECONDITION||i.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Xi("Error using user provided cache. Falling back to memory cache: "+t),await _0(n,new sf)}}else pe(io,"Using default OfflineComponentProvider"),await _0(n,new QB(void 0));return n._offlineComponents}async function hy(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pe(io,"Using user provided OnlineComponentProvider"),await n1(n,n._uninitializedComponentsProvider._online)):(pe(io,"Using default OnlineComponentProvider"),await n1(n,new af))),n._onlineComponents}function Zx(n){return nb(n).then(e=>e.persistence)}function rb(n){return nb(n).then(e=>e.localStore)}function eD(n){return hy(n).then(e=>e.remoteStore)}function ib(n){return hy(n).then(e=>e.syncEngine)}function t3(n){return hy(n).then(e=>e.datastore)}async function vc(n){const e=await hy(n),t=e.eventManager;return t.onListen=PB.bind(null,e.syncEngine),t.onUnlisten=xB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=OB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DB.bind(null,e.syncEngine),t}function n3(n){return n.asyncQueue.enqueue(async()=>{const e=await Zx(n),t=await eD(n);return e.setNetworkEnabled(!0),function(i){const o=Ee(i);return o.W_.delete(0),Df(o)}(t)})}function r3(n){return n.asyncQueue.enqueue(async()=>{const e=await Zx(n),t=await eD(n);return e.setNetworkEnabled(!1),async function(i){const o=Ee(i);o.W_.add(0),await kc(o),o.j_.set("Offline")}(t)})}function i3(n,e){const t=new Mn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await function(f,g){const _=Ee(f);return _.persistence.runTransaction("read document","readonly",v=>_.localDocuments.getDocument(v,g))}(i,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new de(ne.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=Vc(h,`Failed to get document '${o} from cache`);u.reject(d)}}(await rb(n),e,t)),t.promise}function tD(n,e,t={}){const r=new Mn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new cy({next:v=>{g.su(),u.enqueueAndForget(()=>Ww(o,_));const b=v.docs.has(h);!b&&v.fromCache?f.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&v.fromCache&&d&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Yw(Oc(h.path),g,{includeMetadataChanges:!0,Ta:!0});return Kw(o,_)}(await vc(n),n.asyncQueue,e,t,r)),r.promise}function s3(n,e){const t=new Mn;return n.asyncQueue.enqueueAndForget(async()=>async function(i,o,u){try{const h=await Ig(i,o,!0),d=new Kx(o,h.gs),f=d.Sa(h.documents),g=d.applyChanges(f,!1);u.resolve(g.snapshot)}catch(h){const d=Vc(h,`Failed to execute query '${o} against cache`);u.reject(d)}}(await rb(n),e,t)),t.promise}function nD(n,e,t={}){const r=new Mn;return n.asyncQueue.enqueueAndForget(async()=>function(o,u,h,d,f){const g=new cy({next:v=>{g.su(),u.enqueueAndForget(()=>Ww(o,_)),v.fromCache&&d.source==="server"?f.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new Yw(h,g,{includeMetadataChanges:!0,Ta:!0});return Kw(o,_)}(await vc(n),n.asyncQueue,e,t,r)),r.promise}function a3(n,e){const t=new cy(e);return n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.add(o),o.next()}(await vc(n),t)),()=>{t.su(),n.asyncQueue.enqueueAndForget(async()=>function(i,o){Ee(i).ia.delete(o)}(await vc(n),t))}}function o3(n,e,t,r){const i=function(u,h){let d;return d=typeof u=="string"?YO().encode(u):u,function(g,_){return new XB(g,_)}(function(g,_){if(g instanceof Uint8Array)return t1(g,_);if(g instanceof ArrayBuffer)return t1(new Uint8Array(g),_);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),h)}(t,xf(e));n.asyncQueue.enqueueAndForget(async()=>{WB(await ib(n),i,r)})}function l3(n,e){return n.asyncQueue.enqueue(async()=>function(r,i){const o=Ee(r);return o.persistence.runTransaction("Get named query","readonly",u=>o.Yr.getNamedQuery(u,i))}(await rb(n),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(n,e,t){if(!t)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function iD(n,e,t,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function i1(n){if(!_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function s1(n){if(_e.isDocumentKey(n))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":be()}function nt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dy(n);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function sD(n,e){if(e<=0)throw new de(ne.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="firestore.googleapis.com",a1=!0;class o1{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aD,this.ssl=a1}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:a1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PF)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new K4;switch(r.type){case"firstParty":return new X4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=r1.get(t);r&&(pe("ComponentProvider","Removing Datastore"),r1.delete(t),r.terminate())}(this),Promise.resolve()}}function u3(n,e,t,r={}){var i;const o=(n=nt(n,kf))._getSettings(),u=Object.assign(Object.assign({},o),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;o.host!==aD&&o.host!==h&&Xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:h,ssl:!1,emulatorOptions:r});if(!Qa(d,u)&&(n._setSettings(d),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=Sn.MOCK_USER;else{f=cU(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Sn(_)}n._authCredentials=new W4(new JP(f,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ir=class oD{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oD(this.firestore,e,this._query)}},Nt=class lD{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lD(this.firestore,e,this._key)}},Ga=class uD extends ir{constructor(e,t,r){super(e,t,Oc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new _e(e))}withConverter(e){return new uD(this.firestore,e,this._path)}};function cD(n,e,...t){if(n=Ce(n),sb("collection","path",e),n instanceof kf){const r=qe.fromString(e,...t);return s1(r),new Ga(n,null,r)}{if(!(n instanceof Nt||n instanceof Ga))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return s1(r),new Ga(n.firestore,null,r)}}function c3(n,e){if(n=nt(n,kf),sb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ir(n,null,function(r){return new Gs(qe.emptyPath(),r)}(e))}function Og(n,e,...t){if(n=Ce(n),arguments.length===1&&(e=ZP.newId()),sb("doc","path",e),n instanceof kf){const r=qe.fromString(e,...t);return i1(r),new Nt(n,null,new _e(r))}{if(!(n instanceof Nt||n instanceof Ga))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(qe.fromString(e,...t));return i1(r),new Nt(n.firestore,n instanceof Ga?n.converter:null,new _e(r))}}function hD(n,e){return n=Ce(n),e=Ce(e),(n instanceof Nt||n instanceof Ga)&&(e instanceof Nt||e instanceof Ga)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function dD(n,e){return n=Ce(n),e=Ce(e),n instanceof ir&&e instanceof ir&&n.firestore===e.firestore&&If(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="AsyncQueue";class u1{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zw(this,"async_queue_retry"),this.bu=()=>{const r=Gm();r&&pe(l1,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.Su=e;const t=Gm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Gm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Mn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!po(e))throw e;pe(l1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.Su.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(r);throw Wt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.Su=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Gw.createAndSchedule(this,e,t,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function _E(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}class h3{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=-1;let Yt=class extends kf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new u1,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u1(e),this._firestoreClient=void 0,await e}}};function Kn(n){if(n._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||fD(n),n._firestoreClient}function fD(n){var e,t,r;const i=n._freezeSettings(),o=function(h,d,f,g){return new k5(h,d,f,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,rD(g.experimentalLongPollingOptions),g.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new e3(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(n._componentsProvider))}function f3(n,e){Xi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return pD(n,af.provider,{build:r=>new Jx(r,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function p3(n){Xi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();pD(n,af.provider,{build:t=>new YB(t,e.cacheSizeBytes)})}function pD(n,e,t){if((n=nt(n,Yt))._firestoreClient||n._terminated)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new de(ne.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},fD(n)}function m3(n){if(n._initialized&&!n._terminated)throw new de(ne.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mn;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Wi.D())return Promise.resolve();const i=r+Sx;await Wi.delete(i)}(Uw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function g3(n){return function(t){const r=new Mn;return t.asyncQueue.enqueueAndForget(async()=>LB(await ib(t),r)),r.promise}(Kn(n=nt(n,Yt)))}function y3(n){return n3(Kn(n=nt(n,Yt)))}function _3(n){return r3(Kn(n=nt(n,Yt)))}function v3(n,e){const t=Kn(n=nt(n,Yt)),r=new h3;return o3(t,n._databaseId,e,r),r}function E3(n,e){return l3(Kn(n=nt(n,Yt)),e).then(t=>t?new ir(n,null,t.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zi(qt.fromBase64String(e))}catch(t){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zi(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let so=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=/^__.*__$/;class b3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms):new xc(e,this.data,t,this.fieldTransforms)}}class mD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ws(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function gD(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class py{constructor(e,t,r,i,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new py(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return xg(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(gD(this.Lu)&&w3.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class T3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||xf(e)}ju(e,t,r,i=!1){return new py({Lu:e,methodName:t,zu:r,path:St.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ml(n){const e=n._freezeSettings(),t=xf(n._databaseId);return new T3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function my(n,e,t,r,i,o={}){const u=n.ju(o.merge||o.mergeFields?2:0,e,t,i);fb("Data must be an object, but it was:",u,r);const h=vD(r,u);let d,f;if(o.merge)d=new hr(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const _ of o.mergeFields){const v=vE(e,_,t);if(!u.contains(v))throw new de(ne.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);wD(g,v)||g.push(v)}d=new hr(g),f=u.fieldTransforms.filter(_=>d.covers(_.field))}else d=null,f=u.fieldTransforms;return new b3(new kn(h),d,f)}class Nf extends Nl{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nf}}function yD(n,e,t){return new py({Lu:3,zu:e.settings.zu,methodName:n._methodName,Qu:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ob extends Nl{_toFieldTransform(e){return new Cf(e.path,new hc)}isEqual(e){return e instanceof ob}}class lb extends Nl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=yD(this,e,!0),r=this.Hu.map(o=>Vl(o,t)),i=new vl(r);return new Cf(e.path,i)}isEqual(e){return e instanceof lb&&Qa(this.Hu,e.Hu)}}class ub extends Nl{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=yD(this,e,!0),r=this.Hu.map(o=>Vl(o,t)),i=new El(r);return new Cf(e.path,i)}isEqual(e){return e instanceof ub&&Qa(this.Hu,e.Hu)}}class cb extends Nl{constructor(e,t){super(e),this.Ju=t}_toFieldTransform(e){const t=new dc(e.serializer,jO(e.serializer,this.Ju));return new Cf(e.path,t)}isEqual(e){return e instanceof cb&&this.Ju===e.Ju}}function hb(n,e,t,r){const i=n.ju(1,e,t);fb("Data must be an object, but it was:",i,r);const o=[],u=kn.empty();mo(r,(d,f)=>{const g=pb(e,d,t);f=Ce(f);const _=i.Ku(g);if(f instanceof Nf)o.push(g);else{const v=Vl(f,_);v!=null&&(o.push(g),u.set(g,v))}});const h=new hr(o);return new mD(u,h,i.fieldTransforms)}function db(n,e,t,r,i,o){const u=n.ju(1,e,t),h=[vE(e,r,t)],d=[i];if(o.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)h.push(vE(e,o[v])),d.push(o[v+1]);const f=[],g=kn.empty();for(let v=h.length-1;v>=0;--v)if(!wD(f,h[v])){const b=h[v];let T=d[v];T=Ce(T);const I=u.Ku(b);if(T instanceof Nf)f.push(b);else{const O=Vl(T,I);O!=null&&(f.push(b),g.set(b,O))}}const _=new hr(f);return new mD(g,_,u.fieldTransforms)}function _D(n,e,t,r=!1){return Vl(t,n.ju(r?4:3,e))}function Vl(n,e){if(ED(n=Ce(n)))return fb("Unsupported field value:",e,n),vD(n,e);if(n instanceof Nl)return function(r,i){if(!gD(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let u=0;for(const h of r){let d=Vl(h,i.Uu(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ce(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=It.fromDate(r);return{timestampValue:fc(i.serializer,o)}}if(r instanceof It){const o=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fc(i.serializer,o)}}if(r instanceof fy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zi)return{bytesValue:ZO(i.serializer,r._byteString)};if(r instanceof Nt){const o=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw i.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ab)return function(u,h){return{mapValue:{fields:{[Ew]:{stringValue:ww},[lc]:{arrayValue:{values:u.toArray().map(f=>{if(typeof f!="number")throw h.Wu("VectorValues must only contain numeric values.");return Aw(h.serializer,f)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${dy(r)}`)}(n,e)}function vD(n,e){const t={};return gO(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):mo(n,(r,i)=>{const o=Vl(i,e.qu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ED(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof fy||n instanceof Zi||n instanceof Nt||n instanceof Nl||n instanceof ab)}function fb(n,e,t){if(!ED(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=dy(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function vE(n,e,t){if((e=Ce(e))instanceof so)return e._internalPath;if(typeof e=="string")return pb(n,e);throw xg("Field path arguments must be of type string or ",n,!1,void 0,t)}const S3=new RegExp("[~\\*/\\[\\]]");function pb(n,e,t){if(e.search(S3)>=0)throw xg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new so(...e.split("."))._internalPath}catch{throw xg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xg(n,e,t,r,i){const o=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${r}`),u&&(d+=` in document ${i}`),d+=")"),new de(ne.INVALID_ARGUMENT,h+n+d)}function wD(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class A3 extends of{data(){return super.data()}}function gy(n,e){return typeof e=="string"?pb(n,e):e instanceof so?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mb{}class Mf extends mb{}function Va(n,e,...t){let r=[];e instanceof mb&&r.push(e),r=r.concat(t),function(o){const u=o.filter(d=>d instanceof gb).length,h=o.filter(d=>d instanceof yy).length;if(u>1||u>0&&h>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class yy extends Mf{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new yy(e,t,r)}_apply(e){const t=this._parse(e);return SD(e._query,t),new ir(e.firestore,e.converter,sE(e._query,t))}_parse(e){const t=Ml(e.firestore);return function(o,u,h,d,f,g,_){let v;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){h1(_,g);const T=[];for(const I of _)T.push(c1(d,o,I));v={arrayValue:{values:T}}}else v=c1(d,o,_)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||h1(_,g),v=_D(h,u,_,g==="in"||g==="not-in");return He.create(f,g,v)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function I3(n,e,t){const r=e,i=gy("where",n);return yy._create(i,r,t)}class gb extends mb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gb(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ot.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let u=i;const h=o.getFlattenedFilters();for(const d of h)SD(u,d),u=sE(u,d)}(e._query,t),new ir(e.firestore,e.converter,sE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yb extends Mf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yb(e,t)}_apply(e){const t=function(i,o,u){if(i.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tf(o,u)}(e._query,this._field,this._direction);return new ir(e.firestore,e.converter,function(i,o){const u=i.explicitOrderBy.concat([o]);return new Gs(i.path,i.collectionGroup,u,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}function R3(n,e="asc"){const t=e,r=gy("orderBy",n);return yb._create(r,t)}class _y extends Mf{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new _y(e,t,r)}_apply(e){return new ir(e.firestore,e.converter,wg(e._query,this._limit,this._limitType))}}function C3(n){return sD("limit",n),_y._create("limit",n,"F")}function P3(n){return sD("limitToLast",n),_y._create("limitToLast",n,"L")}class vy extends Mf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new vy(e,t,r)}_apply(e){const t=TD(e,this.type,this._docOrFields,this._inclusive);return new ir(e.firestore,e.converter,function(i,o){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,t))}}function O3(...n){return vy._create("startAt",n,!0)}function x3(...n){return vy._create("startAfter",n,!1)}class Ey extends Mf{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Ey(e,t,r)}_apply(e){const t=TD(e,this.type,this._docOrFields,this._inclusive);return new ir(e.firestore,e.converter,function(i,o){return new Gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,t))}}function D3(...n){return Ey._create("endBefore",n,!1)}function k3(...n){return Ey._create("endAt",n,!0)}function TD(n,e,t,r){if(t[0]=Ce(t[0]),t[0]instanceof of)return function(o,u,h,d,f){if(!d)throw new de(ne.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const g=[];for(const _ of Gu(o))if(_.field.isKeyField())g.push(yl(u,d.key));else{const v=d.data.field(_.field);if(ey(v))throw new de(ne.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(v===null){const b=_.field.canonicalString();throw new de(ne.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}g.push(v)}return new no(g,f)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Ml(n.firestore);return function(u,h,d,f,g,_){const v=u.explicitOrderBy;if(g.length>v.length)throw new de(ne.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let T=0;T<g.length;T++){const I=g[T];if(v[T].field.isKeyField()){if(typeof I!="string")throw new de(ne.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof I}`);if(!Tw(u)&&I.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${I}' contains a slash.`);const O=u.path.child(qe.fromString(I));if(!_e.isDocumentKey(O))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${O}' is not because it contains an odd number of segments.`);const L=new _e(O);b.push(yl(h,L))}else{const O=_D(d,f,I);b.push(O)}}return new no(b,_)}(n._query,n.firestore._databaseId,i,e,t,r)}}function c1(n,e,t){if(typeof(t=Ce(t))=="string"){if(t==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tw(e)&&t.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(qe.fromString(t));if(!_e.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yl(n,new _e(r))}if(t instanceof Nt)return yl(n,t._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dy(t)}.`)}function h1(n,e){if(!Array.isArray(n)||n.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SD(n,e){const t=function(i,o){for(const u of i)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class _b{convertValue(e,t="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return mo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[lc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>bt(u.doubleValue));return new ab(o)}convertGeoPoint(e){return new fy(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ty(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jd(e));default:return null}}convertTimestamp(e){const t=Fs(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=qe.fromString(e);Ae(cx(r));const i=new Za(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(t)||Wt(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class N3 extends _b{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let js=class extends of{constructor(e,t,r,i,o,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(gy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Vd=class extends js{data(e={}){return super.data(e)}},ao=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vd(this._firestore,this._userDataWriter,r.key,r,new ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(h=>{const d=new Vd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new ol(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(h=>o||h.type!==3).map(h=>{const d=new Vd(i._firestore,i._userDataWriter,h.doc.key,h.doc,new ol(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,g=-1;return h.type!==0&&(f=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:M3(h.type),doc:d,oldIndex:f,newIndex:g}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function M3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}function AD(n,e){return n instanceof js&&e instanceof js?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ao&&e instanceof ao&&n._firestore===e._firestore&&dD(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(n){n=nt(n,Nt);const e=nt(n.firestore,Yt);return tD(Kn(e),n._key).then(t=>vb(e,n,t))}class Ll extends _b{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,t)}}function L3(n){n=nt(n,Nt);const e=nt(n.firestore,Yt),t=Kn(e),r=new Ll(e);return i3(t,n._key).then(i=>new js(e,r,n._key,i,new ol(i!==null&&i.hasLocalMutations,!0),n.converter))}function U3(n){n=nt(n,Nt);const e=nt(n.firestore,Yt);return tD(Kn(e),n._key,{source:"server"}).then(t=>vb(e,n,t))}function F3(n){n=nt(n,ir);const e=nt(n.firestore,Yt),t=Kn(e),r=new Ll(e);return bD(n._query),nD(t,n._query).then(i=>new ao(e,r,n,i))}function B3(n){n=nt(n,ir);const e=nt(n.firestore,Yt),t=Kn(e),r=new Ll(e);return s3(t,n._query).then(i=>new ao(e,r,n,i))}function j3(n){n=nt(n,ir);const e=nt(n.firestore,Yt),t=Kn(e),r=new Ll(e);return nD(t,n._query,{source:"server"}).then(i=>new ao(e,r,n,i))}function d1(n,e,t){n=nt(n,Nt);const r=nt(n.firestore,Yt),i=wy(n.converter,e,t);return Vf(r,[my(Ml(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,At.none())])}function f1(n,e,t,...r){n=nt(n,Nt);const i=nt(n.firestore,Yt),o=Ml(i);let u;return u=typeof(e=Ce(e))=="string"||e instanceof so?db(o,"updateDoc",n._key,e,t,r):hb(o,"updateDoc",n._key,e),Vf(i,[u.toMutation(n._key,At.exists(!0))])}function z3(n){return Vf(nt(n.firestore,Yt),[new Dc(n._key,At.none())])}function q3(n,e){const t=nt(n.firestore,Yt),r=Og(n),i=wy(n.converter,e);return Vf(t,[my(Ml(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,At.exists(!1))]).then(()=>r)}function ID(n,...e){var t,r,i;n=Ce(n);let o={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||_E(e[u])||(o=e[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(_E(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[u+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let d,f,g;if(n instanceof Nt)f=nt(n.firestore,Yt),g=Oc(n._key.path),d={next:_=>{e[u]&&e[u](vb(f,n,_))},error:e[u+1],complete:e[u+2]};else{const _=nt(n,ir);f=nt(_.firestore,Yt),g=_._query;const v=new Ll(f);d={next:b=>{e[u]&&e[u](new ao(f,v,_,b))},error:e[u+1],complete:e[u+2]},bD(n._query)}return function(v,b,T,I){const O=new cy(I),L=new Yw(b,O,T);return v.asyncQueue.enqueueAndForget(async()=>Kw(await vc(v),L)),()=>{O.su(),v.asyncQueue.enqueueAndForget(async()=>Ww(await vc(v),L))}}(Kn(f),g,h,d)}function H3(n,e){return a3(Kn(n=nt(n,Yt)),_E(e)?e:{next:e})}function Vf(n,e){return function(r,i){const o=new Mn;return r.asyncQueue.enqueueAndForget(async()=>kB(await ib(r),i,o)),o.promise}(Kn(n),e)}function vb(n,e,t){const r=t.docs.get(e._key),i=new Ll(n);return new js(n,i,e._key,r,new ol(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G3=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ml(e)}set(e,t,r){this._verifyNotCommitted();const i=ja(e,this._firestore),o=wy(i.converter,t,r),u=my(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(u.toMutation(i._key,At.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=ja(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof so?db(this._dataReader,"WriteBatch.update",o._key,t,r,i):hb(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,At.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=ja(e,this._firestore);return this._mutations=this._mutations.concat(new Dc(t._key,At.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new de(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function ja(n,e){if((n=Ce(n)).firestore!==e)throw new de(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ml(e)}get(e){const t=ja(e,this._firestore),r=new N3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return be();const o=i[0];if(o.isFoundDocument())return new of(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new of(this._firestore,r,t._key,null,t.converter);throw be()})}set(e,t,r){const i=ja(e,this._firestore),o=wy(i.converter,t,r),u=my(this._dataReader,"Transaction.set",i._key,o,i.converter!==null,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const o=ja(e,this._firestore);let u;return u=typeof(t=Ce(t))=="string"||t instanceof so?db(this._dataReader,"Transaction.update",o._key,t,r,i):hb(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=ja(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W3=class extends K3{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=ja(e,this._firestore),r=new Ll(this._firestore);return super.get(e).then(i=>new js(this._firestore,r,t._key,i._document,new ol(!1,!1),t.converter))}};function Q3(n,e,t){n=nt(n,Yt);const r=Object.assign(Object.assign({},$3),t);return function(o){if(o.maxAttempts<1)throw new de(ne.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,u,h){const d=new Mn;return o.asyncQueue.enqueueAndForget(async()=>{const f=await t3(o);new ZB(o.asyncQueue,f,h,u,d).Iu()}),d.promise}(Kn(n),i=>e(new W3(n,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(){return new Nf("deleteField")}function X3(){return new ob("serverTimestamp")}function J3(...n){return new lb("arrayUnion",n)}function Z3(...n){return new ub("arrayRemove",n)}function ej(n){return new cb("increment",n)}(function(e,t=!0){(function(i){Pc=i})(ho),ti(new rr("firestore",(r,{instanceIdentifier:i,options:o})=>{const u=r.getProvider("app").getImmediate(),h=new Yt(new Q4(r.getProvider("auth-internal")),new J4(u,r.getProvider("app-check-internal")),function(f,g){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Za(f.options.projectId,g)}(u,i),u);return o=Object.assign({useFetchStreams:t},o),h._setSettings(o),h},"PUBLIC").setMultipleInstances(!0)),tr($I,GI,e),tr($I,GI,"esm2017")})();const tj="@firebase/firestore-compat",nj="0.3.44";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new de("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(){if(typeof Uint8Array>"u")throw new de("unimplemented","Uint8Arrays are not available in this environment.")}function m1(){if(!x5())throw new de("unimplemented","Blobs are unavailable in Firestore in this environment.")}let RD=class EE{constructor(e){this._delegate=e}static fromBase64String(e){return m1(),new EE(Zi.fromBase64String(e))}static fromUint8Array(e){return p1(),new EE(Zi.fromUint8Array(e))}toBase64(){return m1(),this._delegate.toBase64()}toUint8Array(){return p1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(n){return rj(n,["next","error","complete"])}function rj(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{enableIndexedDbPersistence(e,t){return f3(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return p3(e._delegate)}clearIndexedDbPersistence(e){return m3(e._delegate)}}class CD{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Za||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Xi("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){u3(this._delegate,e,t,r)}enableNetwork(){return y3(this._delegate)}disableNetwork(){return _3(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,iD("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return g3(this._delegate)}onSnapshotsInSync(e){return H3(this._delegate,e)}get app(){if(!this._appCompat)throw new de("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ec(this,cD(this._delegate,e))}catch(t){throw er(t,"collection()","Firestore.collection()")}}doc(e){try{return new Jr(this,Og(this._delegate,e))}catch(t){throw er(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Zn(this,c3(this._delegate,e))}catch(t){throw er(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Q3(this._delegate,t=>e(new PD(this,t)))}batch(){return Kn(this._delegate),new OD(new G3(this._delegate,e=>Vf(this._delegate,e)))}loadBundle(e){return v3(this._delegate,e)}namedQuery(e){return E3(this._delegate,e).then(t=>t?new Zn(this,t):null)}}class by extends _b{constructor(e){super(),this.firestore=e}convertBytes(e){return new RD(new Zi(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Jr.forKey(t,this.firestore,null)}}function sj(n){$4(n)}class PD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new by(e)}get(e){const t=ll(e);return this._delegate.get(t).then(r=>new lf(this._firestore,new js(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ll(e);return r?(Eb("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ll(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ll(e);return this._delegate.delete(t),this}}class OD{constructor(e){this._delegate=e}set(e,t,r){const i=ll(e);return r?(Eb("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=ll(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=ll(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Al{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Vd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new uf(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Al.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new Al(e,new by(e),t),i.set(t,o)),o}}Al.INSTANCES=new WeakMap;class Jr{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new by(e)}static forPath(e,t,r){if(e.length%2!==0)throw new de("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Jr(t,new Nt(t._delegate,r,new _e(e)))}static forKey(e,t,r){return new Jr(t,new Nt(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ec(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ec(this.firestore,cD(this._delegate,e))}catch(t){throw er(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ce(e),e instanceof Nt?hD(this._delegate,e):!1}set(e,t){t=Eb("DocumentReference.set",t);try{return t?d1(this._delegate,e,t):d1(this._delegate,e)}catch(r){throw er(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?f1(this._delegate,e):f1(this._delegate,e,t,...r)}catch(i){throw er(i,"updateDoc()","DocumentReference.update()")}}delete(){return z3(this._delegate)}onSnapshot(...e){const t=xD(e),r=DD(e,i=>new lf(this.firestore,new js(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return ID(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=L3(this._delegate):(e==null?void 0:e.source)==="server"?t=U3(this._delegate):t=V3(this._delegate),t.then(r=>new lf(this.firestore,new js(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Jr(this.firestore,e?this._delegate.withConverter(Al.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function er(n,e,t){return n.message=n.message.replace(e,t),n}function xD(n){for(const e of n)if(typeof e=="object"&&!wE(e))return e;return{}}function DD(n,e){var t,r;let i;return wE(n[0])?i=n[0]:wE(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class lf{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Jr(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return AD(this._delegate,e._delegate)}}class uf extends lf{data(e){const t=this._delegate.data(e);return this._delegate._converter||G4(t!==void 0),t}}class Zn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new by(e)}where(e,t,r){try{return new Zn(this.firestore,Va(this._delegate,I3(e,t,r)))}catch(i){throw er(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Zn(this.firestore,Va(this._delegate,R3(e,t)))}catch(r){throw er(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Zn(this.firestore,Va(this._delegate,C3(e)))}catch(t){throw er(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Zn(this.firestore,Va(this._delegate,P3(e)))}catch(t){throw er(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Zn(this.firestore,Va(this._delegate,O3(...e)))}catch(t){throw er(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Zn(this.firestore,Va(this._delegate,x3(...e)))}catch(t){throw er(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Zn(this.firestore,Va(this._delegate,D3(...e)))}catch(t){throw er(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Zn(this.firestore,Va(this._delegate,k3(...e)))}catch(t){throw er(t,"endAt()","Query.endAt()")}}isEqual(e){return dD(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=B3(this._delegate):(e==null?void 0:e.source)==="server"?t=j3(this._delegate):t=F3(this._delegate),t.then(r=>new bE(this.firestore,new ao(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=xD(e),r=DD(e,i=>new bE(this.firestore,new ao(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return ID(this._delegate,t,r)}withConverter(e){return new Zn(this.firestore,e?this._delegate.withConverter(Al.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class aj{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new uf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bE{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Zn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new uf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new aj(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new uf(this._firestore,r))})}isEqual(e){return AD(this._delegate,e._delegate)}}class Ec extends Zn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Jr(this.firestore,e):null}doc(e){try{return e===void 0?new Jr(this.firestore,Og(this._delegate)):new Jr(this.firestore,Og(this._delegate,e))}catch(t){throw er(t,"doc()","CollectionReference.doc()")}}add(e){return q3(this._delegate,e).then(t=>new Jr(this.firestore,t))}isEqual(e){return hD(this._delegate,e._delegate)}withConverter(e){return new Ec(this.firestore,e?this._delegate.withConverter(Al.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function ll(n){return nt(n,Nt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(...e){this._delegate=new so(...e)}static documentId(){return new wb(St.keyField().canonicalString())}isEqual(e){return e=Ce(e),e instanceof so?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{static serverTimestamp(){const e=X3();return e._methodName="FieldValue.serverTimestamp",new sl(e)}static delete(){const e=Y3();return e._methodName="FieldValue.delete",new sl(e)}static arrayUnion(...e){const t=J3(...e);return t._methodName="FieldValue.arrayUnion",new sl(t)}static arrayRemove(...e){const t=Z3(...e);return t._methodName="FieldValue.arrayRemove",new sl(t)}static increment(e){const t=ej(e);return t._methodName="FieldValue.increment",new sl(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj={Firestore:CD,GeoPoint:fy,Timestamp:It,Blob:RD,Transaction:PD,WriteBatch:OD,DocumentReference:Jr,DocumentSnapshot:lf,Query:Zn,QueryDocumentSnapshot:uf,QuerySnapshot:bE,CollectionReference:Ec,FieldPath:wb,FieldValue:sl,setLogLevel:sj,CACHE_SIZE_UNLIMITED:d3};function lj(n,e){n.INTERNAL.registerComponent(new rr("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},oj)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(n){lj(n,(e,t)=>new CD(e,t,new ij)),n.registerVersion(tj,nj)}uj(gi);function bb(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}const id={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},ku={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function kD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hj=cj,dj=kD,ND=new $s("auth","Firebase",kD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg=new bf("@firebase/auth");function fj(n,...e){Dg.logLevel<=je.WARN&&Dg.warn(`Auth (${ho}): ${n}`,...e)}function Km(n,...e){Dg.logLevel<=je.ERROR&&Dg.error(`Auth (${ho}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(n,...e){throw Sb(n,...e)}function pn(n,...e){return Sb(n,...e)}function Tb(n,e,t){const r=Object.assign(Object.assign({},dj()),{[e]:t});return new $s("auth","Firebase",r).create(e,{appName:n.name})}function An(n){return Tb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lc(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vn(n,"argument-error"),Tb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Sb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ND.create(n,...e)}function me(n,e,...t){if(!n)throw Sb(e,...t)}function Ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Km(e),new Error(e)}function mi(n,e){n||Ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Ab(){return g1()==="http:"||g1()==="https:"}function g1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ab()||Wg()||"connection"in navigator)?navigator.onLine:!0}function mj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t){this.shortDelay=e,this.longDelay=t,mi(t>e,"Short delay should be less than long delay!"),this.isMobile=hU()||ow()}get(){return pj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(n,e){mi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=new Lf(3e4,6e4);function Ht(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function $t(n,e,t,r,i={}){return VD(n,i,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const h=Cc(Object.assign({key:n.config.apiKey},u)).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:d},o);return fU()||(f.referrerPolicy="no-referrer"),MD.fetch()(LD(n,n.config.apiHost,t,h),f)})}async function VD(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},gj),e);try{const i=new vj(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Id(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,f]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Id(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw Id(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw Id(n,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw Tb(n,g,f);Vn(n,g)}}catch(i){if(i instanceof Nn)throw i;Vn(n,"network-request-failed",{message:String(i)})}}async function Ys(n,e,t,r,i={}){const o=await $t(n,e,t,r,i);return"mfaPendingCredential"in o&&Vn(n,"multi-factor-auth-required",{_serverResponse:o}),o}function LD(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?Ib(n.config,i):`${n.config.apiScheme}://${i}`}function _j(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(pn(this.auth,"network-request-failed")),yj.get())})}}function Id(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=pn(n,e,r);return i.customData._tokenResponse=t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n){return n!==void 0&&n.getResponse!==void 0}function _1(n){return n!==void 0&&n.enterprise!==void 0}class UD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return _j(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(n){return(await $t(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function FD(n,e){return $t(n,"GET","/v2/recaptchaConfig",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(n,e){return $t(n,"POST","/v1/accounts:delete",e)}async function bj(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function BD(n,e){return $t(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Tj(n,e=!1){const t=Ce(n),r=await t.getIdToken(e),i=Ty(r);me(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ld(v0(i.auth_time)),issuedAtTime:Ld(v0(i.iat)),expirationTime:Ld(v0(i.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function v0(n){return Number(n)*1e3}function Ty(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Km("JWT malformed, contained fewer than 3 sections"),null;try{const i=iw(t);return i?JSON.parse(i):(Km("Failed to decode base64 JWT payload"),null)}catch(i){return Km("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function v1(n){const e=Ty(n);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Nn&&Sj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Sj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ld(this.lastLoginAt),this.creationTime=Ld(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hf(n){var e;const t=n.auth,r=await n.getIdToken(),i=await zs(n,BD(t,{idToken:r}));me(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?jD(o.providerUserInfo):[],h=Rj(n.providerData,u),d=n.isAnonymous,f=!(n.email&&o.passwordHash)&&!(h!=null&&h.length),g=d?f:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new TE(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(n,_)}async function Ij(n){const e=Ce(n);await hf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jD(n){return n.map(e=>{var{providerId:t}=e,r=bb(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cj(n,e){const t=await VD(n,{},async()=>{const r=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,u=LD(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",MD.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Pj(n,e){return $t(n,"POST","/v2/accounts:revokeToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){me(e.length!==0,"internal-error");const t=v1(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await Cj(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,u=new Wu;return r&&(me(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wu,this.toJSON())}_performRefresh(){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(n,e){me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ds{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=bb(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Aj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new TE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await zs(this,this.stsTokenManager.getToken(this.auth,e));return me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Tj(this,e)}reload(){return Ij(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ds(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await hf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tt(this.auth.app))return Promise.reject(An(this.auth));const e=await this.getIdToken();return await zs(this,wj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,u,h,d,f,g;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,b=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,T=(u=t.photoURL)!==null&&u!==void 0?u:void 0,I=(h=t.tenantId)!==null&&h!==void 0?h:void 0,O=(d=t._redirectEventId)!==null&&d!==void 0?d:void 0,L=(f=t.createdAt)!==null&&f!==void 0?f:void 0,V=(g=t.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:U,emailVerified:$,isAnonymous:j,providerData:H,stsTokenManager:M}=t;me(U&&M,e,"internal-error");const C=Wu.fromJSON(this.name,M);me(typeof U=="string",e,"internal-error"),La(_,e.name),La(v,e.name),me(typeof $=="boolean",e,"internal-error"),me(typeof j=="boolean",e,"internal-error"),La(b,e.name),La(T,e.name),La(I,e.name),La(O,e.name),La(L,e.name),La(V,e.name);const R=new Ds({uid:U,auth:e,email:v,emailVerified:$,displayName:_,isAnonymous:j,photoURL:T,phoneNumber:b,tenantId:I,stsTokenManager:C,createdAt:L,lastLoginAt:V});return H&&Array.isArray(H)&&(R.providerData=H.map(w=>Object.assign({},w))),O&&(R._redirectEventId=O),R}static async _fromIdTokenResponse(e,t,r=!1){const i=new Wu;i.updateFromServerResponse(t);const o=new Ds({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await hf(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?jD(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new Wu;h.updateFromIdToken(r);const d=new Ds({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new TE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new Map;function Cr(n){mi(n instanceof Function,"Expected a class definition");let e=E1.get(n);return e?(mi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,E1.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}zD.type="NONE";const wc=zD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(n,e,t){return`firebase:${n}:${e}:${t}`}class Qu{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=fl(this.userKey,i.apiKey,o),this.fullPersistenceKey=fl("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ds._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Qu(Cr(wc),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||Cr(wc);const u=fl(r,e.config.apiKey,e.name);let h=null;for(const f of t)try{const g=await f._get(u);if(g){const _=Ds._fromJSON(e,g);f!==o&&(h=_),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Qu(o,e,r):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new Qu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KD(e))return"Blackberry";if(WD(e))return"Webos";if(HD(e))return"Safari";if((e.includes("chrome/")||$D(e))&&!e.includes("edge/"))return"Chrome";if(Uf(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qD(n=Mt()){return/firefox\//i.test(n)}function HD(n=Mt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $D(n=Mt()){return/crios\//i.test(n)}function GD(n=Mt()){return/iemobile/i.test(n)}function Uf(n=Mt()){return/android/i.test(n)}function KD(n=Mt()){return/blackberry/i.test(n)}function WD(n=Mt()){return/webos/i.test(n)}function Ff(n=Mt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Oj(n=Mt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function xj(n=Mt()){var e;return Ff(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Dj(){return PP()&&document.documentMode===10}function QD(n=Mt()){return Ff(n)||Uf(n)||WD(n)||KD(n)||/windows phone/i.test(n)||GD(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(n,e=[]){let t;switch(n){case"Browser":t=w1(Mt());break;case"Worker":t=`${w1(Mt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nj(n,e={}){return $t(n,"GET","/v2/passwordPolicy",Ht(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=6;class Vj{constructor(e){var t,r,i,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:Mj,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(t=d.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new b1(this),this.idTokenSubscription=new b1(this),this.beforeStateQueue=new kj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ND,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Cr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await BD(this,{idToken:e}),r=await Ds._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Tt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tt(this.app))return Promise.reject(An(this));const t=e?Ce(e):null;return t&&me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tt(this.app)?Promise.reject(An(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tt(this.app)?Promise.reject(An(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Nj(this),t=new Vj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $s("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Pj(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Cr(e)||this._popupRedirectResolver;me(t,this,"argument-error"),this.redirectPersistenceManager=await Qu.create(this,[Cr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&fj(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vt(n){return Ce(n)}class b1{constructor(e){this.auth=e,this.observer=null,this.addObserver=DP(t=>this.observer=t)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uj(n){Bf=n}function Rb(n){return Bf.loadJS(n)}function Fj(){return Bf.recaptchaV2Script}function Bj(){return Bf.recaptchaEnterpriseScript}function jj(){return Bf.gapiScript}function XD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj=500,qj=6e4,Im=1e12;class Hj{constructor(e){this.auth=e,this.counter=Im,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new Kj(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||Im;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;const r=e||Im;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;const r=e||Im;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}}class $j{constructor(){this.enterprise=new Gj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Gj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Kj{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;me(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Wj(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},qj)},zj))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Wj(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const Qj="recaptcha-enterprise",Ud="NO_RECAPTCHA";class JD{constructor(e){this.type=Qj,this.auth=Vt(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{FD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const f=new UD(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,u(f.siteKey)}}).catch(d=>{h(d)})})}function i(o,u,h){const d=window.grecaptcha;_1(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{u(f)}).catch(()=>{u(Ud)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $j().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(h=>{if(!t&&_1(window.grecaptcha))i(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Bj();d.length!==0&&(d+=h),Rb(d).then(()=>{i(h,o,u)}).catch(f=>{u(f)})}}).catch(h=>{u(h)})})}}async function sd(n,e,t,r=!1,i=!1){const o=new JD(n);let u;if(i)u=Ud;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,f=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ka(n,e,t,r,i){var o,u;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await sd(n,e,t,t==="getOobCode");return r(n,h)}else return r(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await sd(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(h)});else if(i==="PHONE_PROVIDER")if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await sd(n,e,t);return r(n,h).catch(async d=>{var f;if(((f=n._getRecaptchaConfig())===null||f===void 0?void 0:f.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const g=await sd(n,e,t,!1,!0);return r(n,g)}return Promise.reject(d)})}else{const h=await sd(n,e,t,!1,!0);return r(n,h)}else return Promise.reject(i+" provider is not supported.")}async function Yj(n){const e=Vt(n),t=await FD(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new UD(t);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new JD(e).verify()}function Xj(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Cr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Jj(n,e,t){const r=Vt(n);me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(t!=null&&t.disableWarnings),o=ZD(e),{host:u,port:h}=Zj(e),d=h===null?"":`:${h}`,f={url:`${o}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),me(Qa(f,r.config.emulator)&&Qa(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,i||ez()}function ZD(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Zj(n){const e=ZD(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:T1(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:T1(u)}}}function T1(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function ez(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,t){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(n,e){return $t(n,"POST","/v1/accounts:resetPassword",Ht(n,e))}async function tz(n,e){return $t(n,"POST","/v1/accounts:update",e)}async function nz(n,e){return $t(n,"POST","/v1/accounts:signUp",e)}async function rz(n,e){return $t(n,"POST","/v1/accounts:update",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(n,e){return Ys(n,"POST","/v1/accounts:signInWithPassword",Ht(n,e))}async function Sy(n,e){return $t(n,"POST","/v1/accounts:sendOobCode",Ht(n,e))}async function sz(n,e){return Sy(n,e)}async function az(n,e){return Sy(n,e)}async function oz(n,e){return Sy(n,e)}async function lz(n,e){return Sy(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uz(n,e){return Ys(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}async function cz(n,e){return Ys(n,"POST","/v1/accounts:signInWithEmailLink",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Uc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new df(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new df(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ka(e,t,"signInWithPassword",iz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return uz(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ka(e,r,"signUpPassword",nz,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return cz(e,{idToken:t,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(n,e){return Ys(n,"POST","/v1/accounts:signInWithIdp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz="http://localhost";class es extends Uc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=bb(t,["providerId","signInMethod"]);if(!r||!i)return null;const u=new es(r,i);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Vs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Vs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vs(e,t)}buildRequest(){const e={requestUri:hz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(n,e){return $t(n,"POST","/v1/accounts:sendVerificationCode",Ht(n,e))}async function dz(n,e){return Ys(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e))}async function fz(n,e){const t=await Ys(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,e));if(t.temporaryProof)throw Id(n,"account-exists-with-different-credential",t);return t}const pz={USER_NOT_FOUND:"user-not-found"};async function mz(n,e){const t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ys(n,"POST","/v1/accounts:signInWithPhoneNumber",Ht(n,t),pz)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Uc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new pl({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new pl({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return dz(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return fz(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return mz(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!t&&!i&&!o?null:new pl({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gz(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yz(n){const e=Hu(wd(n)).link,t=e?Hu(wd(e)).deep_link_id:null,r=Hu(wd(n)).deep_link_id;return(r?Hu(wd(r)).link:null)||r||t||e||n}class Ay{constructor(e){var t,r,i,o,u,h;const d=Hu(wd(e)),f=(t=d.apiKey)!==null&&t!==void 0?t:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,_=gz((i=d.mode)!==null&&i!==void 0?i:null);me(f&&g&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=g,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=d.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=yz(e);try{return new Ay(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(e,t){return df._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ay.parseLink(t);return me(r,"argument-error"),df._fromEmailAndCode(e,r.code,r.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends Xs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yu extends Fc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return me("providerId"in t&&"signInMethod"in t,"argument-error"),es._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return me(e.idToken||e.accessToken,"argument-error"),es._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Yu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Yu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:u,providerId:h}=e;if(!r&&!i&&!t&&!o||!h)return null;try{return new Yu(h)._credential({idToken:t,accessToken:r,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Fc{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return es._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return zi.credential(t,r)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Fc{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _z="http://localhost";class bc extends Uc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Vs(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Vs(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=t;return!r||!i||!o||r!==i?null:new bc(r,o)}static _create(e,t){return new bc(e,t)}buildRequest(){return{requestUri:_z,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz="saml.";class kg extends Xs{constructor(e){me(e.startsWith(vz),"argument-error"),super(e)}static credentialFromResult(e){return kg.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return kg.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=bc.fromJSON(e);return me(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return bc._create(r,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Fc{constructor(){super("twitter.com")}static credential(e,t){return es._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Hi.credential(t,r)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(n,e){return Ys(n,"POST","/v1/accounts:signUp",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Ds._fromIdTokenResponse(e,r,i),u=A1(r);return new ni({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=A1(r);return new ni({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function A1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ez(n){var e;if(Tt(n.app))return Promise.reject(An(n));const t=Vt(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new ni({user:t.currentUser,providerId:null,operationType:"signIn"});const r=await tk(t,{returnSecureToken:!0}),i=await ni._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends Nn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ng.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Ng(e,t,r,i)}}function nk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ng._fromErrorAndOperation(n,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wz(n,e){const t=Ce(n);await Iy(!0,t,e);const{providerUserInfo:r}=await bj(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=rk(r||[]);return t.providerData=t.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Cb(n,e,t=!1){const r=await zs(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ni._forOperation(n,"link",r)}async function Iy(n,e,t){await hf(e);const r=rk(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";me(r.has(t)===n,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ik(n,e,t=!1){const{auth:r}=n;if(Tt(r.app))return Promise.reject(An(r));const i="reauthenticate";try{const o=await zs(n,nk(r,i,e,n),t);me(o.idToken,r,"internal-error");const u=Ty(o.idToken);me(u,r,"internal-error");const{sub:h}=u;return me(n.uid===h,r,"user-mismatch"),ni._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(n,e,t=!1){if(Tt(n.app))return Promise.reject(An(n));const r="signIn",i=await nk(n,r,e),o=await ni._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function Ry(n,e){return sk(Vt(n),e)}async function ak(n,e){const t=Ce(n);return await Iy(!1,t,e.providerId),Cb(t,e)}async function ok(n,e){return ik(Ce(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bz(n,e){return Ys(n,"POST","/v1/accounts:signInWithCustomToken",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tz(n,e){if(Tt(n.app))return Promise.reject(An(n));const t=Vt(n),r=await bz(t,{token:e,returnSecureToken:!0}),i=await ni._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Pb._fromServerResponse(e,t):"totpInfo"in t?Ob._fromServerResponse(e,t):Vn(e,"internal-error")}}class Pb extends jf{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Pb(t)}}class Ob extends jf{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Ob(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(n,e,t){var r;me(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),me(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),me(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(me(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(me(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xb(n){const e=Vt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Sz(n,e,t){const r=Vt(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&Cy(r,i,t),await Ka(r,i,"getOobCode",az,"EMAIL_PASSWORD_PROVIDER")}async function Az(n,e,t){await ek(Ce(n),{oobCode:e,newPassword:t}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xb(n),r})}async function Iz(n,e){await rz(Ce(n),{oobCode:e})}async function lk(n,e){const t=Ce(n),r=await ek(t,{oobCode:e}),i=r.requestType;switch(me(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":me(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":me(r.mfaInfo,t,"internal-error");default:me(r.email,t,"internal-error")}let o=null;return r.mfaInfo&&(o=jf._fromServerResponse(Vt(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function Rz(n,e){const{data:t}=await lk(Ce(n),e);return t.email}async function uk(n,e,t){if(Tt(n.app))return Promise.reject(An(n));const r=Vt(n),u=await Ka(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tk,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&xb(n),d}),h=await ni._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function ck(n,e,t){return Tt(n.app)?Promise.reject(An(n)):Ry(Ce(n),_o.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xb(n),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cz(n,e,t){const r=Vt(n),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){me(h.handleCodeInApp,r,"argument-error"),h&&Cy(r,u,h)}o(i,t),await Ka(r,i,"getOobCode",oz,"EMAIL_PASSWORD_PROVIDER")}function Pz(n,e){const t=Ay.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function Oz(n,e,t){if(Tt(n.app))return Promise.reject(An(n));const r=Ce(n),i=_o.credentialWithLink(e,t||cf());return me(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ry(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xz(n,e){return $t(n,"POST","/v1/accounts:createAuthUri",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dz(n,e){const t=Ab()?cf():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await xz(Ce(n),r);return i||[]}async function kz(n,e){const t=Ce(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&Cy(t.auth,i,e);const{email:o}=await sz(t.auth,i);o!==n.email&&await n.reload()}async function Nz(n,e,t){const r=Ce(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&Cy(r.auth,o,t);const{email:u}=await lz(r.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mz(n,e){return $t(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vz(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const r=Ce(n),o={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await zs(r,Mz(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const h=r.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=r.displayName,h.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function Lz(n,e){const t=Ce(n);return Tt(t.auth.app)?Promise.reject(An(t.auth)):hk(t,e,null)}function Uz(n,e){return hk(Ce(n),null,e)}async function hk(n,e,t){const{auth:r}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await zs(n,tz(r,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},o=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){const u=(t=(e=Ty(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new Xu(o,h)}}if(!r)return null;switch(r){case"facebook.com":return new Bz(o,i);case"github.com":return new jz(o,i);case"google.com":return new zz(o,i);case"twitter.com":return new qz(o,i,n.screenName||null);case"custom":case"anonymous":return new Xu(o,null);default:return new Xu(o,r,i)}}class Xu{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class dk extends Xu{constructor(e,t,r,i){super(e,t,r),this.username=i}}class Bz extends Xu{constructor(e,t){super(e,"facebook.com",t)}}class jz extends dk{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class zz extends Xu{constructor(e,t){super(e,"google.com",t)}}class qz extends dk{constructor(e,t,r){super(e,"twitter.com",t,r)}}function Hz(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:Fz(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t,r){this.type=e,this.credential=t,this.user=r}static _fromIdtoken(e,t){return new ul("enroll",e,t)}static _fromMfaPendingCredential(e){return new ul("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return ul._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return ul._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=Vt(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(h=>jf._fromServerResponse(r,h));me(i.mfaPendingCredential,r,"internal-error");const u=ul._fromMfaPendingCredential(i.mfaPendingCredential);return new Db(u,o,async h=>{const d=await h._process(r,u);delete i.mfaInfo,delete i.mfaPendingCredential;const f=Object.assign(Object.assign({},i),{idToken:d.idToken,refreshToken:d.refreshToken});switch(t.operationType){case"signIn":const g=await ni._fromIdTokenResponse(r,t.operationType,f);return await r._updateCurrentUser(g.user),g;case"reauthenticate":return me(t.user,r,"internal-error"),ni._forOperation(t.user,t.operationType,f);default:Vn(r,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function $z(n,e){var t;const r=Ce(n),i=e;return me(e.customData.operationType,r,"argument-error"),me((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),Db._fromError(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:start",Ht(n,e))}function Gz(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:finalize",Ht(n,e))}function Kz(n,e){return $t(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Ht(n,e))}class kb{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>jf._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new kb(e)}async getSession(){return ul._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const r=e,i=await this.getSession(),o=await zs(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await zs(this.user,Kz(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const E0=new WeakMap;function Wz(n){const e=Ce(n);return E0.has(e)||E0.set(e,kb._fromUser(e)),E0.get(e)}const Mg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mg,"1"),this.storage.removeItem(Mg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz=1e3,Yz=10;class pk extends fk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);Dj()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Yz):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Qz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pk.type="LOCAL";const Nb=pk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends fk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mk.type="SESSION";const Il=mk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Py(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async f=>f(t.origin,o)),d=await Xz(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Py.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const f=zf("",20);i.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(v.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return window}function Zz(n){rn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return typeof rn().WorkerGlobalScope<"u"&&typeof rn().importScripts=="function"}async function e6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function t6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function n6(){return Mb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="firebaseLocalStorageDb",r6=1,Vg="firebaseLocalStorage",yk="fbase_key";class qf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Oy(n,e){return n.transaction([Vg],e?"readwrite":"readonly").objectStore(Vg)}function i6(){const n=indexedDB.deleteDatabase(gk);return new qf(n).toPromise()}function SE(){const n=indexedDB.open(gk,r6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vg,{keyPath:yk})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Vg)?e(r):(r.close(),await i6(),e(await SE()))})})}async function R1(n,e,t){const r=Oy(n,!0).put({[yk]:e,value:t});return new qf(r).toPromise()}async function s6(n,e){const t=Oy(n,!1).get(e),r=await new qf(t).toPromise();return r===void 0?null:r.value}function C1(n,e){const t=Oy(n,!0).delete(e);return new qf(t).toPromise()}const a6=800,o6=3;class _k{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await SE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>o6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Mb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Py._getInstance(n6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await e6(),!this.activeServiceWorker)return;this.sender=new Jz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||t6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await SE();return await R1(e,Mg,"1"),await C1(e,Mg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>R1(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>s6(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>C1(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Oy(i,!1).getAll();return new qf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_k.type="LOCAL";const ff=_k;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:start",Ht(n,e))}function l6(n,e){return $t(n,"POST","/v2/accounts/mfaSignIn:finalize",Ht(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=XD("rcb"),u6=new Lf(3e4,6e4);class c6{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=rn().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return me(h6(t),e,"argument-error"),this.shouldResolveImmediately(t)&&y1(rn().grecaptcha)?Promise.resolve(rn().grecaptcha):new Promise((r,i)=>{const o=rn().setTimeout(()=>{i(pn(e,"network-request-failed"))},u6.get());rn()[w0]=()=>{rn().clearTimeout(o),delete rn()[w0];const h=rn().grecaptcha;if(!h||!y1(h)){i(pn(e,"internal-error"));return}const d=h.render;h.render=(f,g)=>{const _=d(f,g);return this.counter++,_},this.hostLanguage=t,r(h)};const u=`${Fj()}?${Cc({onload:w0,render:"explicit",hl:t})}`;Rb(u).catch(()=>{clearTimeout(o),i(pn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=rn().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function h6(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class d6{async load(e){return new Hj(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd="recaptcha",f6={theme:"light",type:"image"};let p6=class{constructor(e,t,r=Object.assign({},f6)){this.parameters=r,this.type=Fd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vt(e),this.isInvisible=this.parameters.size==="invisible",me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof t=="string"?document.getElementById(t):t;me(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new d6:new c6,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),i(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){me(!this.parameters.sitekey,this.auth,"argument-error"),me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){const r=rn()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){me(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){me(Ab()&&!Mb(),this.auth,"internal-error"),await m6(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await Ej(this.auth);me(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function m6(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=pl._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function g6(n,e,t){if(Tt(n.app))return Promise.reject(An(n));const r=Vt(n),i=await xy(r,e,Ce(t));return new Vb(i,o=>Ry(r,o))}async function y6(n,e,t){const r=Ce(n);await Iy(!1,r,"phone");const i=await xy(r.auth,e,Ce(t));return new Vb(i,o=>ak(r,o))}async function _6(n,e,t){const r=Ce(n);if(Tt(r.auth.app))return Promise.reject(An(r.auth));const i=await xy(r.auth,e,Ce(t));return new Vb(i,o=>ok(r,o))}async function xy(n,e,t){var r;if(!n._getRecaptchaConfig())try{await Yj(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){me(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ka(n,u,"mfaSmsEnrollment",async(g,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Ud){me((t==null?void 0:t.type)===Fd,g,"argument-error");const v=await b0(g,_,t);return I1(g,v)}return I1(g,_)},"PHONE_PROVIDER").catch(g=>Promise.reject(g))).phoneSessionInfo.sessionInfo}else{me(o.type==="signin",n,"internal-error");const u=((r=i.multiFactorHint)===null||r===void 0?void 0:r.uid)||i.multiFactorUid;me(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ka(n,h,"mfaSmsSignIn",async(_,v)=>{if(v.phoneSignInInfo.captchaResponse===Ud){me((t==null?void 0:t.type)===Fd,_,"argument-error");const b=await b0(_,v,t);return P1(_,b)}return P1(_,v)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ka(n,o,"sendVerificationCode",async(f,g)=>{if(g.captchaResponse===Ud){me((t==null?void 0:t.type)===Fd,f,"argument-error");const _=await b0(f,g,t);return S1(f,_)}return S1(f,g)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).sessionInfo}}finally{t==null||t._reset()}}async function v6(n,e){const t=Ce(n);if(Tt(t.auth.app))return Promise.reject(An(t.auth));await Cb(t,e)}async function b0(n,e,t){me(t.type===Fd,n,"argument-error");const r=await t.verify();me(typeof r=="string",n,"argument-error");const i=Object.assign({},e);if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,u=i.phoneEnrollmentInfo.captchaResponse,h=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:u,clientType:h,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,u=i.phoneSignInInfo.clientType,h=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:u,recaptchaVersion:h}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl=class Wm{constructor(e){this.providerId=Wm.PROVIDER_ID,this.auth=Vt(e)}verifyPhoneNumber(e,t){return xy(this.auth,e,Ce(t))}static credential(e,t){return pl._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Wm.credentialFromTaggedObject(t)}static credentialFromError(e){return Wm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:r}=e;return t&&r?pl._fromTokenResponse(t,r):null}};Rl.PROVIDER_ID="phone";Rl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(n,e){return e?Cr(e):(me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends Uc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function E6(n){return sk(n.auth,new Lb(n),n.bypassAuthState)}function w6(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),ik(t,new Lb(n),n.bypassAuthState)}async function b6(n){const{auth:e,user:t}=n;return me(t,e,"internal-error"),Cb(t,new Lb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E6;case"linkViaPopup":case"linkViaRedirect":return b6;case"reauthViaPopup":case"reauthViaRedirect":return w6;default:Vn(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new Lf(2e3,1e4);async function S6(n,e,t){if(Tt(n.app))return Promise.reject(pn(n,"operation-not-supported-in-this-environment"));const r=Vt(n);Lc(n,e,Xs);const i=Ul(r,t);return new ks(r,"signInViaPopup",e,i).executeNotNull()}async function A6(n,e,t){const r=Ce(n);if(Tt(r.auth.app))return Promise.reject(pn(r.auth,"operation-not-supported-in-this-environment"));Lc(r.auth,e,Xs);const i=Ul(r.auth,t);return new ks(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function I6(n,e,t){const r=Ce(n);Lc(r.auth,e,Xs);const i=Ul(r.auth,t);return new ks(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ks extends vk{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ks.currentPopupAction&&ks.currentPopupAction.cancel(),ks.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=zf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ks.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T6.get())};e()}}ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="pendingRedirect",Bd=new Map;class C6 extends vk{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Bd.get(this.auth._key());if(!e){try{const r=await P6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Bd.set(this.auth._key(),e)}return this.bypassAuthState||Bd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P6(n,e){const t=wk(e),r=Ek(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}async function Ub(n,e){return Ek(n)._set(wk(e),"true")}function O6(){Bd.clear()}function Fb(n,e){Bd.set(n._key(),e)}function Ek(n){return Cr(n._redirectPersistence)}function wk(n){return fl(R6,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(n,e,t){return D6(n,e,t)}async function D6(n,e,t){if(Tt(n.app))return Promise.reject(An(n));const r=Vt(n);Lc(n,e,Xs),await r._initializationPromise;const i=Ul(r,t);return await Ub(i,r),i._openRedirect(r,e,"signInViaRedirect")}function k6(n,e,t){return N6(n,e,t)}async function N6(n,e,t){const r=Ce(n);if(Lc(r.auth,e,Xs),Tt(r.auth.app))return Promise.reject(An(r.auth));await r.auth._initializationPromise;const i=Ul(r.auth,t);await Ub(i,r.auth);const o=await bk(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function M6(n,e,t){return V6(n,e,t)}async function V6(n,e,t){const r=Ce(n);Lc(r.auth,e,Xs),await r.auth._initializationPromise;const i=Ul(r.auth,t);await Iy(!1,r,e.providerId),await Ub(i,r.auth);const o=await bk(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function L6(n,e){return await Vt(n)._initializationPromise,Dy(n,e,!1)}async function Dy(n,e,t=!1){if(Tt(n.app))return Promise.reject(An(n));const r=Vt(n),i=Ul(r,e),u=await new C6(r,i,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}async function bk(n){const e=zf(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=10*60*1e3;class Tk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!F6(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Sk(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(pn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=U6&&this.cachedEventUids.clear(),this.cachedEventUids.has(O1(e))}saveEventToCache(e){this.cachedEventUids.add(O1(e)),this.lastProcessedEventTime=Date.now()}}function O1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Sk({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function F6(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sk(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ak(n,e={}){return $t(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j6=/^https?/;async function z6(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Ak(n);for(const t of e)try{if(q6(t))return}catch{}Vn(n,"unauthorized-domain")}function q6(n){const e=cf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!j6.test(t))return!1;if(B6.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=new Lf(3e4,6e4);function x1(){const n=rn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function $6(n){return new Promise((e,t)=>{var r,i,o;function u(){x1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{x1(),t(pn(n,"network-request-failed"))},timeout:H6.get()})}if(!((i=(r=rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=rn().gapi)===null||o===void 0)&&o.load)u();else{const h=XD("iframefcb");return rn()[h]=()=>{gapi.load?u():t(pn(n,"network-request-failed"))},Rb(`${jj()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw Qm=null,e})}let Qm=null;function G6(n){return Qm=Qm||$6(n),Qm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new Lf(5e3,15e3),W6="__/auth/iframe",Q6="emulator/auth/iframe",Y6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J6(n){const e=n.config;me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ib(e,Q6):`https://${n.config.authDomain}/${W6}`,r={apiKey:e.apiKey,appName:n.name,v:ho},i=X6.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Cc(r).slice(1)}`}async function Z6(n){const e=await G6(n),t=rn().gapi;return me(t,n,"internal-error"),e.open({where:document.body,url:J6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const u=pn(n,"network-request-failed"),h=rn().setTimeout(()=>{o(u)},K6.get());function d(){rn().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t9=500,n9=600,r9="_blank",i9="http://localhost";class D1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s9(n,e,t,r=t9,i=n9){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},e9),{width:r.toString(),height:i.toString(),top:o,left:u}),f=Mt().toLowerCase();t&&(h=$D(f)?r9:t),qD(f)&&(e=e||i9,d.scrollbars="yes");const g=Object.entries(d).reduce((v,[b,T])=>`${v}${b}=${T},`,"");if(xj(f)&&h!=="_self")return a9(e||"",h),new D1(null);const _=window.open(e||"",h,g);me(_,n,"popup-blocked");try{_.focus()}catch{}return new D1(_)}function a9(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9="__/auth/handler",l9="emulator/auth/handler",u9=encodeURIComponent("fac");async function AE(n,e,t,r,i,o){me(n.config.authDomain,n,"auth-domain-config-required"),me(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ho,eventId:i};if(e instanceof Xs){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",yU(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries(o||{}))u[g]=_}if(e instanceof Fc){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await n._getAppCheckToken(),f=d?`#${u9}=${encodeURIComponent(d)}`:"";return`${c9(n)}?${Cc(h).slice(1)}${f}`}function c9({config:n}){return n.emulator?Ib(n,l9):`https://${n.authDomain}/${o9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="webStorageSupport";class h9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Il,this._completeRedirectFn=Dy,this._overrideRedirectResult=Fb}async _openPopup(e,t,r,i){var o;mi((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await AE(e,t,r,cf(),i);return s9(e,u,zf())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await AE(e,t,r,cf(),i);return Zz(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(mi(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Z6(e),r=new Tk(e);return t.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(T0,{type:T0},i=>{var o;const u=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[T0];u!==void 0&&t(!!u),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=z6(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return QD()||HD()||Ff()}}const d9=h9;class f9{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ki("unexpected MultiFactorSessionType")}}}class Bb extends f9{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Bb(e)}_finalizeEnroll(e,t,r){return Gz(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return l6(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ik{constructor(){}static assertion(e){return Bb._fromCredential(e)}}Ik.FACTOR_ID="phone";var k1="@firebase/auth",N1="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g9(n){ti(new rr("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;me(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YD(n)},f=new Lj(r,i,o,d);return Xj(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ti(new rr("auth-internal",e=>{const t=Vt(e.getProvider("auth").getImmediate());return(r=>new p9(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(k1,N1,m9(n)),tr(k1,N1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9=5*60;lU("authIdTokenMaxAge");function _9(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Uj({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=pn("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",_9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g9("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cl(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=2e3;async function E9(n,e,t){var r;const{BuildInfo:i}=Cl();mi(e.sessionId,"AuthEvent did not contain a session ID");const o=await A9(e.sessionId),u={};return Ff()?u.ibi=i.packageName:Uf()?u.apn=i.packageName:Vn(n,"operation-not-supported-in-this-environment"),i.displayName&&(u.appDisplayName=i.displayName),u.sessionId=o,AE(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,u)}async function w9(n){const{BuildInfo:e}=Cl(),t={};Ff()?t.iosBundleId=e.packageName:Uf()?t.androidPackageName=e.packageName:Vn(n,"operation-not-supported-in-this-environment"),await Ak(n,t)}function b9(n){const{cordova:e}=Cl();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,Oj()?"_blank":"_system","location=yes"),t(i)})})}async function T9(n,e,t){const{cordova:r}=Cl();let i=()=>{};try{await new Promise((o,u)=>{let h=null;function d(){var _;o();const v=(_=r.plugins.browsertab)===null||_===void 0?void 0:_.close;typeof v=="function"&&v(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function f(){h||(h=window.setTimeout(()=>{u(pn(n,"redirect-cancelled-by-user"))},v9))}function g(){(document==null?void 0:document.visibilityState)==="visible"&&f()}e.addPassiveListener(d),document.addEventListener("resume",f,!1),Uf()&&document.addEventListener("visibilitychange",g,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",f,!1),document.removeEventListener("visibilitychange",g,!1),h&&window.clearTimeout(h)}})}finally{i()}}function S9(n){var e,t,r,i,o,u,h,d,f,g;const _=Cl();me(typeof((e=_==null?void 0:_.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),me(typeof((t=_==null?void 0:_.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),me(typeof((o=(i=(r=_==null?void 0:_.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((d=(h=(u=_==null?void 0:_.cordova)===null||u===void 0?void 0:u.plugins)===null||h===void 0?void 0:h.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),me(typeof((g=(f=_==null?void 0:_.cordova)===null||f===void 0?void 0:f.InAppBrowser)===null||g===void 0?void 0:g.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function A9(n){const e=I9(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function I9(n){if(mi(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9=20;class C9 extends Tk{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function P9(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:D9(),postBody:null,tenantId:n.tenantId,error:pn(n,"no-auth-event")}}function O9(n,e){return IE()._set(RE(n),e)}async function M1(n){const e=await IE()._get(RE(n));return e&&await IE()._remove(RE(n)),e}function x9(n,e){var t,r;const i=N9(e);if(i.includes("/__/auth/callback")){const o=Ym(i),u=o.firebaseError?k9(decodeURIComponent(o.firebaseError)):null,h=(r=(t=u==null?void 0:u.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=h?pn(h):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function D9(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<R9;t++){const r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function IE(){return Cr(Nb)}function RE(n){return fl("authEvent",n.config.apiKey,n.name)}function k9(n){try{return JSON.parse(n)}catch{return null}}function N9(n){const e=Ym(n),t=e.link?decodeURIComponent(e.link):void 0,r=Ym(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Ym(i).link||i||r||t||n}function Ym(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return Hu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=500;class V9{constructor(){this._redirectPersistence=Il,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Dy,this._overrideRedirectResult=Fb}async _initialize(e){const t=e._key();let r=this.eventManagers.get(t);return r||(r=new C9(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Vn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){S9(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),O6(),await this._originValidation(e);const u=P9(e,r,i);await O9(e,u);const h=await E9(e,u,t),d=await b9(h);return T9(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=w9(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=Cl(),u=setTimeout(async()=>{await M1(e),t.onEvent(V1())},M9),h=async g=>{clearTimeout(u);const _=await M1(e);let v=null;_&&(g!=null&&g.url)&&(v=x9(_,g.url)),t.onEvent(v||V1())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,h);const d=i,f=`${o.packageName.toLowerCase()}://`;Cl().handleOpenURL=async g=>{if(g.toLowerCase().startsWith(f)&&h({url:g}),typeof d=="function")try{d(g)}catch(_){console.error(_)}}}}const L9=V9;function V1(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(n,e){Vt(n)._logFramework(e)}var F9="@firebase/auth-compat",B9="0.5.19";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=1e3;function jd(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function z9(){return jd()==="http:"||jd()==="https:"}function Rk(n=Mt()){return!!((jd()==="file:"||jd()==="ionic:"||jd()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function q9(){return ow()||aw()}function H9(){return PP()&&(document==null?void 0:document.documentMode)===11}function $9(n=Mt()){return/Edge\/\d+/.test(n)}function G9(n=Mt()){return H9()||$9(n)}function Ck(){try{const n=self.localStorage,e=zf();if(n)return n.setItem(e,"1"),n.removeItem(e),G9()?gl():!0}catch{return jb()&&gl()}return!1}function jb(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function S0(){return(z9()||Wg()||Rk())&&!q9()&&Ck()&&!jb()}function Pk(){return Rk()&&typeof document<"u"}async function K9(){return Pk()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},j9);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function W9(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir={LOCAL:"local",NONE:"none",SESSION:"session"},ad=me,Ok="persistence";function Q9(n,e){if(ad(Object.values(Ir).includes(e),n,"invalid-persistence-type"),ow()){ad(e!==Ir.SESSION,n,"unsupported-persistence-type");return}if(aw()){ad(e===Ir.NONE,n,"unsupported-persistence-type");return}if(jb()){ad(e===Ir.NONE||e===Ir.LOCAL&&gl(),n,"unsupported-persistence-type");return}ad(e===Ir.NONE||Ck(),n,"unsupported-persistence-type")}async function CE(n){await n._initializationPromise;const e=xk(),t=fl(Ok,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function Y9(n,e){const t=xk();if(!t)return[];const r=fl(Ok,n,e);switch(t.getItem(r)){case Ir.NONE:return[wc];case Ir.LOCAL:return[ff,Il];case Ir.SESSION:return[Il];default:return[]}}function xk(){var n;try{return((n=W9())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=me;class za{constructor(){this.browserResolver=Cr(d9),this.cordovaResolver=Cr(L9),this.underlyingResolver=null,this._redirectPersistence=Il,this._completeRedirectFn=Dy,this._overrideRedirectResult=Fb}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Pk()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return X9(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await K9();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(n){return n.unwrap()}function J9(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(n){return kk(n)}function eq(n,e){var t;const r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new tq(n,$z(n,e))}else if(r){const i=kk(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function kk(n){const{_tokenResponse:e}=n instanceof Nn?n.customData:n;if(!e)return null;if(!(n instanceof Nn)&&"temporaryProof"in e&&"phoneNumber"in e)return Rl.credentialFromResult(n);const t=e.providerId;if(!t||t===id.PASSWORD)return null;let r;switch(t){case id.GOOGLE:r=zi;break;case id.FACEBOOK:r=ji;break;case id.GITHUB:r=qi;break;case id.TWITTER:r=Hi;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:d}=e;return!o&&!u&&!i&&!h?null:h?t.startsWith("saml.")?bc._create(t,h):es._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:i,accessToken:o}):new Yu(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof Nn?r.credentialFromError(n):r.credentialFromResult(n)}function ur(n,e){return e.catch(t=>{throw t instanceof Nn&&eq(n,t),t}).then(t=>{const r=t.operationType,i=t.user;return{operationType:r,credential:Z9(t),additionalUserInfo:Hz(t),user:Ns.getOrCreate(i)}})}async function PE(n,e){const t=await e;return{verificationId:t.verificationId,confirm:r=>ur(n,t.confirm(r))}}class tq{constructor(e,t){this.resolver=t,this.auth=J9(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return ur(Dk(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._delegate=e,this.multiFactor=Wz(e)}static getOrCreate(e){return Ns.USER_MAP.has(e)||Ns.USER_MAP.set(e,new Ns(e)),Ns.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return ur(this.auth,ak(this._delegate,e))}async linkWithPhoneNumber(e,t){return PE(this.auth,y6(this._delegate,e,t))}async linkWithPopup(e){return ur(this.auth,I6(this._delegate,e,za))}async linkWithRedirect(e){return await CE(Vt(this.auth)),M6(this._delegate,e,za)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return ur(this.auth,ok(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return PE(this.auth,_6(this._delegate,e,t))}reauthenticateWithPopup(e){return ur(this.auth,A6(this._delegate,e,za))}async reauthenticateWithRedirect(e){return await CE(Vt(this.auth)),k6(this._delegate,e,za)}sendEmailVerification(e){return kz(this._delegate,e)}async unlink(e){return await wz(this._delegate,e),this}updateEmail(e){return Lz(this._delegate,e)}updatePassword(e){return Uz(this._delegate,e)}updatePhoneNumber(e){return v6(this._delegate,e)}updateProfile(e){return Vz(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Nz(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ns.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=me;let OE=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;od(r,"invalid-api-key",{appName:e.name}),od(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?za:void 0;this._delegate=t.initialize({options:{persistence:nq(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(hj),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ns.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Jj(this._delegate,e,t)}applyActionCode(e){return Iz(this._delegate,e)}checkActionCode(e){return lk(this._delegate,e)}confirmPasswordReset(e,t){return Az(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return ur(this._delegate,uk(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Dz(this._delegate,e)}isSignInWithEmailLink(e){return Pz(this._delegate,e)}async getRedirectResult(){od(S0(),this._delegate,"operation-not-supported-in-this-environment");const e=await L6(this._delegate,za);return e?ur(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){U9(this._delegate,e)}onAuthStateChanged(e,t,r){const{next:i,error:o,complete:u}=L1(e,t,r);return this._delegate.onAuthStateChanged(i,o,u)}onIdTokenChanged(e,t,r){const{next:i,error:o,complete:u}=L1(e,t,r);return this._delegate.onIdTokenChanged(i,o,u)}sendSignInLinkToEmail(e,t){return Cz(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Sz(this._delegate,e,t||void 0)}async setPersistence(e){Q9(this._delegate,e);let t;switch(e){case Ir.SESSION:t=Il;break;case Ir.LOCAL:t=await Cr(ff)._isAvailable()?ff:Nb;break;case Ir.NONE:t=wc;break;default:return Vn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return ur(this._delegate,Ez(this._delegate))}signInWithCredential(e){return ur(this._delegate,Ry(this._delegate,e))}signInWithCustomToken(e){return ur(this._delegate,Tz(this._delegate,e))}signInWithEmailAndPassword(e,t){return ur(this._delegate,ck(this._delegate,e,t))}signInWithEmailLink(e,t){return ur(this._delegate,Oz(this._delegate,e,t))}signInWithPhoneNumber(e,t){return PE(this._delegate,g6(this._delegate,e,t))}async signInWithPopup(e){return od(S0(),this._delegate,"operation-not-supported-in-this-environment"),ur(this._delegate,S6(this._delegate,e,za))}async signInWithRedirect(e){return od(S0(),this._delegate,"operation-not-supported-in-this-environment"),await CE(this._delegate),x6(this._delegate,e,za)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Rz(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};OE.Persistence=Ir;function L1(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);const i=r;return{next:u=>i(u&&Ns.getOrCreate(u)),error:e,complete:t}}function nq(n,e){const t=Y9(n,e);if(typeof self<"u"&&!t.includes(ff)&&t.push(ff),typeof window<"u")for(const r of[Nb,Il])t.includes(r)||t.push(r);return t.includes(wc)||t.push(wc),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{static credential(e,t){return Rl.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Rl(Dk(gi.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}zb.PHONE_SIGN_IN_METHOD=Rl.PHONE_SIGN_IN_METHOD;zb.PROVIDER_ID=Rl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rq=me;class iq{constructor(e,t,r=gi.app()){var i;rq((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new p6(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq="auth-compat";function aq(n){n.INTERNAL.registerComponent(new rr(sq,e=>{const t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new OE(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ku.EMAIL_SIGNIN,PASSWORD_RESET:ku.PASSWORD_RESET,RECOVER_EMAIL:ku.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:ku.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:ku.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:ku.VERIFY_EMAIL}},EmailAuthProvider:_o,FacebookAuthProvider:ji,GithubAuthProvider:qi,GoogleAuthProvider:zi,OAuthProvider:Yu,SAMLAuthProvider:kg,PhoneAuthProvider:zb,PhoneMultiFactorGenerator:Ik,RecaptchaVerifier:iq,TwitterAuthProvider:Hi,Auth:OE,AuthCredential:Uc,Error:Nn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(F9,B9)}aq(gi);const Nk="@firebase/installations",qb="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk=1e4,Vk=`w:${qb}`,Lk="FIS_v2",oq="https://firebaseinstallations.googleapis.com/v1",lq=60*60*1e3,uq="installations",cq="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pl=new $s(uq,cq,hq);function Uk(n){return n instanceof Nn&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk({projectId:n}){return`${oq}/projects/${n}/installations`}function Bk(n){return{token:n.token,requestStatus:2,expiresIn:fq(n.expiresIn),creationTime:Date.now()}}async function jk(n,e){const r=(await e.json()).error;return Pl.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function zk({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function dq(n,{refreshToken:e}){const t=zk(n);return t.append("Authorization",pq(e)),t}async function qk(n){const e=await n();return e.status>=500&&e.status<600?n():e}function fq(n){return Number(n.replace("s","000"))}function pq(n){return`${Lk} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mq({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Fk(n),i=zk(n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const u={fid:t,authVersion:Lk,appId:n.appId,sdkVersion:Vk},h={method:"POST",headers:i,body:JSON.stringify(u)},d=await qk(()=>fetch(r,h));if(d.ok){const f=await d.json();return{fid:f.fid||t,registrationStatus:2,refreshToken:f.refreshToken,authToken:Bk(f.authToken)}}else throw await jk("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq=/^[cdef][\w-]{21}$/,xE="";function _q(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=vq(n);return yq.test(t)?t:xE}catch{return xE}}function vq(n){return gq(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Map;function Gk(n,e){const t=ky(n);Kk(t,e),Eq(t,e)}function Kk(n,e){const t=$k.get(n);if(t)for(const r of t)r(e)}function Eq(n,e){const t=wq();t&&t.postMessage({key:n,fid:e}),bq()}let cl=null;function wq(){return!cl&&"BroadcastChannel"in self&&(cl=new BroadcastChannel("[Firebase] FID Change"),cl.onmessage=n=>{Kk(n.data.key,n.data.fid)}),cl}function bq(){$k.size===0&&cl&&(cl.close(),cl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq="firebase-installations-database",Sq=1,Ol="firebase-installations-store";let A0=null;function Hb(){return A0||(A0=LP(Tq,Sq,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ol)}}})),A0}async function Lg(n,e){const t=ky(n),i=(await Hb()).transaction(Ol,"readwrite"),o=i.objectStore(Ol),u=await o.get(t);return await o.put(e,t),await i.done,(!u||u.fid!==e.fid)&&Gk(n,e.fid),e}async function Wk(n){const e=ky(n),r=(await Hb()).transaction(Ol,"readwrite");await r.objectStore(Ol).delete(e),await r.done}async function Ny(n,e){const t=ky(n),i=(await Hb()).transaction(Ol,"readwrite"),o=i.objectStore(Ol),u=await o.get(t),h=e(u);return h===void 0?await o.delete(t):await o.put(h,t),await i.done,h&&(!u||u.fid!==h.fid)&&Gk(n,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $b(n){let e;const t=await Ny(n.appConfig,r=>{const i=Aq(r),o=Iq(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===xE?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function Aq(n){const e=n||{fid:_q(),registrationStatus:0};return Qk(e)}function Iq(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Pl.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Rq(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Cq(n)}:{installationEntry:e}}async function Rq(n,e){try{const t=await mq(n,e);return Lg(n.appConfig,t)}catch(t){throw Uk(t)&&t.customData.serverCode===409?await Wk(n.appConfig):await Lg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Cq(n){let e=await U1(n.appConfig);for(;e.registrationStatus===1;)await Hk(100),e=await U1(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await $b(n);return r||t}return e}function U1(n){return Ny(n,e=>{if(!e)throw Pl.create("installation-not-found");return Qk(e)})}function Qk(n){return Pq(n)?{fid:n.fid,registrationStatus:0}:n}function Pq(n){return n.registrationStatus===1&&n.registrationTime+Mk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq({appConfig:n,heartbeatServiceProvider:e},t){const r=xq(n,t),i=dq(n,t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const u={installation:{sdkVersion:Vk,appId:n.appId}},h={method:"POST",headers:i,body:JSON.stringify(u)},d=await qk(()=>fetch(r,h));if(d.ok){const f=await d.json();return Bk(f)}else throw await jk("Generate Auth Token",d)}function xq(n,{fid:e}){return`${Fk(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gb(n,e=!1){let t;const r=await Ny(n.appConfig,o=>{if(!Yk(o))throw Pl.create("not-registered");const u=o.authToken;if(!e&&Nq(u))return o;if(u.requestStatus===1)return t=Dq(n,e),o;{if(!navigator.onLine)throw Pl.create("app-offline");const h=Vq(o);return t=kq(n,h),h}});return t?await t:r.authToken}async function Dq(n,e){let t=await F1(n.appConfig);for(;t.authToken.requestStatus===1;)await Hk(100),t=await F1(n.appConfig);const r=t.authToken;return r.requestStatus===0?Gb(n,e):r}function F1(n){return Ny(n,e=>{if(!Yk(e))throw Pl.create("not-registered");const t=e.authToken;return Lq(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function kq(n,e){try{const t=await Oq(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Lg(n.appConfig,r),t}catch(t){if(Uk(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Wk(n.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Lg(n.appConfig,r)}throw t}}function Yk(n){return n!==void 0&&n.registrationStatus===2}function Nq(n){return n.requestStatus===2&&!Mq(n)}function Mq(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+lq}function Vq(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Lq(n){return n.requestStatus===1&&n.requestTime+Mk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uq(n){const e=n,{installationEntry:t,registrationPromise:r}=await $b(e);return r?r.catch(console.error):Gb(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fq(n,e=!1){const t=n;return await Bq(t),(await Gb(t,e)).token}async function Bq(n){const{registrationPromise:e}=await $b(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(n){if(!n||!n.options)throw I0("App Configuration");if(!n.name)throw I0("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw I0(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function I0(n){return Pl.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk="installations",zq="installations-internal",qq=n=>{const e=n.getProvider("app").getImmediate(),t=jq(e),r=Qg(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Hq=n=>{const e=n.getProvider("app").getImmediate(),t=Qg(e,Xk).getImmediate();return{getId:()=>Uq(t),getToken:i=>Fq(t,i)}};function $q(){ti(new rr(Xk,qq,"PUBLIC")),ti(new rr(zq,Hq,"PRIVATE"))}$q();tr(Nk,qb);tr(Nk,qb,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="analytics",Gq="firebase_id",Kq="origin",Wq=60*1e3,Qq="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kb="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In=new bf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pr=new $s("analytics","Analytics",Yq);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xq(n){if(!n.startsWith(Kb)){const e=Pr.create("invalid-gtag-resource",{gtagURL:n});return In.warn(e.message),""}return n}function Jk(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Jq(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Zq(n,e){const t=Jq("firebase-js-sdk-policy",{createScriptURL:Xq}),r=document.createElement("script"),i=`${Kb}?l=${n}&id=${e}`;r.src=t?t==null?void 0:t.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function eH(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function tH(n,e,t,r,i,o){const u=r[i];try{if(u)await e[u];else{const d=(await Jk(t)).find(f=>f.measurementId===i);d&&await e[d.appId]}}catch(h){In.error(h)}n("config",i,o)}async function nH(n,e,t,r,i){try{let o=[];if(i&&i.send_to){let u=i.send_to;Array.isArray(u)||(u=[u]);const h=await Jk(t);for(const d of u){const f=h.find(_=>_.measurementId===d),g=f&&e[f.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),n("event",r,i||{})}catch(o){In.error(o)}}function rH(n,e,t,r){async function i(o,...u){try{if(o==="event"){const[h,d]=u;await nH(n,e,t,h,d)}else if(o==="config"){const[h,d]=u;await tH(n,e,t,r,h,d)}else if(o==="consent"){const[h,d]=u;n("consent",h,d)}else if(o==="get"){const[h,d,f]=u;n("get",h,d,f)}else if(o==="set"){const[h]=u;n("set",h)}else n(o,...u)}catch(h){In.error(h)}}return i}function iH(n,e,t,r,i){let o=function(...u){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=rH(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function sH(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Kb)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=30,oH=1e3;class lH{constructor(e={},t=oH){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Zk=new lH;function uH(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function cH(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:uH(r)},o=Qq.replace("{app-id}",t),u=await fetch(o,i);if(u.status!==200&&u.status!==304){let h="";try{const d=await u.json();!((e=d.error)===null||e===void 0)&&e.message&&(h=d.error.message)}catch{}throw Pr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:h})}return u.json()}async function hH(n,e=Zk,t){const{appId:r,apiKey:i,measurementId:o}=n.options;if(!r)throw Pr.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Pr.create("no-api-key")}const u=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new pH;return setTimeout(async()=>{h.abort()},Wq),eN({appId:r,apiKey:i,measurementId:o},u,h,e)}async function eN(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Zk){var o;const{appId:u,measurementId:h}=n;try{await dH(r,e)}catch(d){if(h)return In.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:u,measurementId:h};throw d}try{const d=await cH(n);return i.deleteThrottleMetadata(u),d}catch(d){const f=d;if(!fH(f)){if(i.deleteThrottleMetadata(u),h)return In.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:u,measurementId:h};throw d}const g=Number((o=f==null?void 0:f.customData)===null||o===void 0?void 0:o.httpStatus)===503?NI(t,i.intervalMillis,aH):NI(t,i.intervalMillis),_={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return i.setThrottleMetadata(u,_),In.debug(`Calling attemptFetch again in ${g} millis`),eN(n,_,r,i)}}function dH(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(Pr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fH(n){if(!(n instanceof Nn)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class pH{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mH(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{const o=await e,u=Object.assign(Object.assign({},r),{send_to:o});n("event",t,u)}}async function gH(n,e,t,r){if(r&&r.global)return n("set",{screen_name:t}),Promise.resolve();{const i=await e;n("config",i,{update:!0,screen_name:t})}}async function yH(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();{const i=await e;n("config",i,{update:!0,user_id:t})}}async function _H(n,e,t,r){if(r&&r.global){const i={};for(const o of Object.keys(t))i[`user_properties.${o}`]=t[o];return n("set",i),Promise.resolve()}else{const i=await e;n("config",i,{update:!0,user_properties:t})}}async function vH(n,e){const t=await n;window[`ga-disable-${t}`]=!e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EH(){if(gl())try{await lw()}catch(n){return In.warn(Pr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return In.warn(Pr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wH(n,e,t,r,i,o,u){var h;const d=hH(n);d.then(b=>{t[b.measurementId]=b.appId,n.options.measurementId&&b.measurementId!==n.options.measurementId&&In.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${b.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(b=>In.error(b)),e.push(d);const f=EH().then(b=>{if(b)return r.getId()}),[g,_]=await Promise.all([d,f]);sH(o)||Zq(o,g.measurementId),i("js",new Date);const v=(h=u==null?void 0:u.config)!==null&&h!==void 0?h:{};return v[Kq]="firebase",v.update=!0,_!=null&&(v[Gq]=_),i("config",g.measurementId,v),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bH=class{constructor(e){this.app=e}_delete(){return delete Ls[this.app.options.appId],Promise.resolve()}},Ls={},j1=[];const z1={};let Xm="dataLayer",tN="gtag",q1,Hf,DE=!1;function TH(n){if(DE)throw Pr.create("already-initialized");n.dataLayerName&&(Xm=n.dataLayerName),n.gtagName&&(tN=n.gtagName)}function SH(){const n=[];if(Wg()&&n.push("This is a browser extension environment."),xP()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Pr.create("invalid-analytics-context",{errorInfo:e});In.warn(t.message)}}function AH(n,e,t){SH();const r=n.options.appId;if(!r)throw Pr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)In.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pr.create("no-api-key");if(Ls[r]!=null)throw Pr.create("already-exists",{id:r});if(!DE){eH(Xm);const{wrappedGtag:o,gtagCore:u}=iH(Ls,j1,z1,Xm,tN);Hf=o,q1=u,DE=!0}return Ls[r]=wH(n,j1,z1,e,q1,Xm,t),new bH(n)}async function IH(){if(Wg()||!xP()||!gl())return!1;try{return await lw()}catch{return!1}}function RH(n,e,t){n=Ce(n),gH(Hf,Ls[n.app.options.appId],e,t).catch(r=>In.error(r))}function CH(n,e,t){n=Ce(n),yH(Hf,Ls[n.app.options.appId],e,t).catch(r=>In.error(r))}function PH(n,e,t){n=Ce(n),_H(Hf,Ls[n.app.options.appId],e,t).catch(r=>In.error(r))}function OH(n,e){n=Ce(n),vH(Ls[n.app.options.appId],e).catch(t=>In.error(t))}function nN(n,e,t,r){n=Ce(n),mH(Hf,Ls[n.app.options.appId],e,t,r).catch(i=>In.error(i))}const H1="@firebase/analytics",$1="0.10.12";function xH(){ti(new rr(B1,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return AH(r,i,t)},"PUBLIC")),ti(new rr("analytics-internal",n,"PRIVATE")),tr(H1,$1),tr(H1,$1,"esm2017");function n(e){try{const t=e.getProvider(B1).getImmediate();return{logEvent:(r,i,o)=>nN(t,r,i,o)}}catch(t){throw Pr.create("interop-component-reg-failed",{reason:t})}}}xH();const DH="@firebase/analytics-compat",kH="0.2.18";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,r){nN(this._delegate,e,t,r)}setCurrentScreen(e,t){RH(this._delegate,e,t)}setUserId(e,t){CH(this._delegate,e,t)}setUserProperties(e,t){PH(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){OH(this._delegate,e)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kE;(function(n){n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results"})(kE||(kE={}));/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=n=>{const e=n.getProvider("app-compat").getImmediate(),t=n.getProvider("analytics").getImmediate();return new rN(e,t)};function MH(){const n={Analytics:rN,settings:TH,isSupported:IH,EventName:kE};gi.INTERNAL.registerComponent(new rr("analytics-compat",NH,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}MH();gi.registerVersion(DH,kH);const VH={apiKey:"AIzaSyD4cpoW6MMRgJ7t3xQ_AVrIGqBHfAertP4",authDomain:"clone-9fe1f.firebaseapp.com",projectId:"clone-9fe1f",storageBucket:"clone-9fe1f.firebaseapp.com",messagingSenderId:"880700408898",appId:"1:880700408898:web:4ff49bdc6825782d6e19db",measurementId:"G-WVZHPBP6HM"};gi.initializeApp(VH);const Ug=gi.auth(),iN=gi.firestore();gi.analytics();const LH="https://flagcdn.com/w20/us.png",UH=()=>{var r;const[{user:n,basket:e}]=W.useContext(Hs),t=e==null?void 0:e.reduce((i,o)=>o.amount+i,0);return q.jsxs("section",{className:Ps.fixed,children:[q.jsx("section",{children:q.jsxs("div",{className:Ps.header__container,children:[q.jsxs("div",{className:Ps.logo__container,children:[q.jsx(fi,{to:"/",children:q.jsx("img",{src:"https://pngimg.com/uploads/amazon/amazon_PNG11.png",alt:"amazon logo"})}),q.jsxs("div",{className:Ps.delivery,children:[q.jsx("span",{children:q.jsx(FL,{})}),q.jsxs("div",{children:[q.jsx("p",{children:"Deliver to"}),q.jsx("span",{children:"Ethiopia"})]})]})]}),q.jsxs("div",{className:Ps.search,children:[q.jsx("select",{name:"",id:"",children:q.jsx("option",{value:"",children:"All"})}),q.jsx("input",{type:"text"}),q.jsx(BL,{size:38})]}),q.jsxs("div",{className:Ps.order__container,children:[q.jsxs(fi,{to:"/language",className:Ps.language,children:[q.jsx("img",{src:LH,alt:"US Flag"}),q.jsx("select",{name:"",id:"",children:q.jsx("option",{value:"",children:"EN"})})]}),q.jsx(fi,{to:!n&&"/auth",children:q.jsx("div",{children:n?q.jsxs(q.Fragment,{children:[q.jsxs("p",{children:["Hello ",(r=n.email)==null?void 0:r.split("@")[0]]}),q.jsx("span",{onClick:()=>Ug.signOut(),children:"Sign Out"})]}):q.jsxs(q.Fragment,{children:[q.jsx("p",{children:"Hello, Sign In"}),q.jsx("span",{children:"Account & Lists"})]})})}),q.jsxs(fi,{to:"/orders",children:[q.jsx("p",{children:"Returns"}),q.jsx("span",{children:"& Orders"})]}),q.jsxs(fi,{to:"/cart",className:Ps.cart,children:[q.jsx(jL,{size:35}),q.jsx("span",{children:t})]})]})]})}),q.jsx(JL,{})]})};function Bc({children:n}){return q.jsxs("div",{children:[q.jsx(UH,{}),n]})}var R0={},ld={},Rm={},Cm={},C0={exports:{}},P0,G1;function FH(){if(G1)return P0;G1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return P0=n,P0}var O0,K1;function BH(){if(K1)return O0;K1=1;var n=FH();function e(){}function t(){}return t.resetWarningCache=e,O0=function(){function r(u,h,d,f,g,_){if(_!==n){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return o.PropTypes=o,o},O0}var W1;function sN(){return W1||(W1=1,C0.exports=BH()()),C0.exports}var Q1;function jH(){return Q1||(Q1=1,function(n){(function(e,t){t(n,uo(),sN())})(Cm,function(e,t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setHasSupportToCaptureOption=T;var i=u(t),o=u(r);function u(V){return V&&V.__esModule?V:{default:V}}var h=Object.assign||function(V){for(var U=1;U<arguments.length;U++){var $=arguments[U];for(var j in $)Object.prototype.hasOwnProperty.call($,j)&&(V[j]=$[j])}return V};function d(V,U){var $={};for(var j in V)U.indexOf(j)>=0||Object.prototype.hasOwnProperty.call(V,j)&&($[j]=V[j]);return $}function f(V,U){if(!(V instanceof U))throw new TypeError("Cannot call a class as a function")}var g=function(){function V(U,$){for(var j=0;j<$.length;j++){var H=$[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(U,H.key,H)}}return function(U,$,j){return $&&V(U.prototype,$),j&&V(U,j),U}}();function _(V,U){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U&&(typeof U=="object"||typeof U=="function")?U:V}function v(V,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof U);V.prototype=Object.create(U&&U.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(V,U):V.__proto__=U)}var b=!1;function T(V){b=V}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){T(!0)}}))}catch{}function I(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return b?V:V.capture}function O(V){if("touches"in V){var U=V.touches[0],$=U.pageX,j=U.pageY;return{x:$,y:j}}var H=V.screenX,M=V.screenY;return{x:H,y:M}}var L=function(V){v(U,V);function U(){var $;f(this,U);for(var j=arguments.length,H=Array(j),M=0;M<j;M++)H[M]=arguments[M];var C=_(this,($=U.__proto__||Object.getPrototypeOf(U)).call.apply($,[this].concat(H)));return C._handleSwipeStart=C._handleSwipeStart.bind(C),C._handleSwipeMove=C._handleSwipeMove.bind(C),C._handleSwipeEnd=C._handleSwipeEnd.bind(C),C._onMouseDown=C._onMouseDown.bind(C),C._onMouseMove=C._onMouseMove.bind(C),C._onMouseUp=C._onMouseUp.bind(C),C._setSwiperRef=C._setSwiperRef.bind(C),C}return g(U,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,I({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(j){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(j))}},{key:"_onMouseMove",value:function(j){this.mouseDown&&this._handleSwipeMove(j)}},{key:"_onMouseUp",value:function(j){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(j)}},{key:"_handleSwipeStart",value:function(j){var H=O(j),M=H.x,C=H.y;this.moveStart={x:M,y:C},this.props.onSwipeStart(j)}},{key:"_handleSwipeMove",value:function(j){if(this.moveStart){var H=O(j),M=H.x,C=H.y,R=M-this.moveStart.x,w=C-this.moveStart.y;this.moving=!0;var P=this.props.onSwipeMove({x:R,y:w},j);P&&j.cancelable&&j.preventDefault(),this.movePosition={deltaX:R,deltaY:w}}}},{key:"_handleSwipeEnd",value:function(j){this.props.onSwipeEnd(j);var H=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-H?this.props.onSwipeLeft(1,j):this.movePosition.deltaX>H&&this.props.onSwipeRight(1,j),this.movePosition.deltaY<-H?this.props.onSwipeUp(1,j):this.movePosition.deltaY>H&&this.props.onSwipeDown(1,j)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(j){this.swiper=j,this.props.innerRef(j)}},{key:"render",value:function(){var j=this.props;j.tagName;var H=j.className,M=j.style,C=j.children;j.allowMouseEvents,j.onSwipeUp,j.onSwipeDown,j.onSwipeLeft,j.onSwipeRight,j.onSwipeStart,j.onSwipeMove,j.onSwipeEnd,j.innerRef,j.tolerance;var R=d(j,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return i.default.createElement(this.props.tagName,h({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:H,style:M},R),C)}}]),U}(t.Component);L.displayName="ReactSwipe",L.propTypes={tagName:o.default.string,className:o.default.string,style:o.default.object,children:o.default.node,allowMouseEvents:o.default.bool,onSwipeUp:o.default.func,onSwipeDown:o.default.func,onSwipeLeft:o.default.func,onSwipeRight:o.default.func,onSwipeStart:o.default.func,onSwipeMove:o.default.func,onSwipeEnd:o.default.func,innerRef:o.default.func,tolerance:o.default.number.isRequired},L.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},e.default=L})}(Cm)),Cm}var Y1;function aN(){return Y1||(Y1=1,function(n){(function(e,t){t(n,jH())})(Rm,function(e,t){Object.defineProperty(e,"__esModule",{value:!0});var r=i(t);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default})}(Rm)),Rm}var ud={},x0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var X1;function zH(){return X1||(X1=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var o="",u=0;u<arguments.length;u++){var h=arguments[u];h&&(o=i(o,r(h)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return t.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var u="";for(var h in o)e.call(o,h)&&o[h]&&(u=i(u,h));return u}function i(o,u){return u?o?o+" "+u:o+u:o}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(x0)),x0.exports}var J1;function oN(){if(J1)return ud;J1=1,Object.defineProperty(ud,"__esModule",{value:!0}),ud.default=void 0;var n=e(zH());function e(i){return i&&i.__esModule?i:{default:i}}function t(i,o,u){return o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i}var r={ROOT:function(o){return(0,n.default)(t({"carousel-root":!0},o||"",!!o))},CAROUSEL:function(o){return(0,n.default)({carousel:!0,"carousel-slider":o})},WRAPPER:function(o,u){return(0,n.default)({"thumbs-wrapper":!o,"slider-wrapper":o,"axis-horizontal":u==="horizontal","axis-vertical":u!=="horizontal"})},SLIDER:function(o,u){return(0,n.default)({thumbs:!o,slider:o,animated:!u})},ITEM:function(o,u,h){return(0,n.default)({thumb:!o,slide:o,selected:u,previous:h})},ARROW_PREV:function(o){return(0,n.default)({"control-arrow control-prev":!0,"control-disabled":o})},ARROW_NEXT:function(o){return(0,n.default)({"control-arrow control-next":!0,"control-disabled":o})},DOT:function(o){return(0,n.default)({dot:!0,selected:o})}};return ud.default=r,ud}var cd={},hd={},Z1;function qH(){if(Z1)return hd;Z1=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.outerWidth=void 0;var n=function(t){var r=t.offsetWidth,i=getComputedStyle(t);return r+=parseInt(i.marginLeft)+parseInt(i.marginRight),r};return hd.outerWidth=n,hd}var dd={},eC;function Wb(){if(eC)return dd;eC=1,Object.defineProperty(dd,"__esModule",{value:!0}),dd.default=void 0;var n=function(t,r,i){var o=t===0?t:t+r,u=i==="horizontal"?[o,0,0]:[0,o,0],h="translate3d",d="("+u.join(",")+")";return h+d};return dd.default=n,dd}var fd={},tC;function lN(){if(tC)return fd;tC=1,Object.defineProperty(fd,"__esModule",{value:!0}),fd.default=void 0;var n=function(){return window};return fd.default=n,fd}var nC;function uN(){if(nC)return cd;nC=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.default=void 0;var n=d(uo()),e=u(oN()),t=qH(),r=u(Wb()),i=u(aN()),o=u(lN());function u(C){return C&&C.__esModule?C:{default:C}}function h(){if(typeof WeakMap!="function")return null;var C=new WeakMap;return h=function(){return C},C}function d(C){if(C&&C.__esModule)return C;if(C===null||f(C)!=="object"&&typeof C!="function")return{default:C};var R=h();if(R&&R.has(C))return R.get(C);var w={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var x in C)if(Object.prototype.hasOwnProperty.call(C,x)){var D=P?Object.getOwnPropertyDescriptor(C,x):null;D&&(D.get||D.set)?Object.defineProperty(w,x,D):w[x]=C[x]}return w.default=C,R&&R.set(C,w),w}function f(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(w){return typeof w}:f=function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},f(C)}function g(){return g=Object.assign||function(C){for(var R=1;R<arguments.length;R++){var w=arguments[R];for(var P in w)Object.prototype.hasOwnProperty.call(w,P)&&(C[P]=w[P])}return C},g.apply(this,arguments)}function _(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function v(C,R){for(var w=0;w<R.length;w++){var P=R[w];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}function b(C,R,w){return R&&v(C.prototype,R),C}function T(C,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),R&&I(C,R)}function I(C,R){return I=Object.setPrototypeOf||function(P,x){return P.__proto__=x,P},I(C,R)}function O(C){var R=U();return function(){var P=$(C),x;if(R){var D=$(this).constructor;x=Reflect.construct(P,arguments,D)}else x=P.apply(this,arguments);return L(this,x)}}function L(C,R){return R&&(f(R)==="object"||typeof R=="function")?R:V(C)}function V(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function $(C){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},$(C)}function j(C,R,w){return R in C?Object.defineProperty(C,R,{value:w,enumerable:!0,configurable:!0,writable:!0}):C[R]=w,C}var H=function(R){return R.hasOwnProperty("key")},M=function(C){T(w,C);var R=O(w);function w(P){var x;return _(this,w),x=R.call(this,P),j(V(x),"itemsWrapperRef",void 0),j(V(x),"itemsListRef",void 0),j(V(x),"thumbsRef",void 0),j(V(x),"setItemsWrapperRef",function(D){x.itemsWrapperRef=D}),j(V(x),"setItemsListRef",function(D){x.itemsListRef=D}),j(V(x),"setThumbsRef",function(D,te){x.thumbsRef||(x.thumbsRef=[]),x.thumbsRef[te]=D}),j(V(x),"updateSizes",function(){if(!(!x.props.children||!x.itemsWrapperRef||!x.thumbsRef)){var D=n.Children.count(x.props.children),te=x.itemsWrapperRef.clientWidth,F=x.props.thumbWidth?x.props.thumbWidth:(0,t.outerWidth)(x.thumbsRef[0]),ee=Math.floor(te/F),ie=ee<D,ue=ie?D-ee:0;x.setState(function(Te,z){return{itemSize:F,visibleItems:ee,firstItem:ie?x.getFirstItem(z.selectedItem):0,lastPosition:ue,showArrows:ie}})}}),j(V(x),"handleClickItem",function(D,te,F){if(!H(F)||F.key==="Enter"){var ee=x.props.onSelectItem;typeof ee=="function"&&ee(D,te)}}),j(V(x),"onSwipeStart",function(){x.setState({swiping:!0})}),j(V(x),"onSwipeEnd",function(){x.setState({swiping:!1})}),j(V(x),"onSwipeMove",function(D){var te=D.x;if(!x.state.itemSize||!x.itemsWrapperRef||!x.state.visibleItems)return!1;var F=0,ee=n.Children.count(x.props.children),ie=-(x.state.firstItem*100)/x.state.visibleItems,ue=Math.max(ee-x.state.visibleItems,0),Te=-ue*100/x.state.visibleItems;ie===F&&te>0&&(te=0),ie===Te&&te<0&&(te=0);var z=x.itemsWrapperRef.clientWidth,ae=ie+100/(z/te);return x.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(we){x.itemsListRef.style[we]=(0,r.default)(ae,"%",x.props.axis)}),!0}),j(V(x),"slideRight",function(D){x.moveTo(x.state.firstItem-(typeof D=="number"?D:1))}),j(V(x),"slideLeft",function(D){x.moveTo(x.state.firstItem+(typeof D=="number"?D:1))}),j(V(x),"moveTo",function(D){D=D<0?0:D,D=D>=x.state.lastPosition?x.state.lastPosition:D,x.setState({firstItem:D})}),x.state={selectedItem:P.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},x}return b(w,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(x){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==x.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(x){var D=x;return x>=this.state.lastPosition&&(D=this.state.lastPosition),x<this.state.firstItem+this.state.visibleItems&&(D=this.state.firstItem),x<this.state.firstItem&&(D=x),D}},{key:"renderItems",value:function(){var x=this;return this.props.children.map(function(D,te){var F=e.default.ITEM(!1,te===x.state.selectedItem),ee={key:te,ref:function(ue){return x.setThumbsRef(ue,te)},className:F,onClick:x.handleClickItem.bind(x,te,x.props.children[te]),onKeyDown:x.handleClickItem.bind(x,te,x.props.children[te]),"aria-label":"".concat(x.props.labels.item," ").concat(te+1),style:{width:x.props.thumbWidth}};return n.default.createElement("li",g({},ee,{role:"button",tabIndex:0}),D)})}},{key:"render",value:function(){var x=this;if(!this.props.children)return null;var D=n.Children.count(this.props.children)>1,te=this.state.showArrows&&this.state.firstItem>0,F=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,ee={},ie=-this.state.firstItem*(this.state.itemSize||0),ue=(0,r.default)(ie,"px",this.props.axis),Te=this.props.transitionTime+"ms";return ee={WebkitTransform:ue,MozTransform:ue,MsTransform:ue,OTransform:ue,transform:ue,msTransform:ue,WebkitTransitionDuration:Te,MozTransitionDuration:Te,MsTransitionDuration:Te,OTransitionDuration:Te,transitionDuration:Te,msTransitionDuration:Te},n.default.createElement("div",{className:e.default.CAROUSEL(!1)},n.default.createElement("div",{className:e.default.WRAPPER(!1),ref:this.setItemsWrapperRef},n.default.createElement("button",{type:"button",className:e.default.ARROW_PREV(!te),onClick:function(){return x.slideRight()},"aria-label":this.props.labels.leftArrow}),D?n.default.createElement(i.default,{tagName:"ul",className:e.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:ee,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):n.default.createElement("ul",{className:e.default.SLIDER(!1,this.state.swiping),ref:function(ae){return x.setItemsListRef(ae)},style:ee},this.renderItems()),n.default.createElement("button",{type:"button",className:e.default.ARROW_NEXT(!F),onClick:function(){return x.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),w}(n.Component);return cd.default=M,j(M,"displayName","Thumbs"),j(M,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350}),cd}var pd={},rC;function HH(){if(rC)return pd;rC=1,Object.defineProperty(pd,"__esModule",{value:!0}),pd.default=void 0;var n=function(){return document};return pd.default=n,pd}var Tr={},iC;function cN(){if(iC)return Tr;iC=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.setPosition=Tr.getPosition=Tr.isKeyboardEvent=Tr.defaultStatusFormatter=Tr.noop=void 0;var n=uo(),e=t(Wb());function t(d){return d&&d.__esModule?d:{default:d}}var r=function(){};Tr.noop=r;var i=function(f,g){return"".concat(f," of ").concat(g)};Tr.defaultStatusFormatter=i;var o=function(f){return f?f.hasOwnProperty("key"):!1};Tr.isKeyboardEvent=o;var u=function(f,g){if(g.infiniteLoop&&++f,f===0)return 0;var _=n.Children.count(g.children);if(g.centerMode&&g.axis==="horizontal"){var v=-f*g.centerSlidePercentage,b=_-1;return f&&(f!==b||g.infiniteLoop)?v+=(100-g.centerSlidePercentage)/2:f===b&&(v+=100-g.centerSlidePercentage),v}return-f*100};Tr.getPosition=u;var h=function(f,g){var _={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(v){_[v]=(0,e.default)(f,"%",g)}),_};return Tr.setPosition=h,Tr}var hi={},sC;function $H(){if(sC)return hi;sC=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.fadeAnimationHandler=hi.slideStopSwipingHandler=hi.slideSwipeAnimationHandler=hi.slideAnimationHandler=void 0;var n=uo(),e=r(Wb()),t=cN();function r(_){return _&&_.__esModule?_:{default:_}}function i(_,v){var b=Object.keys(_);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(_);v&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(_,I).enumerable})),b.push.apply(b,T)}return b}function o(_){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?i(Object(b),!0).forEach(function(T){u(_,T,b[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(b)):i(Object(b)).forEach(function(T){Object.defineProperty(_,T,Object.getOwnPropertyDescriptor(b,T))})}return _}function u(_,v,b){return v in _?Object.defineProperty(_,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):_[v]=b,_}var h=function(v,b){var T={},I=b.selectedItem,O=I,L=n.Children.count(v.children)-1,V=v.infiniteLoop&&(I<0||I>L);if(V)return O<0?v.centerMode&&v.centerSlidePercentage&&v.axis==="horizontal"?T.itemListStyle=(0,t.setPosition)(-(L+2)*v.centerSlidePercentage-(100-v.centerSlidePercentage)/2,v.axis):T.itemListStyle=(0,t.setPosition)(-(L+2)*100,v.axis):O>L&&(T.itemListStyle=(0,t.setPosition)(0,v.axis)),T;var U=(0,t.getPosition)(I,v),$=(0,e.default)(U,"%",v.axis),j=v.transitionTime+"ms";return T.itemListStyle={WebkitTransform:$,msTransform:$,OTransform:$,transform:$},b.swiping||(T.itemListStyle=o(o({},T.itemListStyle),{},{WebkitTransitionDuration:j,MozTransitionDuration:j,OTransitionDuration:j,transitionDuration:j,msTransitionDuration:j})),T};hi.slideAnimationHandler=h;var d=function(v,b,T,I){var O={},L=b.axis==="horizontal",V=n.Children.count(b.children),U=0,$=(0,t.getPosition)(T.selectedItem,b),j=b.infiniteLoop?(0,t.getPosition)(V-1,b)-100:(0,t.getPosition)(V-1,b),H=L?v.x:v.y,M=H;$===U&&H>0&&(M=0),$===j&&H<0&&(M=0);var C=$+100/(T.itemSize/M),R=Math.abs(H)>b.swipeScrollTolerance;return b.infiniteLoop&&R&&(T.selectedItem===0&&C>-100?C-=V*100:T.selectedItem===V-1&&C<-V*100&&(C+=V*100)),(!b.preventMovementUntilSwipeScrollTolerance||R||T.swipeMovementStarted)&&(T.swipeMovementStarted||I({swipeMovementStarted:!0}),O.itemListStyle=(0,t.setPosition)(C,b.axis)),R&&!T.cancelClick&&I({cancelClick:!0}),O};hi.slideSwipeAnimationHandler=d;var f=function(v,b){var T=(0,t.getPosition)(b.selectedItem,v),I=(0,t.setPosition)(T,v.axis);return{itemListStyle:I}};hi.slideStopSwipingHandler=f;var g=function(v,b){var T=v.transitionTime+"ms",I="ease-in-out",O={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:I,msTransitionTimingFunction:I,MozTransitionTimingFunction:I,WebkitTransitionTimingFunction:I,OTransitionTimingFunction:I};return b.swiping||(O=o(o({},O),{},{WebkitTransitionDuration:T,MozTransitionDuration:T,OTransitionDuration:T,transitionDuration:T,msTransitionDuration:T})),{slideStyle:O,selectedStyle:o(o({},O),{},{opacity:1,position:"relative"}),prevStyle:o({},O)}};return hi.fadeAnimationHandler=g,hi}var aC;function GH(){if(aC)return ld;aC=1,Object.defineProperty(ld,"__esModule",{value:!0}),ld.default=void 0;var n=g(uo()),e=d(aN()),t=d(oN()),r=d(uN()),i=d(HH()),o=d(lN()),u=cN(),h=$H();function d(P){return P&&P.__esModule?P:{default:P}}function f(){if(typeof WeakMap!="function")return null;var P=new WeakMap;return f=function(){return P},P}function g(P){if(P&&P.__esModule)return P;if(P===null||_(P)!=="object"&&typeof P!="function")return{default:P};var x=f();if(x&&x.has(P))return x.get(P);var D={},te=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var F in P)if(Object.prototype.hasOwnProperty.call(P,F)){var ee=te?Object.getOwnPropertyDescriptor(P,F):null;ee&&(ee.get||ee.set)?Object.defineProperty(D,F,ee):D[F]=P[F]}return D.default=P,x&&x.set(P,D),D}function _(P){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_=function(D){return typeof D}:_=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},_(P)}function v(){return v=Object.assign||function(P){for(var x=1;x<arguments.length;x++){var D=arguments[x];for(var te in D)Object.prototype.hasOwnProperty.call(D,te)&&(P[te]=D[te])}return P},v.apply(this,arguments)}function b(P,x){var D=Object.keys(P);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(P);x&&(te=te.filter(function(F){return Object.getOwnPropertyDescriptor(P,F).enumerable})),D.push.apply(D,te)}return D}function T(P){for(var x=1;x<arguments.length;x++){var D=arguments[x]!=null?arguments[x]:{};x%2?b(Object(D),!0).forEach(function(te){R(P,te,D[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(D)):b(Object(D)).forEach(function(te){Object.defineProperty(P,te,Object.getOwnPropertyDescriptor(D,te))})}return P}function I(P,x){if(!(P instanceof x))throw new TypeError("Cannot call a class as a function")}function O(P,x){for(var D=0;D<x.length;D++){var te=x[D];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(P,te.key,te)}}function L(P,x,D){return x&&O(P.prototype,x),P}function V(P,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(x&&x.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),x&&U(P,x)}function U(P,x){return U=Object.setPrototypeOf||function(te,F){return te.__proto__=F,te},U(P,x)}function $(P){var x=M();return function(){var te=C(P),F;if(x){var ee=C(this).constructor;F=Reflect.construct(te,arguments,ee)}else F=te.apply(this,arguments);return j(this,F)}}function j(P,x){return x&&(_(x)==="object"||typeof x=="function")?x:H(P)}function H(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function C(P){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},C(P)}function R(P,x,D){return x in P?Object.defineProperty(P,x,{value:D,enumerable:!0,configurable:!0,writable:!0}):P[x]=D,P}var w=function(P){V(D,P);var x=$(D);function D(te){var F;I(this,D),F=x.call(this,te),R(H(F),"thumbsRef",void 0),R(H(F),"carouselWrapperRef",void 0),R(H(F),"listRef",void 0),R(H(F),"itemsRef",void 0),R(H(F),"timer",void 0),R(H(F),"animationHandler",void 0),R(H(F),"setThumbsRef",function(ie){F.thumbsRef=ie}),R(H(F),"setCarouselWrapperRef",function(ie){F.carouselWrapperRef=ie}),R(H(F),"setListRef",function(ie){F.listRef=ie}),R(H(F),"setItemsRef",function(ie,ue){F.itemsRef||(F.itemsRef=[]),F.itemsRef[ue]=ie}),R(H(F),"autoPlay",function(){n.Children.count(F.props.children)<=1||(F.clearAutoPlay(),F.props.autoPlay&&(F.timer=setTimeout(function(){F.increment()},F.props.interval)))}),R(H(F),"clearAutoPlay",function(){F.timer&&clearTimeout(F.timer)}),R(H(F),"resetAutoPlay",function(){F.clearAutoPlay(),F.autoPlay()}),R(H(F),"stopOnHover",function(){F.setState({isMouseEntered:!0},F.clearAutoPlay)}),R(H(F),"startOnLeave",function(){F.setState({isMouseEntered:!1},F.autoPlay)}),R(H(F),"isFocusWithinTheCarousel",function(){return F.carouselWrapperRef?!!((0,i.default)().activeElement===F.carouselWrapperRef||F.carouselWrapperRef.contains((0,i.default)().activeElement)):!1}),R(H(F),"navigateWithKeyboard",function(ie){if(F.isFocusWithinTheCarousel()){var ue=F.props.axis,Te=ue==="horizontal",z={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},ae=Te?z.ArrowRight:z.ArrowDown,we=Te?z.ArrowLeft:z.ArrowUp;ae===ie.keyCode?F.increment():we===ie.keyCode&&F.decrement()}}),R(H(F),"updateSizes",function(){if(!(!F.state.initialized||!F.itemsRef||F.itemsRef.length===0)){var ie=F.props.axis==="horizontal",ue=F.itemsRef[0];if(ue){var Te=ie?ue.clientWidth:ue.clientHeight;F.setState({itemSize:Te}),F.thumbsRef&&F.thumbsRef.updateSizes()}}}),R(H(F),"setMountState",function(){F.setState({hasMount:!0}),F.updateSizes()}),R(H(F),"handleClickItem",function(ie,ue){if(n.Children.count(F.props.children)!==0){if(F.state.cancelClick){F.setState({cancelClick:!1});return}F.props.onClickItem(ie,ue),ie!==F.state.selectedItem&&F.setState({selectedItem:ie})}}),R(H(F),"handleOnChange",function(ie,ue){n.Children.count(F.props.children)<=1||F.props.onChange(ie,ue)}),R(H(F),"handleClickThumb",function(ie,ue){F.props.onClickThumb(ie,ue),F.moveTo(ie)}),R(H(F),"onSwipeStart",function(ie){F.setState({swiping:!0}),F.props.onSwipeStart(ie)}),R(H(F),"onSwipeEnd",function(ie){F.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),F.props.onSwipeEnd(ie),F.clearAutoPlay(),F.state.autoPlay&&F.autoPlay()}),R(H(F),"onSwipeMove",function(ie,ue){F.props.onSwipeMove(ue);var Te=F.props.swipeAnimationHandler(ie,F.props,F.state,F.setState.bind(H(F)));return F.setState(T({},Te)),!!Object.keys(Te).length}),R(H(F),"decrement",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem-(typeof ie=="number"?ie:1))}),R(H(F),"increment",function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;F.moveTo(F.state.selectedItem+(typeof ie=="number"?ie:1))}),R(H(F),"moveTo",function(ie){if(typeof ie=="number"){var ue=n.Children.count(F.props.children)-1;ie<0&&(ie=F.props.infiniteLoop?ue:0),ie>ue&&(ie=F.props.infiniteLoop?0:ue),F.selectItem({selectedItem:ie}),F.state.autoPlay&&F.state.isMouseEntered===!1&&F.resetAutoPlay()}}),R(H(F),"onClickNext",function(){F.increment(1)}),R(H(F),"onClickPrev",function(){F.decrement(1)}),R(H(F),"onSwipeForward",function(){F.increment(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),R(H(F),"onSwipeBackwards",function(){F.decrement(1),F.props.emulateTouch&&F.setState({cancelClick:!0})}),R(H(F),"changeItem",function(ie){return function(ue){(!(0,u.isKeyboardEvent)(ue)||ue.key==="Enter")&&F.moveTo(ie)}}),R(H(F),"selectItem",function(ie){F.setState(T({previousItem:F.state.selectedItem},ie),function(){F.setState(F.animationHandler(F.props,F.state))}),F.handleOnChange(ie.selectedItem,n.Children.toArray(F.props.children)[ie.selectedItem])}),R(H(F),"getInitialImage",function(){var ie=F.props.selectedItem,ue=F.itemsRef&&F.itemsRef[ie],Te=ue&&ue.getElementsByTagName("img")||[];return Te[0]}),R(H(F),"getVariableItemHeight",function(ie){var ue=F.itemsRef&&F.itemsRef[ie];if(F.state.hasMount&&ue&&ue.children.length){var Te=ue.children[0].getElementsByTagName("img")||[];if(Te.length>0){var z=Te[0];if(!z.complete){var ae=function ye(){F.forceUpdate(),z.removeEventListener("load",ye)};z.addEventListener("load",ae)}}var we=Te[0]||ue.children[0],ve=we.clientHeight;return ve>0?ve:null}return null});var ee={initialized:!1,previousItem:te.selectedItem,selectedItem:te.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:te.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return F.animationHandler=typeof te.animationHandler=="function"&&te.animationHandler||te.animationHandler==="fade"&&h.fadeAnimationHandler||h.slideAnimationHandler,F.state=T(T({},ee),F.animationHandler(te,ee)),F}return L(D,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(F,ee){!F.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!F.autoFocus&&this.props.autoFocus&&this.forceFocus(),ee.swiping&&!this.state.swiping&&this.setState(T({},this.props.stopSwipingHandler(this.props,this.state))),(F.selectedItem!==this.props.selectedItem||F.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),F.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var F=this;this.bindEvents(),this.state.autoPlay&&n.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var ee=F.getInitialImage();ee&&!ee.complete?ee.addEventListener("load",F.setMountState):F.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.addEventListener("mouseenter",this.stopOnHover),F.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var F=this.carouselWrapperRef;this.props.stopOnHover&&F&&(F.removeEventListener("mouseenter",this.stopOnHover),F.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,o.default)().addEventListener("resize",this.updateSizes),(0,o.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,i.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,o.default)().removeEventListener("resize",this.updateSizes),(0,o.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var F=this.getInitialImage();F&&F.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,i.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var F;(F=this.carouselWrapperRef)===null||F===void 0||F.focus()}},{key:"renderItems",value:function(F){var ee=this;return this.props.children?n.Children.map(this.props.children,function(ie,ue){var Te=ue===ee.state.selectedItem,z=ue===ee.state.previousItem,ae=Te&&ee.state.selectedStyle||z&&ee.state.prevStyle||ee.state.slideStyle||{};ee.props.centerMode&&ee.props.axis==="horizontal"&&(ae=T(T({},ae),{},{minWidth:ee.props.centerSlidePercentage+"%"})),ee.state.swiping&&ee.state.swipeMovementStarted&&(ae=T(T({},ae),{},{pointerEvents:"none"}));var we={ref:function(ye){return ee.setItemsRef(ye,ue)},key:"itemKey"+ue+(F?"clone":""),className:t.default.ITEM(!0,ue===ee.state.selectedItem,ue===ee.state.previousItem),onClick:ee.handleClickItem.bind(ee,ue,ie),style:ae};return n.default.createElement("li",we,ee.props.renderItem(ie,{isSelected:ue===ee.state.selectedItem,isPrevious:ue===ee.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var F=this,ee=this.props,ie=ee.showIndicators,ue=ee.labels,Te=ee.renderIndicator,z=ee.children;return ie?n.default.createElement("ul",{className:"control-dots"},n.Children.map(z,function(ae,we){return Te&&Te(F.changeItem(we),we===F.state.selectedItem,we,ue.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?n.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,n.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||n.Children.count(this.props.children)===0?null:n.default.createElement(r.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var F=this;if(!this.props.children||n.Children.count(this.props.children)===0)return null;var ee=this.props.swipeable&&n.Children.count(this.props.children)>1,ie=this.props.axis==="horizontal",ue=this.props.showArrows&&n.Children.count(this.props.children)>1,Te=ue&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,z=ue&&(this.state.selectedItem<n.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,ae=this.renderItems(!0),we=ae.shift(),ve=ae.pop(),ye={className:t.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},xe={};if(ie){if(ye.onSwipeLeft=this.onSwipeForward,ye.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var De=this.getVariableItemHeight(this.state.selectedItem);xe.height=De||"auto"}}else ye.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,ye.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,ye.style=T(T({},ye.style),{},{height:this.state.itemSize}),xe.height=this.state.itemSize;return n.default.createElement("div",{"aria-label":this.props.ariaLabel,className:t.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},n.default.createElement("div",{className:t.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,Te,this.props.labels.leftArrow),n.default.createElement("div",{className:t.default.WRAPPER(!0,this.props.axis),style:xe},ee?n.default.createElement(e.default,v({tagName:"ul",innerRef:this.setListRef},ye,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&we):n.default.createElement("ul",{className:t.default.SLIDER(!0,this.state.swiping),ref:function(ze){return F.setListRef(ze)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&ve,this.renderItems(),this.props.infiniteLoop&&we)),this.props.renderArrowNext(this.onClickNext,z,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),D}(n.default.Component);return ld.default=w,R(w,"displayName","Carousel"),R(w,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:u.noop,onClickThumb:u.noop,onChange:u.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(x,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_PREV(!D),onClick:x})},renderArrowNext:function(x,D,te){return n.default.createElement("button",{type:"button","aria-label":te,className:t.default.ARROW_NEXT(!D),onClick:x})},renderIndicator:function(x,D,te,F){return n.default.createElement("li",{className:t.default.DOT(D),onClick:x,onKeyDown:x,value:te,key:te,role:"button",tabIndex:0,"aria-label":"".concat(F," ").concat(te+1)})},renderItem:function(x){return x},renderThumbs:function(x){var D=n.Children.map(x,function(te){var F=te;if(te.type!=="img"&&(F=n.Children.toArray(te.props.children).find(function(ee){return ee.type==="img"})),!!F)return F});return D.filter(function(te){return te}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):D},statusFormatter:u.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:h.slideSwipeAnimationHandler,stopSwipingHandler:h.slideStopSwipingHandler}),ld}var oC={},lC;function KH(){return lC||(lC=1),oC}var uC;function WH(){return uC||(uC=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Carousel",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(n,"CarouselProps",{enumerable:!0,get:function(){return t.CarouselProps}}),Object.defineProperty(n,"Thumbs",{enumerable:!0,get:function(){return r.default}});var e=i(GH()),t=KH(),r=i(uN());function i(o){return o&&o.__esModule?o:{default:o}}}(R0)),R0}var QH=WH();const YH="/Amazone-Clone/assets/img1-BPr44Ttk.jpg",XH="/Amazone-Clone/assets/img2-bl35EseN.jpg",JH="/Amazone-Clone/assets/img3-Fp0oaH3y.jpg",ZH="/Amazone-Clone/assets/img4-CO6XiwvK.jpg",e$=[YH,XH,JH,ZH],t$="_hero__img_1vk4q_29",n$={hero__img:t$};function r$(){return q.jsxs("div",{children:[q.jsx(QH.Carousel,{autoPlay:!0,infiniteLoop:!0,showIndicators:!1,showThumbs:!1,children:e$.map(n=>q.jsx("img",{src:n,alt:""},n))}),q.jsx("div",{className:n$.hero__img})]})}const i$=[{title:"Electronics",name:"electronics",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/AmazonExports/Fuji/2020/May/Dashboard/Fuji_Dash_TV_2X._SY304_CB432517900_.jpg"},{title:"Discover fashion trends",name:"women's clothing",imgLink:"https://images-na.ssl-images-amazon.com/images/G/01/softlines/shopbop/ingress/2023/March/mp_20230219_ff_desktopsinglecategory_desktop_379x304_1._SY304_CB612639047_.jpg"},{title:"Men's Clothing",name:"men's clothing",imgLink:"https://m.media-amazon.com/images/I/618bcm65ksL._AC_UL480_FMwebp_QL65_.jpg"},{title:"Jewelry",name:"jewelery",imgLink:"https://m.media-amazon.com/images/I/71r7eWuCsaL._AC_UL488_FMwebp_QL65_.jpg"}],s$="_category__container_1rm43_65",a$="_category_1rm43_1",o$="_shopNow_1rm43_195",NE={category__container:s$,category:a$,shopNow:o$};function l$({data:n}){return q.jsx("div",{className:NE.category,children:q.jsxs(fi,{to:`/Category/${n.name}`,children:[q.jsx("span",{children:q.jsx("h2",{children:n==null?void 0:n.title})}),q.jsx("img",{src:n==null?void 0:n.imgLink,alt:(n==null?void 0:n.title)||"category Image"}),q.jsx("p",{className:NE.shopNow,children:"Shop Now"})]})})}function u$(){return q.jsx("section",{className:NE.category__container,children:i$.map(n=>q.jsx(l$,{data:n},n.name))})}function hN(n,e){return function(){return n.apply(e,arguments)}}const{toString:c$}=Object.prototype,{getPrototypeOf:Qb}=Object,My=(n=>e=>{const t=c$.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),yi=n=>(n=n.toLowerCase(),e=>My(e)===n),Vy=n=>e=>typeof e===n,{isArray:jc}=Array,pf=Vy("undefined");function h$(n){return n!==null&&!pf(n)&&n.constructor!==null&&!pf(n.constructor)&&Or(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const dN=yi("ArrayBuffer");function d$(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&dN(n.buffer),e}const f$=Vy("string"),Or=Vy("function"),fN=Vy("number"),Ly=n=>n!==null&&typeof n=="object",p$=n=>n===!0||n===!1,Jm=n=>{if(My(n)!=="object")return!1;const e=Qb(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},m$=yi("Date"),g$=yi("File"),y$=yi("Blob"),_$=yi("FileList"),v$=n=>Ly(n)&&Or(n.pipe),E$=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Or(n.append)&&((e=My(n))==="formdata"||e==="object"&&Or(n.toString)&&n.toString()==="[object FormData]"))},w$=yi("URLSearchParams"),[b$,T$,S$,A$]=["ReadableStream","Request","Response","Headers"].map(yi),I$=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $f(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),jc(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),u=o.length;let h;for(r=0;r<u;r++)h=o[r],e.call(null,n[h],h,n)}}function pN(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const hl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mN=n=>!pf(n)&&n!==hl;function ME(){const{caseless:n}=mN(this)&&this||{},e={},t=(r,i)=>{const o=n&&pN(e,i)||i;Jm(e[o])&&Jm(r)?e[o]=ME(e[o],r):Jm(r)?e[o]=ME({},r):jc(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&$f(arguments[r],t);return e}const R$=(n,e,t,{allOwnKeys:r}={})=>($f(e,(i,o)=>{t&&Or(i)?n[o]=hN(i,t):n[o]=i},{allOwnKeys:r}),n),C$=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),P$=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},O$=(n,e,t,r)=>{let i,o,u;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)u=i[o],(!r||r(u,n,e))&&!h[u]&&(e[u]=n[u],h[u]=!0);n=t!==!1&&Qb(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},x$=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},D$=n=>{if(!n)return null;if(jc(n))return n;let e=n.length;if(!fN(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},k$=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Qb(Uint8Array)),N$=(n,e)=>{const r=(n&&n[Symbol.iterator]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},M$=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},V$=yi("HTMLFormElement"),L$=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),cC=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),U$=yi("RegExp"),gN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};$f(t,(i,o)=>{let u;(u=e(i,o,n))!==!1&&(r[o]=u||i)}),Object.defineProperties(n,r)},F$=n=>{gN(n,(e,t)=>{if(Or(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Or(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},B$=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return jc(n)?r(n):r(String(n).split(e)),t},j$=()=>{},z$=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function q$(n){return!!(n&&Or(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const H$=n=>{const e=new Array(10),t=(r,i)=>{if(Ly(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=jc(r)?[]:{};return $f(r,(u,h)=>{const d=t(u,i+1);!pf(d)&&(o[h]=d)}),e[i]=void 0,o}}return r};return t(n,0)},$$=yi("AsyncFunction"),G$=n=>n&&(Ly(n)||Or(n))&&Or(n.then)&&Or(n.catch),yN=((n,e)=>n?setImmediate:e?((t,r)=>(hl.addEventListener("message",({source:i,data:o})=>{i===hl&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),hl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Or(hl.postMessage)),K$=typeof queueMicrotask<"u"?queueMicrotask.bind(hl):typeof process<"u"&&process.nextTick||yN,se={isArray:jc,isArrayBuffer:dN,isBuffer:h$,isFormData:E$,isArrayBufferView:d$,isString:f$,isNumber:fN,isBoolean:p$,isObject:Ly,isPlainObject:Jm,isReadableStream:b$,isRequest:T$,isResponse:S$,isHeaders:A$,isUndefined:pf,isDate:m$,isFile:g$,isBlob:y$,isRegExp:U$,isFunction:Or,isStream:v$,isURLSearchParams:w$,isTypedArray:k$,isFileList:_$,forEach:$f,merge:ME,extend:R$,trim:I$,stripBOM:C$,inherits:P$,toFlatObject:O$,kindOf:My,kindOfTest:yi,endsWith:x$,toArray:D$,forEachEntry:N$,matchAll:M$,isHTMLForm:V$,hasOwnProperty:cC,hasOwnProp:cC,reduceDescriptors:gN,freezeMethods:F$,toObjectSet:B$,toCamelCase:L$,noop:j$,toFiniteNumber:z$,findKey:pN,global:hl,isContextDefined:mN,isSpecCompliantForm:q$,toJSONObject:H$,isAsyncFn:$$,isThenable:G$,setImmediate:yN,asap:K$};function Me(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}se.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.status}}});const _N=Me.prototype,vN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{vN[n]={value:n}});Object.defineProperties(Me,vN);Object.defineProperty(_N,"isAxiosError",{value:!0});Me.from=(n,e,t,r,i,o)=>{const u=Object.create(_N);return se.toFlatObject(n,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Me.call(u,n.message,e,t,r,i),u.cause=n,u.name=n.name,o&&Object.assign(u,o),u};const W$=null;function VE(n){return se.isPlainObject(n)||se.isArray(n)}function EN(n){return se.endsWith(n,"[]")?n.slice(0,-2):n}function hC(n,e,t){return n?n.concat(e).map(function(i,o){return i=EN(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function Q$(n){return se.isArray(n)&&!n.some(VE)}const Y$=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function Uy(n,e,t){if(!se.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(I,O){return!se.isUndefined(O[I])});const r=t.metaTokens,i=t.visitor||g,o=t.dots,u=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(i))throw new TypeError("visitor must be a function");function f(T){if(T===null)return"";if(se.isDate(T))return T.toISOString();if(!d&&se.isBlob(T))throw new Me("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(T)||se.isTypedArray(T)?d&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function g(T,I,O){let L=T;if(T&&!O&&typeof T=="object"){if(se.endsWith(I,"{}"))I=r?I:I.slice(0,-2),T=JSON.stringify(T);else if(se.isArray(T)&&Q$(T)||(se.isFileList(T)||se.endsWith(I,"[]"))&&(L=se.toArray(T)))return I=EN(I),L.forEach(function(U,$){!(se.isUndefined(U)||U===null)&&e.append(u===!0?hC([I],$,o):u===null?I:I+"[]",f(U))}),!1}return VE(T)?!0:(e.append(hC(O,I,o),f(T)),!1)}const _=[],v=Object.assign(Y$,{defaultVisitor:g,convertValue:f,isVisitable:VE});function b(T,I){if(!se.isUndefined(T)){if(_.indexOf(T)!==-1)throw Error("Circular reference detected in "+I.join("."));_.push(T),se.forEach(T,function(L,V){(!(se.isUndefined(L)||L===null)&&i.call(e,L,se.isString(V)?V.trim():V,I,v))===!0&&b(L,I?I.concat(V):[V])}),_.pop()}}if(!se.isObject(n))throw new TypeError("data must be an object");return b(n),e}function dC(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Yb(n,e){this._pairs=[],n&&Uy(n,this,e)}const wN=Yb.prototype;wN.append=function(e,t){this._pairs.push([e,t])};wN.toString=function(e){const t=e?function(r){return e.call(this,r,dC)}:dC;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function X$(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bN(n,e,t){if(!e)return n;const r=t&&t.encode||X$;se.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=se.isURLSearchParams(e)?e.toString():new Yb(e,t).toString(r),o){const u=n.indexOf("#");u!==-1&&(n=n.slice(0,u)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class fC{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(r){r!==null&&e(r)})}}const TN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},J$=typeof URLSearchParams<"u"?URLSearchParams:Yb,Z$=typeof FormData<"u"?FormData:null,e8=typeof Blob<"u"?Blob:null,t8={isBrowser:!0,classes:{URLSearchParams:J$,FormData:Z$,Blob:e8},protocols:["http","https","file","blob","url","data"]},Xb=typeof window<"u"&&typeof document<"u",LE=typeof navigator=="object"&&navigator||void 0,n8=Xb&&(!LE||["ReactNative","NativeScript","NS"].indexOf(LE.product)<0),r8=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i8=Xb&&window.location.href||"http://localhost",s8=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xb,hasStandardBrowserEnv:n8,hasStandardBrowserWebWorkerEnv:r8,navigator:LE,origin:i8},Symbol.toStringTag,{value:"Module"})),$n={...s8,...t8};function a8(n,e){return Uy(n,new $n.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return $n.isNode&&se.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function o8(n){return se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function l8(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function SN(n){function e(t,r,i,o){let u=t[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=o>=t.length;return u=!u&&se.isArray(i)?i.length:u,d?(se.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!se.isObject(i[u]))&&(i[u]=[]),e(t,r,i[u],o)&&se.isArray(i[u])&&(i[u]=l8(i[u])),!h)}if(se.isFormData(n)&&se.isFunction(n.entries)){const t={};return se.forEachEntry(n,(r,i)=>{e(o8(r),i,t,0)}),t}return null}function u8(n,e,t){if(se.isString(n))try{return(e||JSON.parse)(n),se.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Gf={transitional:TN,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=se.isObject(e);if(o&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return i?JSON.stringify(SN(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e)||se.isReadableStream(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return a8(e,this.formSerializer).toString();if((h=se.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Uy(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),u8(e)):e}],transformResponse:[function(e){const t=this.transitional||Gf.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(se.isResponse(e)||se.isReadableStream(e))return e;if(e&&se.isString(e)&&(r&&!this.responseType||i)){const u=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Me.from(h,Me.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],n=>{Gf.headers[n]={}});const c8=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),h8=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(u){i=u.indexOf(":"),t=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!t||e[t]&&c8[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},pC=Symbol("internals");function md(n){return n&&String(n).trim().toLowerCase()}function Zm(n){return n===!1||n==null?n:se.isArray(n)?n.map(Zm):String(n)}function d8(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const f8=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function D0(n,e,t,r,i){if(se.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!se.isString(e)){if(se.isString(r))return e.indexOf(r)!==-1;if(se.isRegExp(r))return r.test(e)}}function p8(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function m8(n,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,u){return this[r].call(this,e,i,o,u)},configurable:!0})})}let fr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,d,f){const g=md(d);if(!g)throw new Error("header name must be a non-empty string");const _=se.findKey(i,g);(!_||i[_]===void 0||f===!0||f===void 0&&i[_]!==!1)&&(i[_||d]=Zm(h))}const u=(h,d)=>se.forEach(h,(f,g)=>o(f,g,d));if(se.isPlainObject(e)||e instanceof this.constructor)u(e,t);else if(se.isString(e)&&(e=e.trim())&&!f8(e))u(h8(e),t);else if(se.isHeaders(e))for(const[h,d]of e.entries())o(d,h,r);else e!=null&&o(t,e,r);return this}get(e,t){if(e=md(e),e){const r=se.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return d8(i);if(se.isFunction(t))return t.call(this,i,r);if(se.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=md(e),e){const r=se.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||D0(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(u){if(u=md(u),u){const h=se.findKey(r,u);h&&(!t||D0(r,r[h],h,t))&&(delete r[h],i=!0)}}return se.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||D0(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return se.forEach(this,(i,o)=>{const u=se.findKey(r,o);if(u){t[u]=Zm(i),delete t[o];return}const h=e?p8(o):String(o).trim();h!==o&&delete t[o],t[h]=Zm(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&se.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[pC]=this[pC]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=md(u);r[h]||(m8(i,u),r[h]=!0)}return se.isArray(e)?e.forEach(o):o(e),this}};fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(fr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});se.freezeMethods(fr);function k0(n,e){const t=this||Gf,r=e||t,i=fr.from(r.headers);let o=r.data;return se.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function AN(n){return!!(n&&n.__CANCEL__)}function zc(n,e,t){Me.call(this,n??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(zc,Me,{__CANCEL__:!0});function IN(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function g8(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function y8(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,u;return e=e!==void 0?e:1e3,function(d){const f=Date.now(),g=r[o];u||(u=f),t[i]=d,r[i]=f;let _=o,v=0;for(;_!==i;)v+=t[_++],_=_%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-u<e)return;const b=g&&f-g;return b?Math.round(v*1e3/b):void 0}}function _8(n,e){let t=0,r=1e3/e,i,o;const u=(f,g=Date.now())=>{t=g,i=null,o&&(clearTimeout(o),o=null),n.apply(null,f)};return[(...f)=>{const g=Date.now(),_=g-t;_>=r?u(f,g):(i=f,o||(o=setTimeout(()=>{o=null,u(i)},r-_)))},()=>i&&u(i)]}const Fg=(n,e,t=3)=>{let r=0;const i=y8(50,250);return _8(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,d=u-r,f=i(d),g=u<=h;r=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:f||void 0,estimated:f&&h&&g?(h-u)/f:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(_)},t)},mC=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},gC=n=>(...e)=>se.asap(()=>n(...e)),v8=$n.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,$n.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,E8=$n.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const u=[n+"="+encodeURIComponent(e)];se.isNumber(t)&&u.push("expires="+new Date(t).toGMTString()),se.isString(r)&&u.push("path="+r),se.isString(i)&&u.push("domain="+i),o===!0&&u.push("secure"),document.cookie=u.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function w8(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function b8(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function RN(n,e,t){let r=!w8(e);return n&&r||t==!1?b8(n,e):e}const yC=n=>n instanceof fr?{...n}:n;function xl(n,e){e=e||{};const t={};function r(f,g,_,v){return se.isPlainObject(f)&&se.isPlainObject(g)?se.merge.call({caseless:v},f,g):se.isPlainObject(g)?se.merge({},g):se.isArray(g)?g.slice():g}function i(f,g,_,v){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f,_,v)}else return r(f,g,_,v)}function o(f,g){if(!se.isUndefined(g))return r(void 0,g)}function u(f,g){if(se.isUndefined(g)){if(!se.isUndefined(f))return r(void 0,f)}else return r(void 0,g)}function h(f,g,_){if(_ in e)return r(f,g);if(_ in n)return r(void 0,f)}const d={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(f,g,_)=>i(yC(f),yC(g),_,!0)};return se.forEach(Object.keys(Object.assign({},n,e)),function(g){const _=d[g]||i,v=_(n[g],e[g],g);se.isUndefined(v)&&_!==h||(t[g]=v)}),t}const CN=n=>{const e=xl({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=e;e.headers=u=fr.from(u),e.url=bN(RN(e.baseURL,e.url),n.params,n.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(se.isFormData(t)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[f,...g]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];u.setContentType([f||"multipart/form-data",...g].join("; "))}}if($n.hasStandardBrowserEnv&&(r&&se.isFunction(r)&&(r=r(e)),r||r!==!1&&v8(e.url))){const f=i&&o&&E8.read(o);f&&u.set(i,f)}return e},T8=typeof XMLHttpRequest<"u",S8=T8&&function(n){return new Promise(function(t,r){const i=CN(n);let o=i.data;const u=fr.from(i.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:f}=i,g,_,v,b,T;function I(){b&&b(),T&&T(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let O=new XMLHttpRequest;O.open(i.method.toUpperCase(),i.url,!0),O.timeout=i.timeout;function L(){if(!O)return;const U=fr.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),j={data:!h||h==="text"||h==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:U,config:n,request:O};IN(function(M){t(M),I()},function(M){r(M),I()},j),O=null}"onloadend"in O?O.onloadend=L:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(L)},O.onabort=function(){O&&(r(new Me("Request aborted",Me.ECONNABORTED,n,O)),O=null)},O.onerror=function(){r(new Me("Network Error",Me.ERR_NETWORK,n,O)),O=null},O.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const j=i.transitional||TN;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),r(new Me($,j.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,n,O)),O=null},o===void 0&&u.setContentType(null),"setRequestHeader"in O&&se.forEach(u.toJSON(),function($,j){O.setRequestHeader(j,$)}),se.isUndefined(i.withCredentials)||(O.withCredentials=!!i.withCredentials),h&&h!=="json"&&(O.responseType=i.responseType),f&&([v,T]=Fg(f,!0),O.addEventListener("progress",v)),d&&O.upload&&([_,b]=Fg(d),O.upload.addEventListener("progress",_),O.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(g=U=>{O&&(r(!U||U.type?new zc(null,n,O):U),O.abort(),O=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const V=g8(i.url);if(V&&$n.protocols.indexOf(V)===-1){r(new Me("Unsupported protocol "+V+":",Me.ERR_BAD_REQUEST,n));return}O.send(o||null)})},A8=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,h();const g=f instanceof Error?f:this.reason;r.abort(g instanceof Me?g:new zc(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,o(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const h=()=>{n&&(u&&clearTimeout(u),u=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>se.asap(h),d}},I8=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},R8=async function*(n,e){for await(const t of C8(n))yield*I8(t,e)},C8=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},_C=(n,e,t,r)=>{const i=R8(n,e);let o=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:f,value:g}=await i.next();if(f){h(),d.close();return}let _=g.byteLength;if(t){let v=o+=_;t(v)}d.enqueue(new Uint8Array(g))}catch(f){throw h(f),f}},cancel(d){return h(d),i.return()}},{highWaterMark:2})},Fy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",PN=Fy&&typeof ReadableStream=="function",P8=Fy&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),ON=(n,...e)=>{try{return!!n(...e)}catch{return!1}},O8=PN&&ON(()=>{let n=!1;const e=new Request($n.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),vC=64*1024,UE=PN&&ON(()=>se.isReadableStream(new Response("").body)),Bg={stream:UE&&(n=>n.body)};Fy&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bg[e]&&(Bg[e]=se.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,r)})})})(new Response);const x8=async n=>{if(n==null)return 0;if(se.isBlob(n))return n.size;if(se.isSpecCompliantForm(n))return(await new Request($n.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(se.isArrayBufferView(n)||se.isArrayBuffer(n))return n.byteLength;if(se.isURLSearchParams(n)&&(n=n+""),se.isString(n))return(await P8(n)).byteLength},D8=async(n,e)=>{const t=se.toFiniteNumber(n.getContentLength());return t??x8(e)},k8=Fy&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:f,headers:g,withCredentials:_="same-origin",fetchOptions:v}=CN(n);f=f?(f+"").toLowerCase():"text";let b=A8([i,o&&o.toAbortSignal()],u),T;const I=b&&b.unsubscribe&&(()=>{b.unsubscribe()});let O;try{if(d&&O8&&t!=="get"&&t!=="head"&&(O=await D8(g,r))!==0){let j=new Request(e,{method:"POST",body:r,duplex:"half"}),H;if(se.isFormData(r)&&(H=j.headers.get("content-type"))&&g.setContentType(H),j.body){const[M,C]=mC(O,Fg(gC(d)));r=_C(j.body,vC,M,C)}}se.isString(_)||(_=_?"include":"omit");const L="credentials"in Request.prototype;T=new Request(e,{...v,signal:b,method:t.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:L?_:void 0});let V=await fetch(T);const U=UE&&(f==="stream"||f==="response");if(UE&&(h||U&&I)){const j={};["status","statusText","headers"].forEach(R=>{j[R]=V[R]});const H=se.toFiniteNumber(V.headers.get("content-length")),[M,C]=h&&mC(H,Fg(gC(h),!0))||[];V=new Response(_C(V.body,vC,M,()=>{C&&C(),I&&I()}),j)}f=f||"text";let $=await Bg[se.findKey(Bg,f)||"text"](V,n);return!U&&I&&I(),await new Promise((j,H)=>{IN(j,H,{data:$,headers:fr.from(V.headers),status:V.status,statusText:V.statusText,config:n,request:T})})}catch(L){throw I&&I(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,n,T),{cause:L.cause||L}):Me.from(L,L&&L.code,n,T)}}),FE={http:W$,xhr:S8,fetch:k8};se.forEach(FE,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const EC=n=>`- ${n}`,N8=n=>se.isFunction(n)||n===null||n===!1,xN={getAdapter:n=>{n=se.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let u;if(r=t,!N8(t)&&(r=FE[(u=String(t)).toLowerCase()],r===void 0))throw new Me(`Unknown adapter '${u}'`);if(r)break;i[u||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?o.length>1?`since :
`+o.map(EC).join(`
`):" "+EC(o[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:FE};function N0(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new zc(null,n)}function wC(n){return N0(n),n.headers=fr.from(n.headers),n.data=k0.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),xN.getAdapter(n.adapter||Gf.adapter)(n).then(function(r){return N0(n),r.data=k0.call(n,n.transformResponse,r),r.headers=fr.from(r.headers),r},function(r){return AN(r)||(N0(n),r&&r.response&&(r.response.data=k0.call(n,n.transformResponse,r.response),r.response.headers=fr.from(r.response.headers))),Promise.reject(r)})}const DN="1.8.2",By={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{By[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const bC={};By.transitional=function(e,t,r){function i(o,u){return"[Axios v"+DN+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(e===!1)throw new Me(i(u," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!bC[u]&&(bC[u]=!0,console.warn(i(u," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,u,h):!0}};By.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function M8(n,e,t){if(typeof n!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],u=e[o];if(u){const h=n[o],d=h===void 0||u(h,o,n);if(d!==!0)throw new Me("option "+o+" must be "+d,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}}const eg={assertOptions:M8,validators:By},Ni=eg.validators;let ml=class{constructor(e){this.defaults=e,this.interceptors={request:new fC,response:new fC}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=xl(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&eg.assertOptions(r,{silentJSONParsing:Ni.transitional(Ni.boolean),forcedJSONParsing:Ni.transitional(Ni.boolean),clarifyTimeoutError:Ni.transitional(Ni.boolean)},!1),i!=null&&(se.isFunction(i)?t.paramsSerializer={serialize:i}:eg.assertOptions(i,{encode:Ni.function,serialize:Ni.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),eg.assertOptions(t,{baseUrl:Ni.spelling("baseURL"),withXsrfToken:Ni.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let u=o&&se.merge(o.common,o[t.method]);o&&se.forEach(["delete","get","head","post","put","patch","common"],T=>{delete o[T]}),t.headers=fr.concat(u,o);const h=[];let d=!0;this.interceptors.request.forEach(function(I){typeof I.runWhen=="function"&&I.runWhen(t)===!1||(d=d&&I.synchronous,h.unshift(I.fulfilled,I.rejected))});const f=[];this.interceptors.response.forEach(function(I){f.push(I.fulfilled,I.rejected)});let g,_=0,v;if(!d){const T=[wC.bind(this),void 0];for(T.unshift.apply(T,h),T.push.apply(T,f),v=T.length,g=Promise.resolve(t);_<v;)g=g.then(T[_++],T[_++]);return g}v=h.length;let b=t;for(_=0;_<v;){const T=h[_++],I=h[_++];try{b=T(b)}catch(O){I.call(this,O);break}}try{g=wC.call(this,b)}catch(T){return Promise.reject(T)}for(_=0,v=f.length;_<v;)g=g.then(f[_++],f[_++]);return g}getUri(e){e=xl(this.defaults,e);const t=RN(e.baseURL,e.url,e.allowAbsoluteUrls);return bN(t,e.params,e.paramsSerializer)}};se.forEach(["delete","get","head","options"],function(e){ml.prototype[e]=function(t,r){return this.request(xl(r||{},{method:e,url:t,data:(r||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(r){return function(o,u,h){return this.request(xl(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}ml.prototype[e]=t(),ml.prototype[e+"Form"]=t(!0)});let V8=class kN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},e(function(o,u,h){r.reason||(r.reason=new zc(o,u,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new kN(function(i){e=i}),cancel:e}}};function L8(n){return function(t){return n.apply(null,t)}}function U8(n){return se.isObject(n)&&n.isAxiosError===!0}const BE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(BE).forEach(([n,e])=>{BE[e]=n});function NN(n){const e=new ml(n),t=hN(ml.prototype.request,e);return se.extend(t,ml.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return NN(xl(n,i))},t}const Rt=NN(Gf);Rt.Axios=ml;Rt.CanceledError=zc;Rt.CancelToken=V8;Rt.isCancel=AN;Rt.VERSION=DN;Rt.toFormData=Uy;Rt.AxiosError=Me;Rt.Cancel=Rt.CanceledError;Rt.all=function(e){return Promise.all(e)};Rt.spread=L8;Rt.isAxiosError=U8;Rt.mergeConfig=xl;Rt.AxiosHeaders=fr;Rt.formToJSON=n=>SN(se.isHTMLForm(n)?new FormData(n):n);Rt.getAdapter=xN.getAdapter;Rt.HttpStatusCode=BE;Rt.default=Rt;const{Axios:rY,AxiosError:iY,CanceledError:sY,isCancel:aY,CancelToken:oY,VERSION:lY,all:uY,Cancel:cY,isAxiosError:hY,spread:dY,toFormData:fY,AxiosHeaders:pY,HttpStatusCode:mY,formToJSON:gY,getAdapter:yY,mergeConfig:_Y}=Rt,F8="_card_container_1wn7a_1",B8="_button_1wn7a_19",j8="_rating_1wn7a_73",z8="_products_container_1wn7a_83",q8="_product_flexed_1wn7a_109",Rd={card_container:F8,button:B8,rating:j8,products_container:z8,product_flexed:q8};var H8={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function $8(n){if(typeof n=="number")return{value:n,unit:"px"};var e,t=(n.match(/^[0-9.]*/)||"").toString();t.includes(".")?e=parseFloat(t):e=parseInt(t,10);var r=(n.match(/[^0-9]*$/)||"").toString();return H8[r]?{value:e,unit:r}:(console.warn("React Spinners: ".concat(n," is not a valid css value. Defaulting to ").concat(e,"px.")),{value:e,unit:"px"})}function $u(n){var e=$8(n);return"".concat(e.value).concat(e.unit)}var MN=function(n,e,t){var r="react-spinners-".concat(n,"-").concat(t);if(typeof window>"u"||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var o=i.sheet,u=`
    @keyframes `.concat(r,` {
      `).concat(e,`
    }
  `);return o&&o.insertRule(u,0),r},jg=function(){return jg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},jg.apply(this,arguments)},G8=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},K8=MN("ClipLoader","0% {transform: rotate(0deg) scale(1)} 50% {transform: rotate(180deg) scale(0.8)} 100% {transform: rotate(360deg) scale(1)}","clip");function jE(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.size,g=f===void 0?35:f,_=G8(n,["loading","color","speedMultiplier","cssOverride","size"]),v=jg({background:"transparent !important",width:$u(g),height:$u(g),borderRadius:"100%",border:"2px solid",borderTopColor:i,borderBottomColor:"transparent",borderLeftColor:i,borderRightColor:i,display:"inline-block",animation:"".concat(K8," ").concat(.75/u,"s 0s infinite linear"),animationFillMode:"both"},d);return t?W.createElement("span",jg({style:v},_)):null}var zg=function(){return zg=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},zg.apply(this,arguments)},W8=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t},Q8=MN("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");function Y8(n){var e=n.loading,t=e===void 0?!0:e,r=n.color,i=r===void 0?"#000000":r,o=n.speedMultiplier,u=o===void 0?1:o,h=n.cssOverride,d=h===void 0?{}:h,f=n.height,g=f===void 0?35:f,_=n.width,v=_===void 0?4:_,b=n.radius,T=b===void 0?2:b,I=n.margin,O=I===void 0?2:I,L=W8(n,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),V=zg({display:"inherit"},d),U=function($){return{backgroundColor:i,width:$u(v),height:$u(g),margin:$u(O),borderRadius:$u(T),display:"inline-block",animation:"".concat(Q8," ").concat(1/u,"s ").concat($*.1,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return t?W.createElement("span",zg({style:V},L),W.createElement("span",{style:U(1)}),W.createElement("span",{style:U(2)}),W.createElement("span",{style:U(3)}),W.createElement("span",{style:U(4)}),W.createElement("span",{style:U(5)})):null}function VN(){return q.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"50vh"},children:q.jsx(Y8,{color:"#36d7b7"})})}var X8=sN();const Dt=JE(X8);function LN(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=LN(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function zd(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=LN(n))&&(r&&(r+=" "),r+=e);return r}function UN(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}const J8={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function FN(n,e,t=void 0){const r={};for(const i in n){const o=n[i];let u="",h=!0;for(let d=0;d<o.length;d+=1){const f=o[d];f&&(u+=(h===!0?"":" ")+e(f),h=!1,t&&t[f]&&(u+=" "+t[f]))}r[i]=u}return r}const Z8=W.createContext(),e7=()=>W.useContext(Z8)??!1;function TC(n){try{return n.matches(":focus-visible")}catch{}return!1}var M0={exports:{}},ht={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function t7(){if(SC)return ht;SC=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b=Symbol.for("react.client.reference");function T(I){if(typeof I=="object"&&I!==null){var O=I.$$typeof;switch(O){case n:switch(I=I.type,I){case t:case i:case r:case d:case f:return I;default:switch(I=I&&I.$$typeof,I){case u:case h:case _:case g:return I;case o:return I;default:return O}}case e:return O}}}return ht.ContextConsumer=o,ht.ContextProvider=u,ht.Element=n,ht.ForwardRef=h,ht.Fragment=t,ht.Lazy=_,ht.Memo=g,ht.Portal=e,ht.Profiler=i,ht.StrictMode=r,ht.Suspense=d,ht.SuspenseList=f,ht.isContextConsumer=function(I){return T(I)===o},ht.isContextProvider=function(I){return T(I)===u},ht.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===n},ht.isForwardRef=function(I){return T(I)===h},ht.isFragment=function(I){return T(I)===t},ht.isLazy=function(I){return T(I)===_},ht.isMemo=function(I){return T(I)===g},ht.isPortal=function(I){return T(I)===e},ht.isProfiler=function(I){return T(I)===i},ht.isStrictMode=function(I){return T(I)===r},ht.isSuspense=function(I){return T(I)===d},ht.isSuspenseList=function(I){return T(I)===f},ht.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===t||I===i||I===r||I===d||I===f||I===v||typeof I=="object"&&I!==null&&(I.$$typeof===_||I.$$typeof===g||I.$$typeof===u||I.$$typeof===o||I.$$typeof===h||I.$$typeof===b||I.getModuleId!==void 0)},ht.typeOf=T,ht}var AC;function n7(){return AC||(AC=1,M0.exports=t7()),M0.exports}var BN=n7();function Os(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function jN(n){if(W.isValidElement(n)||BN.isValidElementType(n)||!Os(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=jN(n[t])}),e}function xr(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Os(n)&&Os(e)&&Object.keys(e).forEach(i=>{W.isValidElement(e[i])||BN.isValidElementType(e[i])?r[i]=e[i]:Os(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Os(n[i])?r[i]=xr(n[i],e[i],t):t.clone?r[i]=Os(e[i])?jN(e[i]):e[i]:r[i]=e[i]}),r}function Dl(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}function oo(n){if(typeof n!="string")throw new Error(Dl(7));return n.charAt(0).toUpperCase()+n.slice(1)}function r7(n,e){typeof n=="function"?n(e):n&&(n.current=e)}let IC=0;function i7(n){const[e,t]=W.useState(n),r=n||e;return W.useEffect(()=>{e==null&&(IC+=1,t(`mui-${IC}`))},[e]),r}const s7={...j0},RC=s7.useId;function zN(n){if(RC!==void 0){const e=RC();return n??e}return i7(n)}function a7({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=W.useRef(n!==void 0),[o,u]=W.useState(e),h=i?n:o,d=W.useCallback(f=>{i||u(f)},[]);return[h,d]}function o7(...n){return W.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{r7(t,e)})},n)}function zE(n,e){const t={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const i=r;if(i==="components"||i==="slots")t[i]={...n[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const o=n[i],u=e[i];if(!u)t[i]=o||{};else if(!o)t[i]=u;else{t[i]={...u};for(const h in o)if(Object.prototype.hasOwnProperty.call(o,h)){const d=h;t[i][d]=zE(o[d],u[d])}}}else t[i]===void 0&&(t[i]=n[i])}return t}const CC=n=>n,l7=()=>{let n=CC;return{configure(e){n=e},generate(e){return n(e)},reset(){n=CC}}},u7=l7(),c7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Jb(n,e,t="Mui"){const r=c7[e];return r?`${t}-${r}`:`${u7.generate(n)}-${e}`}function qN(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Jb(n,i,t)}),r}function qd(n,e){return e?xr(n,e,{clone:!1}):n}function h7(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{var u,h;const o=/min-width:\s*([0-9.]+)/;return+(((u=r.match(o))==null?void 0:u[1])||0)-+(((h=i.match(o))==null?void 0:h[1])||0)});return t.length?t.reduce((r,i)=>{const o=e[i];return delete r[i],r[i]=o,r},{...e}):e}function d7(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function f7(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,o=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(o)}function p7(n){const e=(o,u)=>o.replace("@media",u?`@container ${u}`:"@container");function t(o,u){o.up=(...h)=>e(n.breakpoints.up(...h),u),o.down=(...h)=>e(n.breakpoints.down(...h),u),o.between=(...h)=>e(n.breakpoints.between(...h),u),o.only=(...h)=>e(n.breakpoints.only(...h),u),o.not=(...h)=>{const d=e(n.breakpoints.not(...h),u);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=o=>(t(r,o),r);return t(i),{...n,containerQueries:i}}const jy={xs:0,sm:600,md:900,lg:1200,xl:1536},PC={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${jy[n]}px)`},m7={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:jy[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function qs(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const o=r.breakpoints||PC;return e.reduce((u,h,d)=>(u[o.up(o.keys[d])]=t(e[d]),u),{})}if(typeof e=="object"){const o=r.breakpoints||PC;return Object.keys(e).reduce((u,h)=>{if(d7(o.keys,h)){const d=f7(r.containerQueries?r:m7,h);d&&(u[d]=t(e[h],h))}else if(Object.keys(o.values||jy).includes(h)){const d=o.up(h);u[d]=t(e[h],h)}else{const d=h;u[d]=e[d]}return u},{})}return t(e)}function g7(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((r,i)=>{const o=n.up(i);return r[o]={},r},{}))||{}}function y7(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function zy(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function qg(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=zy(n,t)||r,e&&(i=e(i,r,n)),i}function Xt(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,o=u=>{if(u[e]==null)return null;const h=u[e],d=u.theme,f=zy(d,r)||{};return qs(u,h,_=>{let v=qg(f,i,_);return _===v&&typeof _=="string"&&(v=qg(f,i,`${e}${_==="default"?"":oo(_)}`,_)),t===!1?v:{[t]:v}})};return o.propTypes={},o.filterProps=[e],o}function _7(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const v7={m:"margin",p:"padding"},E7={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},OC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},w7=_7(n=>{if(n.length>2)if(OC[n])n=OC[n];else return[n];const[e,t]=n.split(""),r=v7[e],i=E7[t]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),Zb=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],eT=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Zb,...eT];function Kf(n,e,t,r){const i=zy(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?o=>typeof o=="string"?o:typeof i=="string"?`calc(${o} * ${i})`:i*o:Array.isArray(i)?o=>{if(typeof o=="string")return o;const u=Math.abs(o),h=i[u];return o>=0?h:typeof h=="number"?-h:`-${h}`}:typeof i=="function"?i:()=>{}}function tT(n){return Kf(n,"spacing",8)}function Wf(n,e){return typeof e=="string"||e==null?e:n(e)}function b7(n,e){return t=>n.reduce((r,i)=>(r[i]=Wf(e,t),r),{})}function T7(n,e,t,r){if(!e.includes(t))return null;const i=w7(t),o=b7(i,r),u=n[t];return qs(n,u,o)}function HN(n,e){const t=tT(n.theme);return Object.keys(n).map(r=>T7(n,e,r,t)).reduce(qd,{})}function jt(n){return HN(n,Zb)}jt.propTypes={};jt.filterProps=Zb;function zt(n){return HN(n,eT)}zt.propTypes={};zt.filterProps=eT;function qy(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),t=r=>Object.keys(r).reduce((i,o)=>e[o]?qd(i,e[o](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Xr(n){return typeof n!="number"?n:`${n}px solid`}function ri(n,e){return Xt({prop:n,themeKey:"borders",transform:e})}const S7=ri("border",Xr),A7=ri("borderTop",Xr),I7=ri("borderRight",Xr),R7=ri("borderBottom",Xr),C7=ri("borderLeft",Xr),P7=ri("borderColor"),O7=ri("borderTopColor"),x7=ri("borderRightColor"),D7=ri("borderBottomColor"),k7=ri("borderLeftColor"),N7=ri("outline",Xr),M7=ri("outlineColor"),Hy=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Kf(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Wf(e,r)});return qs(n,n.borderRadius,t)}return null};Hy.propTypes={};Hy.filterProps=["borderRadius"];qy(S7,A7,I7,R7,C7,P7,O7,x7,D7,k7,Hy,N7,M7);const $y=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Kf(n.theme,"spacing",8),t=r=>({gap:Wf(e,r)});return qs(n,n.gap,t)}return null};$y.propTypes={};$y.filterProps=["gap"];const Gy=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Kf(n.theme,"spacing",8),t=r=>({columnGap:Wf(e,r)});return qs(n,n.columnGap,t)}return null};Gy.propTypes={};Gy.filterProps=["columnGap"];const Ky=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Kf(n.theme,"spacing",8),t=r=>({rowGap:Wf(e,r)});return qs(n,n.rowGap,t)}return null};Ky.propTypes={};Ky.filterProps=["rowGap"];const V7=Xt({prop:"gridColumn"}),L7=Xt({prop:"gridRow"}),U7=Xt({prop:"gridAutoFlow"}),F7=Xt({prop:"gridAutoColumns"}),B7=Xt({prop:"gridAutoRows"}),j7=Xt({prop:"gridTemplateColumns"}),z7=Xt({prop:"gridTemplateRows"}),q7=Xt({prop:"gridTemplateAreas"}),H7=Xt({prop:"gridArea"});qy($y,Gy,Ky,V7,L7,U7,F7,B7,j7,z7,q7,H7);function Ju(n,e){return e==="grey"?e:n}const $7=Xt({prop:"color",themeKey:"palette",transform:Ju}),G7=Xt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ju}),K7=Xt({prop:"backgroundColor",themeKey:"palette",transform:Ju});qy($7,G7,K7);function Rr(n){return n<=1&&n!==0?`${n*100}%`:n}const W7=Xt({prop:"width",transform:Rr}),nT=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var i,o,u,h,d;const r=((u=(o=(i=n.theme)==null?void 0:i.breakpoints)==null?void 0:o.values)==null?void 0:u[t])||jy[t];return r?((d=(h=n.theme)==null?void 0:h.breakpoints)==null?void 0:d.unit)!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Rr(t)}};return qs(n,n.maxWidth,e)}return null};nT.filterProps=["maxWidth"];const Q7=Xt({prop:"minWidth",transform:Rr}),Y7=Xt({prop:"height",transform:Rr}),X7=Xt({prop:"maxHeight",transform:Rr}),J7=Xt({prop:"minHeight",transform:Rr});Xt({prop:"size",cssProperty:"width",transform:Rr});Xt({prop:"size",cssProperty:"height",transform:Rr});const Z7=Xt({prop:"boxSizing"});qy(W7,nT,Q7,Y7,X7,J7,Z7);const Wy={border:{themeKey:"borders",transform:Xr},borderTop:{themeKey:"borders",transform:Xr},borderRight:{themeKey:"borders",transform:Xr},borderBottom:{themeKey:"borders",transform:Xr},borderLeft:{themeKey:"borders",transform:Xr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Xr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Hy},color:{themeKey:"palette",transform:Ju},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ju},backgroundColor:{themeKey:"palette",transform:Ju},p:{style:zt},pt:{style:zt},pr:{style:zt},pb:{style:zt},pl:{style:zt},px:{style:zt},py:{style:zt},padding:{style:zt},paddingTop:{style:zt},paddingRight:{style:zt},paddingBottom:{style:zt},paddingLeft:{style:zt},paddingX:{style:zt},paddingY:{style:zt},paddingInline:{style:zt},paddingInlineStart:{style:zt},paddingInlineEnd:{style:zt},paddingBlock:{style:zt},paddingBlockStart:{style:zt},paddingBlockEnd:{style:zt},m:{style:jt},mt:{style:jt},mr:{style:jt},mb:{style:jt},ml:{style:jt},mx:{style:jt},my:{style:jt},margin:{style:jt},marginTop:{style:jt},marginRight:{style:jt},marginBottom:{style:jt},marginLeft:{style:jt},marginX:{style:jt},marginY:{style:jt},marginInline:{style:jt},marginInlineStart:{style:jt},marginInlineEnd:{style:jt},marginBlock:{style:jt},marginBlockStart:{style:jt},marginBlockEnd:{style:jt},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$y},rowGap:{style:Ky},columnGap:{style:Gy},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Rr},maxWidth:{style:nT},minWidth:{transform:Rr},height:{transform:Rr},maxHeight:{transform:Rr},minHeight:{transform:Rr},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function eG(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function tG(n,e){return typeof n=="function"?n(e):n}function nG(){function n(t,r,i,o){const u={[t]:r,theme:i},h=o[t];if(!h)return{[t]:r};const{cssProperty:d=t,themeKey:f,transform:g,style:_}=h;if(r==null)return null;if(f==="typography"&&r==="inherit")return{[t]:r};const v=zy(i,f)||{};return _?_(u):qs(u,r,T=>{let I=qg(v,g,T);return T===I&&typeof T=="string"&&(I=qg(v,g,`${t}${T==="default"?"":oo(T)}`,T)),d===!1?I:{[d]:I}})}function e(t){const{sx:r,theme:i={}}=t||{};if(!r)return null;const o=i.unstable_sxConfig??Wy;function u(h){let d=h;if(typeof h=="function")d=h(i);else if(typeof h!="object")return h;if(!d)return null;const f=g7(i.breakpoints),g=Object.keys(f);let _=f;return Object.keys(d).forEach(v=>{const b=tG(d[v],i);if(b!=null)if(typeof b=="object")if(o[v])_=qd(_,n(v,b,i,o));else{const T=qs({theme:i},b,I=>({[v]:I}));eG(T,b)?_[v]=e({sx:b,theme:i}):_=qd(_,T)}else _=qd(_,n(v,b,i,o))}),h7(i,y7(g,_))}return Array.isArray(r)?r.map(u):u(r)}return e}const Tc=nG();Tc.filterProps=["sx"];function qE(){return qE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},qE.apply(null,arguments)}function rG(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function iG(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var sG=function(){function n(t){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(iG(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=rG(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),qn="-ms-",Hg="-moz-",rt="-webkit-",$N="comm",rT="rule",iT="decl",aG="@import",GN="@keyframes",oG="@layer",lG=Math.abs,Qy=String.fromCharCode,uG=Object.assign;function cG(n,e){return Dn(n,0)^45?(((e<<2^Dn(n,0))<<2^Dn(n,1))<<2^Dn(n,2))<<2^Dn(n,3):0}function KN(n){return n.trim()}function hG(n,e){return(n=e.exec(n))?n[0]:n}function it(n,e,t){return n.replace(e,t)}function HE(n,e){return n.indexOf(e)}function Dn(n,e){return n.charCodeAt(e)|0}function mf(n,e,t){return n.slice(e,t)}function Fi(n){return n.length}function sT(n){return n.length}function Pm(n,e){return e.push(n),n}function dG(n,e){return n.map(e).join("")}var Yy=1,Sc=1,WN=0,pr=0,sn=0,qc="";function Xy(n,e,t,r,i,o,u){return{value:n,root:e,parent:t,type:r,props:i,children:o,line:Yy,column:Sc,length:u,return:""}}function gd(n,e){return uG(Xy("",null,null,"",null,null,0),n,{length:-n.length},e)}function fG(){return sn}function pG(){return sn=pr>0?Dn(qc,--pr):0,Sc--,sn===10&&(Sc=1,Yy--),sn}function Dr(){return sn=pr<WN?Dn(qc,pr++):0,Sc++,sn===10&&(Sc=1,Yy++),sn}function Yi(){return Dn(qc,pr)}function tg(){return pr}function Qf(n,e){return mf(qc,n,e)}function gf(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function QN(n){return Yy=Sc=1,WN=Fi(qc=n),pr=0,[]}function YN(n){return qc="",n}function ng(n){return KN(Qf(pr-1,$E(n===91?n+2:n===40?n+1:n)))}function mG(n){for(;(sn=Yi())&&sn<33;)Dr();return gf(n)>2||gf(sn)>3?"":" "}function gG(n,e){for(;--e&&Dr()&&!(sn<48||sn>102||sn>57&&sn<65||sn>70&&sn<97););return Qf(n,tg()+(e<6&&Yi()==32&&Dr()==32))}function $E(n){for(;Dr();)switch(sn){case n:return pr;case 34:case 39:n!==34&&n!==39&&$E(sn);break;case 40:n===41&&$E(n);break;case 92:Dr();break}return pr}function yG(n,e){for(;Dr()&&n+sn!==57;)if(n+sn===84&&Yi()===47)break;return"/*"+Qf(e,pr-1)+"*"+Qy(n===47?n:Dr())}function _G(n){for(;!gf(Yi());)Dr();return Qf(n,pr)}function vG(n){return YN(rg("",null,null,null,[""],n=QN(n),0,[0],n))}function rg(n,e,t,r,i,o,u,h,d){for(var f=0,g=0,_=u,v=0,b=0,T=0,I=1,O=1,L=1,V=0,U="",$=i,j=o,H=r,M=U;O;)switch(T=V,V=Dr()){case 40:if(T!=108&&Dn(M,_-1)==58){HE(M+=it(ng(V),"&","&\f"),"&\f")!=-1&&(L=-1);break}case 34:case 39:case 91:M+=ng(V);break;case 9:case 10:case 13:case 32:M+=mG(T);break;case 92:M+=gG(tg()-1,7);continue;case 47:switch(Yi()){case 42:case 47:Pm(EG(yG(Dr(),tg()),e,t),d);break;default:M+="/"}break;case 123*I:h[f++]=Fi(M)*L;case 125*I:case 59:case 0:switch(V){case 0:case 125:O=0;case 59+g:L==-1&&(M=it(M,/\f/g,"")),b>0&&Fi(M)-_&&Pm(b>32?DC(M+";",r,t,_-1):DC(it(M," ","")+";",r,t,_-2),d);break;case 59:M+=";";default:if(Pm(H=xC(M,e,t,f,g,i,h,U,$=[],j=[],_),o),V===123)if(g===0)rg(M,e,H,H,$,o,_,h,j);else switch(v===99&&Dn(M,3)===110?100:v){case 100:case 108:case 109:case 115:rg(n,H,H,r&&Pm(xC(n,H,H,0,0,i,h,U,i,$=[],_),j),i,j,_,h,r?$:j);break;default:rg(M,H,H,H,[""],j,0,h,j)}}f=g=b=0,I=L=1,U=M="",_=u;break;case 58:_=1+Fi(M),b=T;default:if(I<1){if(V==123)--I;else if(V==125&&I++==0&&pG()==125)continue}switch(M+=Qy(V),V*I){case 38:L=g>0?1:(M+="\f",-1);break;case 44:h[f++]=(Fi(M)-1)*L,L=1;break;case 64:Yi()===45&&(M+=ng(Dr())),v=Yi(),g=_=Fi(U=M+=_G(tg())),V++;break;case 45:T===45&&Fi(M)==2&&(I=0)}}return o}function xC(n,e,t,r,i,o,u,h,d,f,g){for(var _=i-1,v=i===0?o:[""],b=sT(v),T=0,I=0,O=0;T<r;++T)for(var L=0,V=mf(n,_+1,_=lG(I=u[T])),U=n;L<b;++L)(U=KN(I>0?v[L]+" "+V:it(V,/&\f/g,v[L])))&&(d[O++]=U);return Xy(n,e,t,i===0?rT:h,d,f,g)}function EG(n,e,t){return Xy(n,e,t,$N,Qy(fG()),mf(n,2,-2),0)}function DC(n,e,t,r){return Xy(n,e,t,iT,mf(n,0,r),mf(n,r+1,-1),r)}function Zu(n,e){for(var t="",r=sT(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function wG(n,e,t,r){switch(n.type){case oG:if(n.children.length)break;case aG:case iT:return n.return=n.return||n.value;case $N:return"";case GN:return n.return=n.value+"{"+Zu(n.children,r)+"}";case rT:n.value=n.props.join(",")}return Fi(t=Zu(n.children,r))?n.return=n.value+"{"+t+"}":""}function bG(n){var e=sT(n);return function(t,r,i,o){for(var u="",h=0;h<e;h++)u+=n[h](t,r,i,o)||"";return u}}function TG(n){return function(e){e.root||(e=e.return)&&n(e)}}function XN(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var SG=function(e,t,r){for(var i=0,o=0;i=o,o=Yi(),i===38&&o===12&&(t[r]=1),!gf(o);)Dr();return Qf(e,pr)},AG=function(e,t){var r=-1,i=44;do switch(gf(i)){case 0:i===38&&Yi()===12&&(t[r]=1),e[r]+=SG(pr-1,t,r);break;case 2:e[r]+=ng(i);break;case 4:if(i===44){e[++r]=Yi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Qy(i)}while(i=Dr());return e},IG=function(e,t){return YN(AG(QN(e),t))},kC=new WeakMap,RG=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!kC.get(r))&&!i){kC.set(e,!0);for(var o=[],u=IG(t,o),h=r.props,d=0,f=0;d<u.length;d++)for(var g=0;g<h.length;g++,f++)e.props[f]=o[d]?u[d].replace(/&\f/g,h[g]):h[g]+" "+u[d]}}},CG=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function JN(n,e){switch(cG(n,e)){case 5103:return rt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return rt+n+Hg+n+qn+n+n;case 6828:case 4268:return rt+n+qn+n+n;case 6165:return rt+n+qn+"flex-"+n+n;case 5187:return rt+n+it(n,/(\w+).+(:[^]+)/,rt+"box-$1$2"+qn+"flex-$1$2")+n;case 5443:return rt+n+qn+"flex-item-"+it(n,/flex-|-self/,"")+n;case 4675:return rt+n+qn+"flex-line-pack"+it(n,/align-content|flex-|-self/,"")+n;case 5548:return rt+n+qn+it(n,"shrink","negative")+n;case 5292:return rt+n+qn+it(n,"basis","preferred-size")+n;case 6060:return rt+"box-"+it(n,"-grow","")+rt+n+qn+it(n,"grow","positive")+n;case 4554:return rt+it(n,/([^-])(transform)/g,"$1"+rt+"$2")+n;case 6187:return it(it(it(n,/(zoom-|grab)/,rt+"$1"),/(image-set)/,rt+"$1"),n,"")+n;case 5495:case 3959:return it(n,/(image-set\([^]*)/,rt+"$1$`$1");case 4968:return it(it(n,/(.+:)(flex-)?(.*)/,rt+"box-pack:$3"+qn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rt+n+n;case 4095:case 3583:case 4068:case 2532:return it(n,/(.+)-inline(.+)/,rt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fi(n)-1-e>6)switch(Dn(n,e+1)){case 109:if(Dn(n,e+4)!==45)break;case 102:return it(n,/(.+:)(.+)-([^]+)/,"$1"+rt+"$2-$3$1"+Hg+(Dn(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~HE(n,"stretch")?JN(it(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Dn(n,e+1)!==115)break;case 6444:switch(Dn(n,Fi(n)-3-(~HE(n,"!important")&&10))){case 107:return it(n,":",":"+rt)+n;case 101:return it(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rt+(Dn(n,14)===45?"inline-":"")+"box$3$1"+rt+"$2$3$1"+qn+"$2box$3")+n}break;case 5936:switch(Dn(n,e+11)){case 114:return rt+n+qn+it(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return rt+n+qn+it(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return rt+n+qn+it(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return rt+n+qn+n+n}return n}var PG=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case iT:e.return=JN(e.value,e.length);break;case GN:return Zu([gd(e,{value:it(e.value,"@","@"+rt)})],i);case rT:if(e.length)return dG(e.props,function(o){switch(hG(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Zu([gd(e,{props:[it(o,/:(read-\w+)/,":"+Hg+"$1")]})],i);case"::placeholder":return Zu([gd(e,{props:[it(o,/:(plac\w+)/,":"+rt+"input-$1")]}),gd(e,{props:[it(o,/:(plac\w+)/,":"+Hg+"$1")]}),gd(e,{props:[it(o,/:(plac\w+)/,qn+"input-$1")]})],i)}return""})}},OG=[PG],xG=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(I){var O=I.getAttribute("data-emotion");O.indexOf(" ")!==-1&&(document.head.appendChild(I),I.setAttribute("data-s",""))})}var i=e.stylisPlugins||OG,o={},u,h=[];u=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(I){for(var O=I.getAttribute("data-emotion").split(" "),L=1;L<O.length;L++)o[O[L]]=!0;h.push(I)});var d,f=[RG,CG];{var g,_=[wG,TG(function(I){g.insert(I)})],v=bG(f.concat(i,_)),b=function(O){return Zu(vG(O),v)};d=function(O,L,V,U){g=V,b(O?O+"{"+L.styles+"}":L.styles),U&&(T.inserted[L.name]=!0)}}var T={key:t,sheet:new sG({key:t,container:u,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return T.sheet.hydrate(h),T},DG=!0;function kG(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var ZN=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||DG===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},NG=function(e,t,r){ZN(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var o=t;do e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function MG(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var VG={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},LG=/[A-Z]|^ms/g,UG=/_EMO_([^_]+?)_([^]*?)_EMO_/g,e2=function(e){return e.charCodeAt(1)===45},NC=function(e){return e!=null&&typeof e!="boolean"},V0=XN(function(n){return e2(n)?n:n.replace(LG,"-$&").toLowerCase()}),MC=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(UG,function(r,i,o){return Bi={name:i,styles:o,next:Bi},i})}return VG[e]!==1&&!e2(e)&&typeof t=="number"&&t!==0?t+"px":t};function yf(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Bi={name:i.name,styles:i.styles,next:Bi},i.name;var o=t;if(o.styles!==void 0){var u=o.next;if(u!==void 0)for(;u!==void 0;)Bi={name:u.name,styles:u.styles,next:Bi},u=u.next;var h=o.styles+";";return h}return FG(n,e,t)}case"function":{if(n!==void 0){var d=Bi,f=t(n);return Bi=d,yf(n,e,f)}break}}var g=t;if(e==null)return g;var _=e[g];return _!==void 0?_:g}function FG(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=yf(n,e,t[i])+";";else for(var o in t){var u=t[o];if(typeof u!="object"){var h=u;e!=null&&e[h]!==void 0?r+=o+"{"+e[h]+"}":NC(h)&&(r+=V0(o)+":"+MC(o,h)+";")}else if(Array.isArray(u)&&typeof u[0]=="string"&&(e==null||e[u[0]]===void 0))for(var d=0;d<u.length;d++)NC(u[d])&&(r+=V0(o)+":"+MC(o,u[d])+";");else{var f=yf(n,e,u);switch(o){case"animation":case"animationName":{r+=V0(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var VC=/label:\s*([^\s;{]+)\s*(;|$)/g,Bi;function t2(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Bi=void 0;var o=n[0];if(o==null||o.raw===void 0)r=!1,i+=yf(t,e,o);else{var u=o;i+=u[0]}for(var h=1;h<n.length;h++)if(i+=yf(t,e,n[h]),r){var d=o;i+=d[h]}VC.lastIndex=0;for(var f="",g;(g=VC.exec(i))!==null;)f+="-"+g[1];var _=MG(i)+f;return{name:_,styles:i,next:Bi}}var BG=function(e){return e()},jG=j0.useInsertionEffect?j0.useInsertionEffect:!1,zG=jG||BG,n2=W.createContext(typeof HTMLElement<"u"?xG({key:"css"}):null);n2.Provider;var qG=function(e){return W.forwardRef(function(t,r){var i=W.useContext(n2);return e(t,i,r)})},HG=W.createContext({}),$G=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,GG=XN(function(n){return $G.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),KG=GG,WG=function(e){return e!=="theme"},LC=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?KG:WG},UC=function(e,t,r){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(u){return e.__emotion_forwardProp(u)&&o(u)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},QG=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return ZN(t,r,i),zG(function(){return NG(t,r,i)}),null},YG=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,u;t!==void 0&&(o=t.label,u=t.target);var h=UC(e,t,r),d=h||LC(i),f=!d("as");return function(){var g=arguments,_=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&_.push("label:"+o+";"),g[0]==null||g[0].raw===void 0)_.push.apply(_,g);else{var v=g[0];_.push(v[0]);for(var b=g.length,T=1;T<b;T++)_.push(g[T],v[T])}var I=qG(function(O,L,V){var U=f&&O.as||i,$="",j=[],H=O;if(O.theme==null){H={};for(var M in O)H[M]=O[M];H.theme=W.useContext(HG)}typeof O.className=="string"?$=kG(L.registered,j,O.className):O.className!=null&&($=O.className+" ");var C=t2(_.concat(j),L.registered,H);$+=L.key+"-"+C.name,u!==void 0&&($+=" "+u);var R=f&&h===void 0?LC(U):d,w={};for(var P in O)f&&P==="as"||R(P)&&(w[P]=O[P]);return w.className=$,V&&(w.ref=V),W.createElement(W.Fragment,null,W.createElement(QG,{cache:L,serialized:C,isStringTag:typeof U=="string"}),W.createElement(U,w))});return I.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",I.defaultProps=e.defaultProps,I.__emotion_real=I,I.__emotion_base=i,I.__emotion_styles=_,I.__emotion_forwardProp=h,Object.defineProperty(I,"toString",{value:function(){return"."+u}}),I.withComponent=function(O,L){var V=n(O,qE({},t,L,{shouldForwardProp:UC(I,L,!0)}));return V.apply(void 0,_)},I}},XG=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],GE=YG.bind(null);XG.forEach(function(n){GE[n]=GE(n)});/**
 * @mui/styled-engine v6.4.3
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function JG(n,e){return GE(n,e)}function ZG(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const FC=[];function BC(n){return FC[0]=n,t2(FC)}const eK=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function tK(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,o=eK(e),u=Object.keys(o);function h(v){return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t})`}function d(v){return`@media (max-width:${(typeof e[v]=="number"?e[v]:v)-r/100}${t})`}function f(v,b){const T=u.indexOf(b);return`@media (min-width:${typeof e[v]=="number"?e[v]:v}${t}) and (max-width:${(T!==-1&&typeof e[u[T]]=="number"?e[u[T]]:b)-r/100}${t})`}function g(v){return u.indexOf(v)+1<u.length?f(v,u[u.indexOf(v)+1]):h(v)}function _(v){const b=u.indexOf(v);return b===0?h(u[1]):b===u.length-1?d(u[b]):f(v,u[u.indexOf(v)+1]).replace("@media","@media not all and")}return{keys:u,values:o,up:h,down:d,between:f,only:g,not:_,unit:t,...i}}const nK={borderRadius:4};function r2(n=8,e=tT({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(o=>{const u=e(o);return typeof u=="number"?`${u}px`:u}).join(" ");return t.mui=!0,t}function rK(n,e){var r;const t=this;if(t.vars){if(!((r=t.colorSchemes)!=null&&r[n])||typeof t.getColorSchemeSelector!="function")return{};let i=t.getColorSchemeSelector(n);return i==="&"?e:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:e})}return t.palette.mode===n?e:{}}function i2(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:o={},...u}=n,h=tK(t),d=r2(i);let f=xr({breakpoints:h,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...nK,...o}},u);return f=p7(f),f.applyStyles=rK,f=e.reduce((g,_)=>xr(g,_),f),f.unstable_sxConfig={...Wy,...u==null?void 0:u.unstable_sxConfig},f.unstable_sx=function(_){return Tc({sx:_,theme:this})},f}function s2(n){const{variants:e,...t}=n,r={variants:e,style:BC(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=BC(i.style))}),r}const iK=i2();function L0(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function sK(n){return n?(e,t)=>t[n]:null}function aK(n,e,t){n.theme=uK(n.theme)?t:n.theme[e]||n.theme}function ig(n,e){const t=typeof e=="function"?e(n):e;if(Array.isArray(t))return t.flatMap(r=>ig(n,r));if(Array.isArray(t==null?void 0:t.variants)){let r;if(t.isProcessed)r=t.style;else{const{variants:i,...o}=t;r=o}return a2(n,t.variants,[r])}return t!=null&&t.isProcessed?t.style:t}function a2(n,e,t=[]){var i;let r;e:for(let o=0;o<e.length;o+=1){const u=e[o];if(typeof u.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!u.props(r))continue}else for(const h in u.props)if(n[h]!==u.props[h]&&((i=n.ownerState)==null?void 0:i[h])!==u.props[h])continue e;typeof u.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(u.style(r))):t.push(u.style)}return t}function oK(n={}){const{themeId:e,defaultTheme:t=iK,rootShouldForwardProp:r=L0,slotShouldForwardProp:i=L0}=n;function o(h){aK(h,e,t)}return(h,d={})=>{ZG(h,j=>j.filter(H=>H!==Tc));const{name:f,slot:g,skipVariantsResolver:_,skipSx:v,overridesResolver:b=sK(hK(g)),...T}=d,I=_!==void 0?_:g&&g!=="Root"&&g!=="root"||!1,O=v||!1;let L=L0;g==="Root"||g==="root"?L=r:g?L=i:cK(h)&&(L=void 0);const V=JG(h,{shouldForwardProp:L,label:lK(),...T}),U=j=>{if(typeof j=="function"&&j.__emotion_real!==j)return function(M){return ig(M,j)};if(Os(j)){const H=s2(j);return H.variants?function(C){return ig(C,H)}:H.style}return j},$=(...j)=>{const H=[],M=j.map(U),C=[];if(H.push(o),f&&b&&C.push(function(x){var ee,ie;const te=(ie=(ee=x.theme.components)==null?void 0:ee[f])==null?void 0:ie.styleOverrides;if(!te)return null;const F={};for(const ue in te)F[ue]=ig(x,te[ue]);return b(x,F)}),f&&!I&&C.push(function(x){var F,ee;const D=x.theme,te=(ee=(F=D==null?void 0:D.components)==null?void 0:F[f])==null?void 0:ee.variants;return te?a2(x,te):null}),O||C.push(Tc),Array.isArray(M[0])){const P=M.shift(),x=new Array(H.length).fill(""),D=new Array(C.length).fill("");let te;te=[...x,...P,...D],te.raw=[...x,...P.raw,...D],H.unshift(te)}const R=[...H,...M,...C],w=V(...R);return h.muiName&&(w.muiName=h.muiName),w};return V.withConfig&&($.withConfig=V.withConfig),$}}function lK(n,e){return void 0}function uK(n){for(const e in n)return!1;return!0}function cK(n){return typeof n=="string"&&n.charCodeAt(0)>96}function hK(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function aT(n,e=0,t=1){return UN(n,e,t)}function dK(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function lo(n){if(n.type)return n;if(n.charAt(0)==="#")return lo(dK(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(Dl(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(Dl(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:t,values:r,colorSpace:i}}const fK=n=>{const e=lo(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Cd=(n,e)=>{try{return fK(n)}catch{return n}};function Jy(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function o2(n){n=lo(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),u=(f,g=(f+t/30)%12)=>i-o*Math.max(Math.min(g-3,9-g,1),-1);let h="rgb";const d=[Math.round(u(0)*255),Math.round(u(8)*255),Math.round(u(4)*255)];return n.type==="hsla"&&(h+="a",d.push(e[3])),Jy({type:h,values:d})}function KE(n){n=lo(n);let e=n.type==="hsl"||n.type==="hsla"?lo(o2(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function pK(n,e){const t=KE(n),r=KE(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function mK(n,e){return n=lo(n),e=aT(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Jy(n)}function Om(n,e,t){try{return mK(n,e)}catch{return n}}function oT(n,e){if(n=lo(n),e=aT(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Jy(n)}function ft(n,e,t){try{return oT(n,e)}catch{return n}}function lT(n,e){if(n=lo(n),e=aT(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Jy(n)}function pt(n,e,t){try{return lT(n,e)}catch{return n}}function gK(n,e=.15){return KE(n)>.5?oT(n,e):lT(n,e)}function xm(n,e,t){try{return gK(n,e)}catch{return n}}const yK=W.createContext(void 0);function _K(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?zE(i.defaultProps,r):!i.styleOverrides&&!i.variants?zE(i,r):r}function vK({props:n,name:e}){const t=W.useContext(yK);return _K({props:n,name:e,theme:{components:t}})}const jC={theme:void 0};function EK(n){let e,t;return function(i){let o=e;return(o===void 0||i.theme!==t)&&(jC.theme=i.theme,o=s2(n(jC)),e=o,t=i.theme),o}}function wK(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const zC=(n,e,t,r=[])=>{let i=n;e.forEach((o,u)=>{u===e.length-1?Array.isArray(i)?i[Number(o)]=t:i&&typeof i=="object"&&(i[o]=t):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},bK=(n,e,t)=>{function r(i,o=[],u=[]){Object.entries(i).forEach(([h,d])=>{(!t||t&&!t([...o,h]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...o,h],Array.isArray(d)?[...u,h]:u):e([...o,h],d,u))})}r(n)},TK=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function U0(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},o={},u={};return bK(n,(h,d,f)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(h,d))){const g=`--${t?`${t}-`:""}${h.join("-")}`,_=TK(h,d);Object.assign(i,{[g]:_}),zC(o,h,`var(${g})`,f),zC(u,h,`var(${g}, ${_})`,f)}},h=>h[0]==="vars"),{css:i,vars:o,varsWithDefaults:u}}function SK(n,e={}){const{getSelector:t=O,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:o={},components:u,defaultColorScheme:h="light",...d}=n,{vars:f,css:g,varsWithDefaults:_}=U0(d,e);let v=_;const b={},{[h]:T,...I}=o;if(Object.entries(I||{}).forEach(([U,$])=>{const{vars:j,css:H,varsWithDefaults:M}=U0($,e);v=xr(v,M),b[U]={css:H,vars:j}}),T){const{css:U,vars:$,varsWithDefaults:j}=U0(T,e);v=xr(v,j),b[h]={css:U,vars:$}}function O(U,$){var H,M;let j=i;if(i==="class"&&(j=".%s"),i==="data"&&(j="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(j=`[${i}="%s"]`),U){if(j==="media")return n.defaultColorScheme===U?":root":{[`@media (prefers-color-scheme: ${((M=(H=o[U])==null?void 0:H.palette)==null?void 0:M.mode)||U})`]:{":root":$}};if(j)return n.defaultColorScheme===U?`:root, ${j.replace("%s",String(U))}`:j.replace("%s",String(U))}return":root"}return{vars:v,generateThemeVars:()=>{let U={...f};return Object.entries(b).forEach(([,{vars:$}])=>{U=xr(U,$)}),U},generateStyleSheets:()=>{var C,R;const U=[],$=n.defaultColorScheme||"light";function j(w,P){Object.keys(P).length&&U.push(typeof w=="string"?{[w]:{...P}}:w)}j(t(void 0,{...g}),g);const{[$]:H,...M}=b;if(H){const{css:w}=H,P=(R=(C=o[$])==null?void 0:C.palette)==null?void 0:R.mode,x=!r&&P?{colorScheme:P,...w}:{...w};j(t($,{...x}),x)}return Object.entries(M).forEach(([w,{css:P}])=>{var te,F;const x=(F=(te=o[w])==null?void 0:te.palette)==null?void 0:F.mode,D=!r&&x?{colorScheme:x,...P}:{...P};j(t(w,{...D}),D)}),U}}}function AK(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const _f={black:"#000",white:"#fff"},IK={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Nu={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Mu={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},yd={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Vu={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Lu={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Uu={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function l2(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:_f.white,default:_f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const RK=l2();function u2(){return{text:{primary:_f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:_f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const qC=u2();function HC(n,e,t,r){const i=r.light||r,o=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=lT(n.main,i):e==="dark"&&(n.dark=oT(n.main,o)))}function CK(n="light"){return n==="dark"?{main:Vu[200],light:Vu[50],dark:Vu[400]}:{main:Vu[700],light:Vu[400],dark:Vu[800]}}function PK(n="light"){return n==="dark"?{main:Nu[200],light:Nu[50],dark:Nu[400]}:{main:Nu[500],light:Nu[300],dark:Nu[700]}}function OK(n="light"){return n==="dark"?{main:Mu[500],light:Mu[300],dark:Mu[700]}:{main:Mu[700],light:Mu[400],dark:Mu[800]}}function xK(n="light"){return n==="dark"?{main:Lu[400],light:Lu[300],dark:Lu[700]}:{main:Lu[700],light:Lu[500],dark:Lu[900]}}function DK(n="light"){return n==="dark"?{main:Uu[400],light:Uu[300],dark:Uu[700]}:{main:Uu[800],light:Uu[500],dark:Uu[900]}}function kK(n="light"){return n==="dark"?{main:yd[400],light:yd[300],dark:yd[700]}:{main:"#ed6c02",light:yd[500],dark:yd[900]}}function uT(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,o=n.primary||CK(e),u=n.secondary||PK(e),h=n.error||OK(e),d=n.info||xK(e),f=n.success||DK(e),g=n.warning||kK(e);function _(I){return pK(I,qC.text.primary)>=t?qC.text.primary:RK.text.primary}const v=({color:I,name:O,mainShade:L=500,lightShade:V=300,darkShade:U=700})=>{if(I={...I},!I.main&&I[L]&&(I.main=I[L]),!I.hasOwnProperty("main"))throw new Error(Dl(11,O?` (${O})`:"",L));if(typeof I.main!="string")throw new Error(Dl(12,O?` (${O})`:"",JSON.stringify(I.main)));return HC(I,"light",V,r),HC(I,"dark",U,r),I.contrastText||(I.contrastText=_(I.main)),I};let b;return e==="light"?b=l2():e==="dark"&&(b=u2()),xr({common:{..._f},mode:e,primary:v({color:o,name:"primary"}),secondary:v({color:u,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:v({color:h,name:"error"}),warning:v({color:g,name:"warning"}),info:v({color:d,name:"info"}),success:v({color:f,name:"success"}),grey:IK,contrastThreshold:t,getContrastText:_,augmentColor:v,tonalOffset:r,...b},i)}function NK(n){const e={};return Object.entries(n).forEach(r=>{const[i,o]=r;typeof o=="object"&&(e[i]=`${o.fontStyle?`${o.fontStyle} `:""}${o.fontVariant?`${o.fontVariant} `:""}${o.fontWeight?`${o.fontWeight} `:""}${o.fontStretch?`${o.fontStretch} `:""}${o.fontSize||""}${o.lineHeight?`/${o.lineHeight} `:""}${o.fontFamily||""}`)}),e}function MK(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function VK(n){return Math.round(n*1e5)/1e5}const $C={textTransform:"uppercase"},GC='"Roboto", "Helvetica", "Arial", sans-serif';function LK(n,e){const{fontFamily:t=GC,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:o=400,fontWeightMedium:u=500,fontWeightBold:h=700,htmlFontSize:d=16,allVariants:f,pxToRem:g,..._}=typeof e=="function"?e(n):e,v=r/14,b=g||(O=>`${O/d*v}rem`),T=(O,L,V,U,$)=>({fontFamily:t,fontWeight:O,fontSize:b(L),lineHeight:V,...t===GC?{letterSpacing:`${VK(U/L)}em`}:{},...$,...f}),I={h1:T(i,96,1.167,-1.5),h2:T(i,60,1.2,-.5),h3:T(o,48,1.167,0),h4:T(o,34,1.235,.25),h5:T(o,24,1.334,0),h6:T(u,20,1.6,.15),subtitle1:T(o,16,1.75,.15),subtitle2:T(u,14,1.57,.1),body1:T(o,16,1.5,.15),body2:T(o,14,1.43,.15),button:T(u,14,1.75,.4,$C),caption:T(o,12,1.66,.4),overline:T(o,12,2.66,1,$C),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return xr({htmlFontSize:d,pxToRem:b,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:o,fontWeightMedium:u,fontWeightBold:h,...I},_,{clone:!1})}const UK=.2,FK=.14,BK=.12;function wt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${UK})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${FK})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${BK})`].join(",")}const jK=["none",wt(0,2,1,-1,0,1,1,0,0,1,3,0),wt(0,3,1,-2,0,2,2,0,0,1,5,0),wt(0,3,3,-2,0,3,4,0,0,1,8,0),wt(0,2,4,-1,0,4,5,0,0,1,10,0),wt(0,3,5,-1,0,5,8,0,0,1,14,0),wt(0,3,5,-1,0,6,10,0,0,1,18,0),wt(0,4,5,-2,0,7,10,1,0,2,16,1),wt(0,5,5,-3,0,8,10,1,0,3,14,2),wt(0,5,6,-3,0,9,12,1,0,3,16,2),wt(0,6,6,-3,0,10,14,1,0,4,18,3),wt(0,6,7,-4,0,11,15,1,0,4,20,3),wt(0,7,8,-4,0,12,17,2,0,5,22,4),wt(0,7,8,-4,0,13,19,2,0,5,24,4),wt(0,7,9,-4,0,14,21,2,0,5,26,4),wt(0,8,9,-5,0,15,22,2,0,6,28,5),wt(0,8,10,-5,0,16,24,2,0,6,30,5),wt(0,8,11,-5,0,17,26,2,0,6,32,5),wt(0,9,11,-5,0,18,28,2,0,7,34,6),wt(0,9,12,-6,0,19,29,2,0,7,36,6),wt(0,10,13,-6,0,20,31,3,0,8,38,7),wt(0,10,13,-6,0,21,33,3,0,8,40,7),wt(0,10,14,-6,0,22,35,3,0,8,42,7),wt(0,11,14,-7,0,23,36,3,0,9,44,8),wt(0,11,15,-7,0,24,38,3,0,9,46,8)],zK={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},qK={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KC(n){return`${Math.round(n)}ms`}function HK(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function $K(n){const e={...zK,...n.easing},t={...qK,...n.duration};return{getAutoHeightDuration:HK,create:(i=["all"],o={})=>{const{duration:u=t.standard,easing:h=e.easeInOut,delay:d=0,...f}=o;return(Array.isArray(i)?i:[i]).map(g=>`${g} ${typeof u=="string"?u:KC(u)} ${h} ${typeof d=="string"?d:KC(d)}`).join(",")},...n,easing:e,duration:t}}const GK={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function KK(n){return Os(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function c2(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let o=0;o<i.length;o++){const[u,h]=i[o];!KK(h)||u.startsWith("unstable_")?delete r[u]:Os(h)&&(r[u]={...h},t(r[u]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function WE(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:o={},transitions:u={},typography:h={},shape:d,...f}=n;if(n.vars)throw new Error(Dl(20));const g=uT(o),_=i2(n);let v=xr(_,{mixins:MK(_.breakpoints,r),palette:g,shadows:jK.slice(),typography:LK(g,h),transitions:$K(u),zIndex:{...GK}});return v=xr(v,f),v=e.reduce((b,T)=>xr(b,T),v),v.unstable_sxConfig={...Wy,...f==null?void 0:f.unstable_sxConfig},v.unstable_sx=function(T){return Tc({sx:T,theme:this})},v.toRuntimeSource=c2,v}function WK(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const QK=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=WK(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function h2(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function d2(n){return n==="dark"?QK:[]}function YK(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,o=uT(e);return{palette:o,opacity:{...h2(o.mode),...t},overlays:r||d2(o.mode),...i}}function XK(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const JK=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],ZK=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let o=i;if(i==="class"&&(o=".%s"),i==="data"&&(o="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(o=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const u={};return JK(n.cssVarPrefix).forEach(h=>{u[h]=t[h],delete t[h]}),o==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:u}}:o?{[o.replace("%s",e)]:u,[`${r}, ${o.replace("%s",e)}`]:t}:{[r]:{...t,...u}}}if(o&&o!=="media")return`${r}, ${o.replace("%s",String(e))}`}else if(e){if(o==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(o)return o.replace("%s",String(e))}return r};function eW(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function oe(n,e,t){!n[e]&&t&&(n[e]=t)}function Pd(n){return typeof n!="string"||!n.startsWith("hsl")?n:o2(n)}function Cs(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Cd(Pd(n[e])))}function tW(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Mi=n=>{try{return n()}catch{}},nW=(n="mui")=>wK(n);function F0(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=YK({...e,palette:{mode:i,...e==null?void 0:e.palette}});return}const{palette:o,...u}=WE({...t,palette:{mode:i,...e==null?void 0:e.palette}});return n[r]={...e,palette:o,opacity:{...h2(i),...e==null?void 0:e.opacity},overlays:(e==null?void 0:e.overlays)||d2(i)},u}function rW(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:o="mui",shouldSkipGeneratingVar:u=XK,colorSchemeSelector:h=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...f}=n,g=Object.keys(t)[0],_=r||(t.light&&g!=="light"?"light":g),v=nW(o),{[_]:b,light:T,dark:I,...O}=t,L={...O};let V=b;if((_==="dark"&&!("dark"in t)||_==="light"&&!("light"in t))&&(V=!0),!V)throw new Error(Dl(21,_));const U=F0(L,V,f,_);T&&!L.light&&F0(L,T,void 0,"light"),I&&!L.dark&&F0(L,I,void 0,"dark");let $={defaultColorScheme:_,...U,cssVarPrefix:o,colorSchemeSelector:h,rootSelector:d,getCssVar:v,colorSchemes:L,font:{...NK(U.typography),...U.font},spacing:tW(f.spacing)};Object.keys($.colorSchemes).forEach(R=>{const w=$.colorSchemes[R].palette,P=x=>{const D=x.split("-"),te=D[1],F=D[2];return v(x,w[te][F])};if(w.mode==="light"&&(oe(w.common,"background","#fff"),oe(w.common,"onBackground","#000")),w.mode==="dark"&&(oe(w.common,"background","#000"),oe(w.common,"onBackground","#fff")),eW(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){oe(w.Alert,"errorColor",ft(w.error.light,.6)),oe(w.Alert,"infoColor",ft(w.info.light,.6)),oe(w.Alert,"successColor",ft(w.success.light,.6)),oe(w.Alert,"warningColor",ft(w.warning.light,.6)),oe(w.Alert,"errorFilledBg",P("palette-error-main")),oe(w.Alert,"infoFilledBg",P("palette-info-main")),oe(w.Alert,"successFilledBg",P("palette-success-main")),oe(w.Alert,"warningFilledBg",P("palette-warning-main")),oe(w.Alert,"errorFilledColor",Mi(()=>w.getContrastText(w.error.main))),oe(w.Alert,"infoFilledColor",Mi(()=>w.getContrastText(w.info.main))),oe(w.Alert,"successFilledColor",Mi(()=>w.getContrastText(w.success.main))),oe(w.Alert,"warningFilledColor",Mi(()=>w.getContrastText(w.warning.main))),oe(w.Alert,"errorStandardBg",pt(w.error.light,.9)),oe(w.Alert,"infoStandardBg",pt(w.info.light,.9)),oe(w.Alert,"successStandardBg",pt(w.success.light,.9)),oe(w.Alert,"warningStandardBg",pt(w.warning.light,.9)),oe(w.Alert,"errorIconColor",P("palette-error-main")),oe(w.Alert,"infoIconColor",P("palette-info-main")),oe(w.Alert,"successIconColor",P("palette-success-main")),oe(w.Alert,"warningIconColor",P("palette-warning-main")),oe(w.AppBar,"defaultBg",P("palette-grey-100")),oe(w.Avatar,"defaultBg",P("palette-grey-400")),oe(w.Button,"inheritContainedBg",P("palette-grey-300")),oe(w.Button,"inheritContainedHoverBg",P("palette-grey-A100")),oe(w.Chip,"defaultBorder",P("palette-grey-400")),oe(w.Chip,"defaultAvatarColor",P("palette-grey-700")),oe(w.Chip,"defaultIconColor",P("palette-grey-700")),oe(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),oe(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),oe(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),oe(w.LinearProgress,"primaryBg",pt(w.primary.main,.62)),oe(w.LinearProgress,"secondaryBg",pt(w.secondary.main,.62)),oe(w.LinearProgress,"errorBg",pt(w.error.main,.62)),oe(w.LinearProgress,"infoBg",pt(w.info.main,.62)),oe(w.LinearProgress,"successBg",pt(w.success.main,.62)),oe(w.LinearProgress,"warningBg",pt(w.warning.main,.62)),oe(w.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.11)`),oe(w.Slider,"primaryTrack",pt(w.primary.main,.62)),oe(w.Slider,"secondaryTrack",pt(w.secondary.main,.62)),oe(w.Slider,"errorTrack",pt(w.error.main,.62)),oe(w.Slider,"infoTrack",pt(w.info.main,.62)),oe(w.Slider,"successTrack",pt(w.success.main,.62)),oe(w.Slider,"warningTrack",pt(w.warning.main,.62));const x=xm(w.background.default,.8);oe(w.SnackbarContent,"bg",x),oe(w.SnackbarContent,"color",Mi(()=>w.getContrastText(x))),oe(w.SpeedDialAction,"fabHoverBg",xm(w.background.paper,.15)),oe(w.StepConnector,"border",P("palette-grey-400")),oe(w.StepContent,"border",P("palette-grey-400")),oe(w.Switch,"defaultColor",P("palette-common-white")),oe(w.Switch,"defaultDisabledColor",P("palette-grey-100")),oe(w.Switch,"primaryDisabledColor",pt(w.primary.main,.62)),oe(w.Switch,"secondaryDisabledColor",pt(w.secondary.main,.62)),oe(w.Switch,"errorDisabledColor",pt(w.error.main,.62)),oe(w.Switch,"infoDisabledColor",pt(w.info.main,.62)),oe(w.Switch,"successDisabledColor",pt(w.success.main,.62)),oe(w.Switch,"warningDisabledColor",pt(w.warning.main,.62)),oe(w.TableCell,"border",pt(Om(w.divider,1),.88)),oe(w.Tooltip,"bg",Om(w.grey[700],.92))}if(w.mode==="dark"){oe(w.Alert,"errorColor",pt(w.error.light,.6)),oe(w.Alert,"infoColor",pt(w.info.light,.6)),oe(w.Alert,"successColor",pt(w.success.light,.6)),oe(w.Alert,"warningColor",pt(w.warning.light,.6)),oe(w.Alert,"errorFilledBg",P("palette-error-dark")),oe(w.Alert,"infoFilledBg",P("palette-info-dark")),oe(w.Alert,"successFilledBg",P("palette-success-dark")),oe(w.Alert,"warningFilledBg",P("palette-warning-dark")),oe(w.Alert,"errorFilledColor",Mi(()=>w.getContrastText(w.error.dark))),oe(w.Alert,"infoFilledColor",Mi(()=>w.getContrastText(w.info.dark))),oe(w.Alert,"successFilledColor",Mi(()=>w.getContrastText(w.success.dark))),oe(w.Alert,"warningFilledColor",Mi(()=>w.getContrastText(w.warning.dark))),oe(w.Alert,"errorStandardBg",ft(w.error.light,.9)),oe(w.Alert,"infoStandardBg",ft(w.info.light,.9)),oe(w.Alert,"successStandardBg",ft(w.success.light,.9)),oe(w.Alert,"warningStandardBg",ft(w.warning.light,.9)),oe(w.Alert,"errorIconColor",P("palette-error-main")),oe(w.Alert,"infoIconColor",P("palette-info-main")),oe(w.Alert,"successIconColor",P("palette-success-main")),oe(w.Alert,"warningIconColor",P("palette-warning-main")),oe(w.AppBar,"defaultBg",P("palette-grey-900")),oe(w.AppBar,"darkBg",P("palette-background-paper")),oe(w.AppBar,"darkColor",P("palette-text-primary")),oe(w.Avatar,"defaultBg",P("palette-grey-600")),oe(w.Button,"inheritContainedBg",P("palette-grey-800")),oe(w.Button,"inheritContainedHoverBg",P("palette-grey-700")),oe(w.Chip,"defaultBorder",P("palette-grey-700")),oe(w.Chip,"defaultAvatarColor",P("palette-grey-300")),oe(w.Chip,"defaultIconColor",P("palette-grey-300")),oe(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),oe(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),oe(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),oe(w.LinearProgress,"primaryBg",ft(w.primary.main,.5)),oe(w.LinearProgress,"secondaryBg",ft(w.secondary.main,.5)),oe(w.LinearProgress,"errorBg",ft(w.error.main,.5)),oe(w.LinearProgress,"infoBg",ft(w.info.main,.5)),oe(w.LinearProgress,"successBg",ft(w.success.main,.5)),oe(w.LinearProgress,"warningBg",ft(w.warning.main,.5)),oe(w.Skeleton,"bg",`rgba(${P("palette-text-primaryChannel")} / 0.13)`),oe(w.Slider,"primaryTrack",ft(w.primary.main,.5)),oe(w.Slider,"secondaryTrack",ft(w.secondary.main,.5)),oe(w.Slider,"errorTrack",ft(w.error.main,.5)),oe(w.Slider,"infoTrack",ft(w.info.main,.5)),oe(w.Slider,"successTrack",ft(w.success.main,.5)),oe(w.Slider,"warningTrack",ft(w.warning.main,.5));const x=xm(w.background.default,.98);oe(w.SnackbarContent,"bg",x),oe(w.SnackbarContent,"color",Mi(()=>w.getContrastText(x))),oe(w.SpeedDialAction,"fabHoverBg",xm(w.background.paper,.15)),oe(w.StepConnector,"border",P("palette-grey-600")),oe(w.StepContent,"border",P("palette-grey-600")),oe(w.Switch,"defaultColor",P("palette-grey-300")),oe(w.Switch,"defaultDisabledColor",P("palette-grey-600")),oe(w.Switch,"primaryDisabledColor",ft(w.primary.main,.55)),oe(w.Switch,"secondaryDisabledColor",ft(w.secondary.main,.55)),oe(w.Switch,"errorDisabledColor",ft(w.error.main,.55)),oe(w.Switch,"infoDisabledColor",ft(w.info.main,.55)),oe(w.Switch,"successDisabledColor",ft(w.success.main,.55)),oe(w.Switch,"warningDisabledColor",ft(w.warning.main,.55)),oe(w.TableCell,"border",ft(Om(w.divider,1),.68)),oe(w.Tooltip,"bg",Om(w.grey[700],.92))}Cs(w.background,"default"),Cs(w.background,"paper"),Cs(w.common,"background"),Cs(w.common,"onBackground"),Cs(w,"divider"),Object.keys(w).forEach(x=>{const D=w[x];x!=="tonalOffset"&&D&&typeof D=="object"&&(D.main&&oe(w[x],"mainChannel",Cd(Pd(D.main))),D.light&&oe(w[x],"lightChannel",Cd(Pd(D.light))),D.dark&&oe(w[x],"darkChannel",Cd(Pd(D.dark))),D.contrastText&&oe(w[x],"contrastTextChannel",Cd(Pd(D.contrastText))),x==="text"&&(Cs(w[x],"primary"),Cs(w[x],"secondary")),x==="action"&&(D.active&&Cs(w[x],"active"),D.selected&&Cs(w[x],"selected")))})}),$=e.reduce((R,w)=>xr(R,w),$);const j={prefix:o,disableCssColorScheme:i,shouldSkipGeneratingVar:u,getSelector:ZK($)},{vars:H,generateThemeVars:M,generateStyleSheets:C}=SK($,j);return $.vars=H,Object.entries($.colorSchemes[$.defaultColorScheme]).forEach(([R,w])=>{$[R]=w}),$.generateThemeVars=M,$.generateStyleSheets=C,$.generateSpacing=function(){return r2(f.spacing,tT(this))},$.getColorSchemeSelector=AK(h),$.spacing=$.generateSpacing(),$.shouldSkipGeneratingVar=u,$.unstable_sxConfig={...Wy,...f==null?void 0:f.unstable_sxConfig},$.unstable_sx=function(w){return Tc({sx:w,theme:this})},$.toRuntimeSource=c2,$}function WC(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:uT({...t===!0?{}:t.palette,mode:e})})}function iW(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:o=t==null?void 0:t.mode,...u}=n,h=o||"light",d=i==null?void 0:i[h],f={...i,...t?{[h]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return WE(n,...e);let g=t;"palette"in n||f[h]&&(f[h]!==!0?g=f[h].palette:h==="dark"&&(g={mode:"dark"}));const _=WE({...n,palette:g},...e);return _.defaultColorScheme=h,_.colorSchemes=f,_.palette.mode==="light"&&(_.colorSchemes.light={...f.light!==!0&&f.light,palette:_.palette},WC(_,"dark",f.dark)),_.palette.mode==="dark"&&(_.colorSchemes.dark={...f.dark!==!0&&f.dark,palette:_.palette},WC(_,"light",f.light)),_}return!t&&!("light"in f)&&h==="light"&&(f.light=!0),rW({...u,colorSchemes:f,defaultColorScheme:h,...typeof r!="boolean"&&r},...e)}const sW=iW(),aW="$$material";function f2(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const oW=n=>f2(n)&&n!=="classes",Yf=oK({themeId:aW,defaultTheme:sW,rootShouldForwardProp:oW}),cT=EK;function p2(n){return vK(n)}function lW(n){return Jb("MuiSvgIcon",n)}qN("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const uW=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${oo(e)}`,`fontSize${oo(t)}`]};return FN(i,lW,r)},cW=Yf("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${oo(t.color)}`],e[`fontSize${oo(t.fontSize)}`]]}})(cT(({theme:n})=>{var e,t,r,i,o,u,h,d,f,g,_,v,b,T;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(e=n.transitions)==null?void 0:e.create)==null?void 0:i.call(e,"fill",{duration:(r=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:r.shorter}),variants:[{props:I=>!I.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((u=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:u.call(o,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((d=(h=n.typography)==null?void 0:h.pxToRem)==null?void 0:d.call(h,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((g=(f=n.typography)==null?void 0:f.pxToRem)==null?void 0:g.call(f,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,I])=>I&&I.main).map(([I])=>{var O,L;return{props:{color:I},style:{color:(L=(O=(n.vars??n).palette)==null?void 0:O[I])==null?void 0:L.main}}}),{props:{color:"action"},style:{color:(v=(_=(n.vars??n).palette)==null?void 0:_.action)==null?void 0:v.active}},{props:{color:"disabled"},style:{color:(T=(b=(n.vars??n).palette)==null?void 0:b.action)==null?void 0:T.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),QE=W.forwardRef(function(e,t){const r=p2({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:u="inherit",component:h="svg",fontSize:d="medium",htmlColor:f,inheritViewBox:g=!1,titleAccess:_,viewBox:v="0 0 24 24",...b}=r,T=W.isValidElement(i)&&i.type==="svg",I={...r,color:u,component:h,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:g,viewBox:v,hasSvgAsChild:T},O={};g||(O.viewBox=v);const L=uW(I);return q.jsxs(cW,{as:h,className:zd(L.root,o),focusable:"false",color:f,"aria-hidden":_?void 0:!0,role:_?"img":void 0,ref:t,...O,...b,...T&&i.props,ownerState:I,children:[T?i.props.children:i,_?q.jsx("title",{children:_}):null]})});QE.muiName="SvgIcon";function m2(n,e){function t(r,i){return q.jsx(QE,{"data-testid":`${e}Icon`,ref:i,...r,children:n})}return t.muiName=QE.muiName,W.memo(W.forwardRef(t))}const hW=m2(q.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),dW=m2(q.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function fW(n){return Jb("MuiRating",n)}const _d=qN("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function pW(n){const e=n.toString().split(".")[1];return e?e.length:0}function B0(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(pW(e)))}const mW=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:o,focusVisible:u}=n,h={root:["root",`size${oo(t)}`,i&&"disabled",u&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[o&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return FN(h,fW,e)},gW=Yf("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${_d.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${oo(t.size)}`],t.readOnly&&e.readOnly]}})(cT(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${_d.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${_d.focusVisible} .${_d.iconActive}`]:{outline:"1px solid #999"},[`& .${_d.visuallyHidden}`]:J8,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),g2=Yf("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),yW=Yf("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(cT(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),_W=Yf("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>f2(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function vW(n){const{value:e,...t}=n;return q.jsx("span",{...t})}function QC(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:o,highlightSelectedOnly:u,hover:h,icon:d,IconContainerComponent:f,isActive:g,itemValue:_,labelProps:v,name:b,onBlur:T,onChange:I,onClick:O,onFocus:L,readOnly:V,ownerState:U,ratingValue:$,ratingValueRounded:j}=n,H=u?_===$:_<=$,M=_<=h,C=_<=i,R=_===j,w=`${b}-${zN()}`,P=q.jsx(yW,{as:f,value:_,className:zd(e.icon,H?e.iconFilled:e.iconEmpty,M&&e.iconHover,C&&e.iconFocus,g&&e.iconActive),ownerState:{...U,iconEmpty:!H,iconFilled:H,iconHover:M,iconFocus:C,iconActive:g},children:r&&!H?r:d});return V?q.jsx("span",{...v,children:P}):q.jsxs(W.Fragment,{children:[q.jsxs(g2,{ownerState:{...U,emptyValueFocused:void 0},htmlFor:w,...v,children:[P,q.jsx("span",{className:e.visuallyHidden,children:o(_)})]}),q.jsx("input",{className:e.visuallyHidden,onFocus:L,onBlur:T,onChange:I,onClick:O,disabled:t,value:_,id:w,type:"radio",name:b,checked:R})]})}const EW=q.jsx(hW,{fontSize:"inherit"}),wW=q.jsx(dW,{fontSize:"inherit"});function bW(n){return`${n||"0"} Star${n!==1?"s":""}`}const TW=W.forwardRef(function(e,t){const r=p2({name:"MuiRating",props:e}),{component:i="span",className:o,defaultValue:u=null,disabled:h=!1,emptyIcon:d=wW,emptyLabelText:f="Empty",getLabelText:g=bW,highlightSelectedOnly:_=!1,icon:v=EW,IconContainerComponent:b=vW,max:T=5,name:I,onChange:O,onChangeActive:L,onMouseLeave:V,onMouseMove:U,precision:$=1,readOnly:j=!1,size:H="medium",value:M,...C}=r,R=zN(I),[w,P]=a7({controlled:M,default:u,name:"Rating"}),x=B0(w,$),D=e7(),[{hover:te,focus:F},ee]=W.useState({hover:-1,focus:-1});let ie=x;te!==-1&&(ie=te),F!==-1&&(ie=F);const[ue,Te]=W.useState(!1),z=W.useRef(),ae=o7(z,t),we=Je=>{U&&U(Je);const at=z.current,{right:Jt,left:mr,width:Ln}=at.getBoundingClientRect();let Nr;D?Nr=(Jt-Je.clientX)/Ln:Nr=(Je.clientX-mr)/Ln;let Un=B0(T*Nr+$/2,$);Un=UN(Un,$,T),ee(sr=>sr.hover===Un&&sr.focus===Un?sr:{hover:Un,focus:Un}),Te(!1),L&&te!==Un&&L(Je,Un)},ve=Je=>{V&&V(Je);const at=-1;ee({hover:at,focus:at}),L&&te!==at&&L(Je,at)},ye=Je=>{let at=Je.target.value===""?null:parseFloat(Je.target.value);te!==-1&&(at=te),P(at),O&&O(Je,at)},xe=Je=>{Je.clientX===0&&Je.clientY===0||(ee({hover:-1,focus:-1}),P(null),O&&parseFloat(Je.target.value)===x&&O(Je,null))},De=Je=>{TC(Je.target)&&Te(!0);const at=parseFloat(Je.target.value);ee(Jt=>({hover:Jt.hover,focus:at}))},Ct=Je=>{if(te!==-1)return;TC(Je.target)||Te(!1);const at=-1;ee(Jt=>({hover:Jt.hover,focus:at}))},[ze,_t]=W.useState(!1),$e={...r,component:i,defaultValue:u,disabled:h,emptyIcon:d,emptyLabelText:f,emptyValueFocused:ze,focusVisible:ue,getLabelText:g,icon:v,IconContainerComponent:b,max:T,precision:$,readOnly:j,size:H},Et=mW($e);return q.jsxs(gW,{as:i,ref:ae,onMouseMove:we,onMouseLeave:ve,className:zd(Et.root,o,j&&"MuiRating-readOnly"),ownerState:$e,role:j?"img":null,"aria-label":j?g(ie):null,...C,children:[Array.from(new Array(T)).map((Je,at)=>{const Jt=at+1,mr={classes:Et,disabled:h,emptyIcon:d,focus:F,getLabelText:g,highlightSelectedOnly:_,hover:te,icon:v,IconContainerComponent:b,name:R,onBlur:Ct,onChange:ye,onClick:xe,onFocus:De,ratingValue:ie,ratingValueRounded:x,readOnly:j,ownerState:$e},Ln=Jt===Math.ceil(ie)&&(te!==-1||F!==-1);if($<1){const Nr=Array.from(new Array(1/$));return q.jsx(_W,{className:zd(Et.decimal,Ln&&Et.iconActive),ownerState:$e,iconActive:Ln,children:Nr.map((Un,sr)=>{const ii=B0(Jt-1+(sr+1)*$,$);return q.jsx(QC,{...mr,isActive:!1,itemValue:ii,labelProps:{style:Nr.length-1===sr?{}:{width:ii===ie?`${(sr+1)*$*100}%`:"0%",overflow:"hidden",position:"absolute"}}},ii)})},Jt)}return q.jsx(QC,{...mr,isActive:Ln,itemValue:Jt},Jt)}),!j&&!h&&q.jsxs(g2,{className:zd(Et.label,Et.labelEmptyValue),ownerState:$e,children:[q.jsx("input",{className:Et.visuallyHidden,value:"",id:`${R}-empty`,type:"radio",name:R,checked:x==null,onFocus:()=>_t(!0),onBlur:()=>_t(!1),onChange:ye}),q.jsx("span",{className:Et.visuallyHidden,children:f})]})]})});var sg={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */var SW=sg.exports,YC;function AW(){return YC||(YC=1,function(n){(function(e,t){n.exports?n.exports=t():e.numeral=t()})(SW,function(){var e,t,r="2.0.6",i={},o={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},h={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function d(f,g){this._input=f,this._value=g}return e=function(f){var g,_,v,b;if(e.isNumeral(f))g=f.value();else if(f===0||typeof f>"u")g=0;else if(f===null||t.isNaN(f))g=null;else if(typeof f=="string")if(h.zeroFormat&&f===h.zeroFormat)g=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)g=null;else{for(_ in i)if(b=typeof i[_].regexps.unformat=="function"?i[_].regexps.unformat():i[_].regexps.unformat,b&&f.match(b)){v=i[_].unformat;break}v=v||e._.stringToNumber,g=v(f)}else g=Number(f)||null;return new d(f,g)},e.version=r,e.isNumeral=function(f){return f instanceof d},e._=t={numberToFormat:function(f,g,_){var v=o[e.options.currentLocale],b=!1,T=!1,I=0,O="",L=1e12,V=1e9,U=1e6,$=1e3,j="",H=!1,M,C,R,w,P,x,D;if(f=f||0,C=Math.abs(f),e._.includes(g,"(")?(b=!0,g=g.replace(/[\(|\)]/g,"")):(e._.includes(g,"+")||e._.includes(g,"-"))&&(P=e._.includes(g,"+")?g.indexOf("+"):f<0?g.indexOf("-"):-1,g=g.replace(/[\+|\-]/g,"")),e._.includes(g,"a")&&(M=g.match(/a(k|m|b|t)?/),M=M?M[1]:!1,e._.includes(g," a")&&(O=" "),g=g.replace(new RegExp(O+"a[kmbt]?"),""),C>=L&&!M||M==="t"?(O+=v.abbreviations.trillion,f=f/L):C<L&&C>=V&&!M||M==="b"?(O+=v.abbreviations.billion,f=f/V):C<V&&C>=U&&!M||M==="m"?(O+=v.abbreviations.million,f=f/U):(C<U&&C>=$&&!M||M==="k")&&(O+=v.abbreviations.thousand,f=f/$)),e._.includes(g,"[.]")&&(T=!0,g=g.replace("[.]",".")),R=f.toString().split(".")[0],w=g.split(".")[1],x=g.indexOf(","),I=(g.split(".")[0].split(",")[0].match(/0/g)||[]).length,w?(e._.includes(w,"[")?(w=w.replace("]",""),w=w.split("["),j=e._.toFixed(f,w[0].length+w[1].length,_,w[1].length)):j=e._.toFixed(f,w.length,_),R=j.split(".")[0],e._.includes(j,".")?j=v.delimiters.decimal+j.split(".")[1]:j="",T&&Number(j.slice(1))===0&&(j="")):R=e._.toFixed(f,0,_),O&&!M&&Number(R)>=1e3&&O!==v.abbreviations.trillion)switch(R=String(Number(R)/1e3),O){case v.abbreviations.thousand:O=v.abbreviations.million;break;case v.abbreviations.million:O=v.abbreviations.billion;break;case v.abbreviations.billion:O=v.abbreviations.trillion;break}if(e._.includes(R,"-")&&(R=R.slice(1),H=!0),R.length<I)for(var te=I-R.length;te>0;te--)R="0"+R;return x>-1&&(R=R.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+v.delimiters.thousands)),g.indexOf(".")===0&&(R=""),D=R+j+(O||""),b?D=(b&&H?"(":"")+D+(b&&H?")":""):P>=0?D=P===0?(H?"-":"+")+D:D+(H?"-":"+"):H&&(D="-"+D),D},stringToNumber:function(f){var g=o[h.currentLocale],_=f,v={thousand:3,million:6,billion:9,trillion:12},b,T,I;if(h.zeroFormat&&f===h.zeroFormat)T=0;else if(h.nullFormat&&f===h.nullFormat||!f.replace(/[^0-9]+/g,"").length)T=null;else{T=1,g.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(g.delimiters.decimal,"."));for(b in v)if(I=new RegExp("[^a-zA-Z]"+g.abbreviations[b]+"(?:\\)|(\\"+g.currency.symbol+")?(?:\\))?)?$"),_.match(I)){T*=Math.pow(10,v[b]);break}T*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),T*=Number(f)}return T},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,g){return f.indexOf(g)!==-1},insert:function(f,g,_){return f.slice(0,_)+g+f.slice(_)},reduce:function(f,g){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof g!="function")throw new TypeError(g+" is not a function");var _=Object(f),v=_.length>>>0,b=0,T;if(arguments.length===3)T=arguments[2];else{for(;b<v&&!(b in _);)b++;if(b>=v)throw new TypeError("Reduce of empty array with no initial value");T=_[b++]}for(;b<v;b++)b in _&&(T=g(T,_[b],b,_));return T},multiplier:function(f){var g=f.toString().split(".");return g.length<2?1:Math.pow(10,g[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(g,_){var v=t.multiplier(_);return g>v?g:v},1)},toFixed:function(f,g,_,v){var b=f.toString().split("."),T=g-(v||0),I,O,L,V;return b.length===2?I=Math.min(Math.max(b[1].length,T),g):I=T,L=Math.pow(10,I),V=(_(f+"e+"+I)/L).toFixed(I),v>g-I&&(O=new RegExp("\\.?0{1,"+(v-(g-I))+"}$"),V=V.replace(O,"")),V}},e.options=h,e.formats=i,e.locales=o,e.locale=function(f){return f&&(h.currentLocale=f.toLowerCase()),h.currentLocale},e.localeData=function(f){if(!f)return o[h.currentLocale];if(f=f.toLowerCase(),!o[f])throw new Error("Unknown locale : "+f);return o[f]},e.reset=function(){for(var f in u)h[f]=u[f]},e.zeroFormat=function(f){h.zeroFormat=typeof f=="string"?f:null},e.nullFormat=function(f){h.nullFormat=typeof f=="string"?f:null},e.defaultFormat=function(f){h.defaultFormat=typeof f=="string"?f:"0.0"},e.register=function(f,g,_){if(g=g.toLowerCase(),this[f+"s"][g])throw new TypeError(g+" "+f+" already registered.");return this[f+"s"][g]=_,_},e.validate=function(f,g){var _,v,b,T,I,O,L,V;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{L=e.localeData(g)}catch{L=e.localeData(e.locale())}return b=L.currency.symbol,I=L.abbreviations,_=L.delimiters.decimal,L.delimiters.thousands==="."?v="\\.":v=L.delimiters.thousands,V=f.match(/^[^\d]+/),V!==null&&(f=f.substr(1),V[0]!==b)||(V=f.match(/[^\d]+$/),V!==null&&(f=f.slice(0,-1),V[0]!==I.thousand&&V[0]!==I.million&&V[0]!==I.billion&&V[0]!==I.trillion))?!1:(O=new RegExp(v+"{2}"),f.match(/[^\d.,]/g)?!1:(T=f.split(_),T.length>2?!1:T.length<2?!!T[0].match(/^\d+.*\d$/)&&!T[0].match(O):T[0].length===1?!!T[0].match(/^\d+$/)&&!T[0].match(O)&&!!T[1].match(/^\d+$/):!!T[0].match(/^\d+.*\d$/)&&!T[0].match(O)&&!!T[1].match(/^\d+$/)))},e.fn=d.prototype={clone:function(){return e(this)},format:function(f,g){var _=this._value,v=f||h.defaultFormat,b,T,I;if(g=g||Math.round,_===0&&h.zeroFormat!==null)T=h.zeroFormat;else if(_===null&&h.nullFormat!==null)T=h.nullFormat;else{for(b in i)if(v.match(i[b].regexps.format)){I=i[b].format;break}I=I||e._.numberToFormat,T=I(_,v,g)}return T},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,b,T,I){return v+Math.round(g*b)}return this._value=t.reduce([this._value,f],_,0)/g,this},subtract:function(f){var g=t.correctionFactor.call(null,this._value,f);function _(v,b,T,I){return v-Math.round(g*b)}return this._value=t.reduce([f],_,Math.round(this._value*g))/g,this},multiply:function(f){function g(_,v,b,T){var I=t.correctionFactor(_,v);return Math.round(_*I)*Math.round(v*I)/Math.round(I*I)}return this._value=t.reduce([this._value,f],g,1),this},divide:function(f){function g(_,v,b,T){var I=t.correctionFactor(_,v);return Math.round(_*I)/Math.round(v*I)}return this._value=t.reduce([this._value,f],g),this},difference:function(f){return Math.abs(e(this._value).subtract(f).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var g=f%10;return~~(f%100/10)===1?"th":g===1?"st":g===2?"nd":g===3?"rd":"th"},currency:{symbol:"$"}}),function(){e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,g,_){var v=e._.includes(g," BPS")?" ":"",b;return f=f*1e4,g=g.replace(/\s?BPS/,""),b=e._.numberToFormat(f,g,_),e._.includes(b,")")?(b=b.split(""),b.splice(-1,0,v+"BPS"),b=b.join("")):b=b+v+"BPS",b},unformat:function(f){return+(e._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},g={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},_=f.suffixes.concat(g.suffixes.filter(function(b){return f.suffixes.indexOf(b)<0})),v=_.join("|");v="("+v.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(v)},format:function(b,T,I){var O,L=e._.includes(T,"ib")?g:f,V=e._.includes(T," b")||e._.includes(T," ib")?" ":"",U,$,j;for(T=T.replace(/\s?i?b/,""),U=0;U<=L.suffixes.length;U++)if($=Math.pow(L.base,U),j=Math.pow(L.base,U+1),b===null||b===0||b>=$&&b<j){V+=L.suffixes[U],$>0&&(b=b/$);break}return O=e._.numberToFormat(b,T,I),O+V},unformat:function(b){var T=e._.stringToNumber(b),I,O;if(T){for(I=f.suffixes.length-1;I>=0;I--){if(e._.includes(b,f.suffixes[I])){O=Math.pow(f.base,I);break}if(e._.includes(b,g.suffixes[I])){O=Math.pow(g.base,I);break}}T*=O||1}return T}})}(),function(){e.register("format","currency",{regexps:{format:/(\$)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],b={before:g.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:g.match(/([\+|\-|\)|\s|\$]*)$/)[0]},T,I,O;for(g=g.replace(/\s?\$\s?/,""),T=e._.numberToFormat(f,g,_),f>=0?(b.before=b.before.replace(/[\-\(]/,""),b.after=b.after.replace(/[\-\)]/,"")):f<0&&!e._.includes(b.before,"-")&&!e._.includes(b.before,"(")&&(b.before="-"+b.before),O=0;O<b.before.length;O++)switch(I=b.before[O],I){case"$":T=e._.insert(T,v.currency.symbol,O);break;case" ":T=e._.insert(T," ",O+v.currency.symbol.length-1);break}for(O=b.after.length-1;O>=0;O--)switch(I=b.after[O],I){case"$":T=O===b.after.length-1?T+v.currency.symbol:e._.insert(T,v.currency.symbol,-(b.after.length-(1+O)));break;case" ":T=O===b.after.length-1?T+" ":e._.insert(T," ",-(b.after.length-(1+O)+v.currency.symbol.length-1));break}return T}})}(),function(){e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,g,_){var v,b=typeof f=="number"&&!e._.isNaN(f)?f.toExponential():"0e+0",T=b.split("e");return g=g.replace(/e[\+|\-]{1}0/,""),v=e._.numberToFormat(Number(T[0]),g,_),v+"e"+T[1]},unformat:function(f){var g=e._.includes(f,"e+")?f.split("e+"):f.split("e-"),_=Number(g[0]),v=Number(g[1]);v=e._.includes(f,"e-")?v*=-1:v;function b(T,I,O,L){var V=e._.correctionFactor(T,I),U=T*V*(I*V)/(V*V);return U}return e._.reduce([_,Math.pow(10,v)],b,1)}})}(),function(){e.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,g,_){var v=e.locales[e.options.currentLocale],b,T=e._.includes(g," o")?" ":"";return g=g.replace(/\s?o/,""),T+=v.ordinal(f),b=e._.numberToFormat(f,g,_),b+T}})}(),function(){e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,g,_){var v=e._.includes(g," %")?" ":"",b;return e.options.scalePercentBy100&&(f=f*100),g=g.replace(/\s?\%/,""),b=e._.numberToFormat(f,g,_),e._.includes(b,")")?(b=b.split(""),b.splice(-1,0,v+"%"),b=b.join("")):b=b+v+"%",b},unformat:function(f){var g=e._.stringToNumber(f);return e.options.scalePercentBy100?g*.01:g}})}(),function(){e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,g,_){var v=Math.floor(f/60/60),b=Math.floor((f-v*60*60)/60),T=Math.round(f-v*60*60-b*60);return v+":"+(b<10?"0"+b:b)+":"+(T<10?"0"+T:T)},unformat:function(f){var g=f.split(":"),_=0;return g.length===3?(_=_+Number(g[0])*60*60,_=_+Number(g[1])*60,_=_+Number(g[2])):g.length===2&&(_=_+Number(g[0])*60,_=_+Number(g[1])),Number(_)}})}(),e})}(sg)),sg.exports}var IW=AW();const RW=JE(IW),hT=({amount:n})=>{const e=RW(n).format("$0,0.00");return q.jsx("div",{children:e})},Zr={ADD_TO_BASKET:"ADD_TO_BASKET",REMOVE_FROM_BASKET:"REMOVE_FROM_BASKET",SET_USER:"SET_USER",EMPTY_BASKET:"EMPTY_BASKET"};function Hc({product:n,flex:e,renderDesc:t,renderAdd:r}){const{title:i,image:o,rating:u={},price:h,id:d,description:f}=n,{rate:g=0,count:_=0}=u,v=W.useContext(Hs);console.log("Context in ProductCard:",v);const b=Array.isArray(v)&&v.length>=2?v[1]:null,T=()=>{b&&(console.log("Dispatching ADD_TO_BASKET with item:",{title:i,image:o,rating:u,price:h,id:d,description:f}),b({type:Zr.ADD_TO_BASKET,item:{title:i,image:o,rating:u,price:h,id:d,description:f}}))};return q.jsxs("div",{className:`${Rd.card_container} ${e?Rd.product_flexed:""}`,children:[q.jsx(fi,{to:`/Products/${d}`,children:q.jsx("img",{src:o,alt:i||"Products image"})}),q.jsxs("div",{children:[q.jsx("h3",{children:i||"No title available"}),t&&q.jsxs("p",{children:[" ",f||"No description available"]}),q.jsxs("div",{className:Rd.rating,children:[q.jsx(TW,{value:g,precision:.1}),q.jsxs("small",{children:[_," reviews"]})]})]}),q.jsxs("div",{children:[q.jsx(hT,{amount:h||0}),r&&q.jsx("button",{className:Rd.button,onClick:T,children:"Add to cart"})]})]})}function CW(){const[n,e]=W.useState([]),[t,r]=W.useState(!1);return W.useEffect(()=>{r(!0),Rt.get("https://fakestoreapi.com/products").then(i=>{e(i.data),r(!1)}).catch(i=>{console.log(i),r(!1)})},[]),q.jsx(q.Fragment,{children:t?q.jsx(VN,{}):q.jsx("section",{className:Rd.products_container,children:n.map(i=>q.jsx(Hc,{renderAdd:!0,product:i},i.id))})})}function PW(){return q.jsxs(Bc,{children:[q.jsx(r$,{}),q.jsx(u$,{}),q.jsx(CW,{})]})}const OW="_login_1ywzq_1",xW="_login_container_1ywzq_23",DW="_login_signInButton_1ywzq_251",kW="_login_registerButton_1ywzq_289",Dm={login:OW,login_container:xW,login_signInButton:DW,login_registerButton:kW};function NW(){var b,T;const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(""),[{user:u},h]=W.useContext(Hs),d=co(),f=Gg(),[g,_]=W.useState({signIn:!1,signUp:!1}),v=async I=>{I.preventDefault(),I.nativeEvent.submitter.name==="signin"?(_({...g,signIn:!0}),ck(Ug,n,t).then(L=>{var V;h({type:Zr.SET_USER,user:L.user}),_({...g,signIn:!1}),f(((V=d==null?void 0:d.state)==null?void 0:V.redirect)||"/")}).catch(L=>{o(L.message),_({...g,signIn:!1})})):(_({...g,signUp:!0}),uk(Ug,n,t).then(L=>{var V;h({type:Zr.SET_USER,user:L.user}),_({...g,signUp:!1}),f(((V=d==null?void 0:d.state)==null?void 0:V.redirect)||"/")}).catch(L=>{o(L.message),_({...g,signUp:!1})}))};return q.jsxs("section",{className:Dm.login,children:[q.jsx(fi,{to:"/",children:q.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png",alt:"Amazon Logo"})}),q.jsxs("div",{className:Dm.login_container,children:[q.jsx("h1",{children:"Sign In"}),((b=d==null?void 0:d.state)==null?void 0:b.msg)&&q.jsx("small",{style:{padding:"5px",textAlign:"center",color:"red",fontWeight:"bold"},children:(T=d==null?void 0:d.state)==null?void 0:T.msg}),q.jsxs("form",{onSubmit:v,children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:"email",children:"Email"}),q.jsx("input",{value:n,onChange:I=>e(I.target.value),type:"email",id:"email"})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"password",children:"Password"}),q.jsx("input",{value:t,onChange:I=>r(I.target.value),type:"password",id:"password"})]}),q.jsx("button",{type:"submit",name:"signin",className:Dm.login_signInButton,children:g.signIn?q.jsx(jE,{color:"#000",size:15}):"Sign In"}),q.jsx("button",{type:"submit",name:"signup",className:Dm.login_registerButton,children:g.signUp?q.jsx(jE,{color:"#000",size:15}):"Create your Amazon Account"})]}),q.jsx("p",{children:"By signing in, you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice, and our Interest-Based Ads Notice."}),i&&q.jsx("small",{style:{paddingTop:"5px",color:"red"},children:i})]})]})}const MW="_payment__header_6vwt0_133",VW="_payment_6vwt0_15",LW="_flex_6vwt0_23",UW="_payment_card_container_6vwt0_55",FW="_CardElement_6vwt0_253",BW="_payment__price_6vwt0_65",jW="_payment__details_6vwt0_303",zW="_loading_6vwt0_107",Vi={payment__header:MW,payment:VW,flex:LW,payment_card_container:UW,CardElement:FW,payment__price:BW,payment__details:jW,loading:zW};function XC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function JC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(t),!0).forEach(function(r){y2(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XC(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function ag(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ag=function(e){return typeof e}:ag=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(n)}function y2(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _2(n,e){return qW(n)||HW(n,e)||$W(n,e)||GW()}function qW(n){if(Array.isArray(n))return n}function HW(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var r=[],i=!0,o=!1,u,h;try{for(t=t.call(n);!(i=(u=t.next()).done)&&(r.push(u.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,h=d}finally{try{!i&&t.return!=null&&t.return()}finally{if(o)throw h}}return r}}function $W(n,e){if(n){if(typeof n=="string")return ZC(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ZC(n,e)}}function ZC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function GW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Sr=function(e,t,r){var i=!!r,o=Ke.useRef(r);Ke.useEffect(function(){o.current=r},[r]),Ke.useEffect(function(){if(!i||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[i,t,e,o])},YE=function(e){var t=Ke.useRef(e);return Ke.useEffect(function(){t.current=e},[e]),t.current},Ac=function(e){return e!==null&&ag(e)==="object"},KW=function(e){return Ac(e)&&typeof e.then=="function"},WW=function(e){return Ac(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},eP="[object Object]",QW=function n(e,t){if(!Ac(e)||!Ac(t))return e===t;var r=Array.isArray(e),i=Array.isArray(t);if(r!==i)return!1;var o=Object.prototype.toString.call(e)===eP,u=Object.prototype.toString.call(t)===eP;if(o!==u)return!1;if(!o&&!r)return e===t;var h=Object.keys(e),d=Object.keys(t);if(h.length!==d.length)return!1;for(var f={},g=0;g<h.length;g+=1)f[h[g]]=!0;for(var _=0;_<d.length;_+=1)f[d[_]]=!0;var v=Object.keys(f);if(v.length!==h.length)return!1;var b=e,T=t,I=function(L){return n(b[L],T[L])};return v.every(I)},v2=function(e,t,r){return Ac(e)?Object.keys(e).reduce(function(i,o){var u=!Ac(t)||!QW(e[o],t[o]);return r.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?JC(JC({},i||{}),{},y2({},o,e[o])):i},null):null},E2="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",tP=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E2;if(e===null||WW(e))return e;throw new Error(t)},YW=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E2;if(KW(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(i){return tP(i,t)})};var r=tP(e,t);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},XW=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.3.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.3.0",url:"https://stripe.com/docs/stripe-js/react"}))},Zy=Ke.createContext(null);Zy.displayName="ElementsContext";var w2=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},b2=function(e){var t=e.stripe,r=e.options,i=e.children,o=Ke.useMemo(function(){return YW(t)},[t]),u=Ke.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(r):null}}),h=_2(u,2),d=h[0],f=h[1];Ke.useEffect(function(){var v=!0,b=function(I){f(function(O){return O.stripe?O:{stripe:I,elements:I.elements(r)}})};return o.tag==="async"&&!d.stripe?o.stripePromise.then(function(T){T&&v&&b(T)}):o.tag==="sync"&&!d.stripe&&b(o.stripe),function(){v=!1}},[o,d,r]);var g=YE(t);Ke.useEffect(function(){g!==null&&g!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[g,t]);var _=YE(r);return Ke.useEffect(function(){if(d.elements){var v=v2(r,_,["clientSecret","fonts"]);v&&d.elements.update(v)}},[r,_,d.elements]),Ke.useEffect(function(){XW(d.stripe)},[d.stripe]),Ke.createElement(Zy.Provider,{value:d},i)};b2.propTypes={stripe:Dt.any,options:Dt.object};var JW=function(e){var t=Ke.useContext(Zy);return w2(t,e)},ZW=function(){var e=JW("calls useElements()"),t=e.elements;return t};Dt.func.isRequired;var T2=Ke.createContext(null);T2.displayName="CheckoutSdkContext";var eQ=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},tQ=Ke.createContext(null);tQ.displayName="CheckoutContext";Dt.any,Dt.shape({clientSecret:Dt.string.isRequired,elementsOptions:Dt.object}).isRequired;var XE=function(e){var t=Ke.useContext(T2),r=Ke.useContext(Zy);if(t&&r)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?eQ(t,e):w2(r,e)},nQ=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},an=function(e,t){var r="".concat(nQ(e),"Element"),i=function(d){var f=d.id,g=d.className,_=d.options,v=_===void 0?{}:_,b=d.onBlur,T=d.onFocus,I=d.onReady,O=d.onChange,L=d.onEscape,V=d.onClick,U=d.onLoadError,$=d.onLoaderStart,j=d.onNetworksChange,H=d.onConfirm,M=d.onCancel,C=d.onShippingAddressChange,R=d.onShippingRateChange,w=XE("mounts <".concat(r,">")),P="elements"in w?w.elements:null,x="checkoutSdk"in w?w.checkoutSdk:null,D=Ke.useState(null),te=_2(D,2),F=te[0],ee=te[1],ie=Ke.useRef(null),ue=Ke.useRef(null);Sr(F,"blur",b),Sr(F,"focus",T),Sr(F,"escape",L),Sr(F,"click",V),Sr(F,"loaderror",U),Sr(F,"loaderstart",$),Sr(F,"networkschange",j),Sr(F,"confirm",H),Sr(F,"cancel",M),Sr(F,"shippingaddresschange",C),Sr(F,"shippingratechange",R),Sr(F,"change",O);var Te;I&&(e==="expressCheckout"?Te=I:Te=function(){I(F)}),Sr(F,"ready",Te),Ke.useLayoutEffect(function(){if(ie.current===null&&ue.current!==null&&(P||x)){var ae=null;x?ae=x.createElement(e,v):P&&(ae=P.create(e,v)),ie.current=ae,ee(ae),ae&&ae.mount(ue.current)}},[P,x,v]);var z=YE(v);return Ke.useEffect(function(){if(ie.current){var ae=v2(v,z,["paymentRequest"]);ae&&"update"in ie.current&&ie.current.update(ae)}},[v,z]),Ke.useLayoutEffect(function(){return function(){if(ie.current&&typeof ie.current.destroy=="function")try{ie.current.destroy(),ie.current=null}catch{}}},[]),Ke.createElement("div",{id:f,className:g,ref:ue})},o=function(d){XE("mounts <".concat(r,">"));var f=d.id,g=d.className;return Ke.createElement("div",{id:f,className:g})},u=t?o:i;return u.propTypes={id:Dt.string,className:Dt.string,onChange:Dt.func,onBlur:Dt.func,onFocus:Dt.func,onReady:Dt.func,onEscape:Dt.func,onClick:Dt.func,onLoadError:Dt.func,onLoaderStart:Dt.func,onNetworksChange:Dt.func,onConfirm:Dt.func,onCancel:Dt.func,onShippingAddressChange:Dt.func,onShippingRateChange:Dt.func,options:Dt.object},u.displayName=r,u.__elementType=e,u},on=typeof window>"u",rQ=Ke.createContext(null);rQ.displayName="EmbeddedCheckoutProviderContext";var iQ=function(){var e=XE("calls useStripe()"),t=e.stripe;return t};an("auBankAccount",on);var nP=an("card",on);an("cardNumber",on);an("cardExpiry",on);an("cardCvc",on);an("fpxBank",on);an("iban",on);an("idealBank",on);an("p24Bank",on);an("epsBank",on);an("payment",on);an("expressCheckout",on);an("currencySelector",on);an("paymentRequestButton",on);an("linkAuthentication",on);an("address",on);an("shippingAddress",on);an("paymentMethodMessaging",on);an("affirmMessage",on);an("afterpayClearpayMessage",on);const sQ=Rt.create({baseURL:"http://127.0.0.1:5001/clone-9fe1f/us-central1/api"});function aQ(){const[{user:n,basket:e},t]=W.useContext(Hs),r=Gg(),i=iQ(),o=ZW(),[u,h]=W.useState(null),[d,f]=W.useState(!1),g=e.reduce((T,I)=>I.price*I.amount+T,0),_=Array.isArray(e)?e.reduce((T,I)=>T+(I.amount||0),0):0,v=T=>{h(T.error?T.error.message:"")},b=async T=>{var I;T.preventDefault();try{f(!0);const L=(I=(await sQ.post("https://amazon-deploy-pcf5.onrender.com/api/payment/create",{total:Math.round(g*100)})).data)==null?void 0:I.clientSecret;if(!L)throw new Error("Client secret not received from the backend.");const{error:V,paymentIntent:U}=await i.confirmCardPayment(L,{payment_method:{card:o.getElement(nP)}});if(V){console.error("Payment failed:",V.message),h(V.message),f(!1);return}console.log("Payment successful:",U),await iN.collection("users").doc(n.uid).collection("orders").doc(U.id).set({basket:e,amount:U.amount,created:U.created}),t({type:Zr.EMPTY_BASKET}),r("/orders",{state:{msg:"You have placed an order"}})}catch(O){console.error("Error processing payment:",O.message),h(O.message)}f(!1)};return q.jsxs(Bc,{children:[q.jsxs("div",{className:Vi.payment__header,children:["Checkout (",_,") items"]}),q.jsxs("section",{className:Vi.payment,children:[q.jsxs("div",{className:Vi.flex,children:[q.jsx("h3",{children:"Delivery Address"}),q.jsxs("div",{children:[q.jsx("div",{children:n==null?void 0:n.email}),q.jsx("div",{children:"123 React Lane"}),q.jsx("div",{children:"Ethiopia, Addis Ababa"})]})]}),q.jsx("hr",{}),q.jsxs("div",{className:Vi.flex,children:[q.jsx("h3",{children:"Review items and delivery"}),q.jsx("div",{children:e==null?void 0:e.map(T=>q.jsx(Hc,{product:T,flex:!0},T.id))})]}),q.jsxs("div",{className:Vi.flex,children:[q.jsx("h3",{children:"Payment methods"}),q.jsx("div",{className:Vi.payment_card_container,children:q.jsx("div",{className:Vi.payment__details,children:q.jsxs("form",{onSubmit:b,children:[u&&q.jsx("small",{style:{color:"red"},children:u}),q.jsx(nP,{onChange:v,className:Vi.CardElement}),q.jsxs("div",{className:Vi.payment__price,children:[q.jsx("div",{children:q.jsxs("span",{style:{display:"flex",gap:"10px"},children:[q.jsx("p",{children:"Total order"})," | ",q.jsx(hT,{amount:g})]})}),q.jsx("button",{type:"submit",disabled:d,children:d?q.jsxs("div",{className:Vi.loading,children:[q.jsx(jE,{color:"gray",size:12}),q.jsx("p",{children:"Please Wait..."})]}):"Pay Now"})]})]})})})]})]})]})}const oQ="_container_11d2w_1",lQ="_cart_container_11d2w_11",uQ="_subtotal_11d2w_29",cQ="_cart_product_11d2w_53",hQ="_btn_container_11d2w_61",dQ="_btn_11d2w_61",Xo={container:oQ,cart_container:lQ,subtotal:uQ,cart_product:cQ,btn_container:hQ,btn:dQ};function fQ(n){return Rc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 294.1L383 167c9.4-9.4 24.6-9.4 33.9 0s9.3 24.6 0 34L273 345c-9.1 9.1-23.7 9.3-33.1.7L95 201.1c-4.7-4.7-7-10.9-7-17s2.3-12.3 7-17c9.4-9.4 24.6-9.4 33.9 0l127.1 127z"},child:[]}]})(n)}function pQ(n){return Rc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 217.9L383 345c9.4 9.4 24.6 9.4 33.9 0 9.4-9.4 9.3-24.6 0-34L273 167c-9.1-9.1-23.7-9.3-33.1-.7L95 310.9c-4.7 4.7-7 10.9-7 17s2.3 12.3 7 17c9.4 9.4 24.6 9.4 33.9 0l127.1-127z"},child:[]}]})(n)}function mQ(){const[{basket:n,user:e},t]=W.useContext(Hs),r=n.reduce((u,h)=>h.price*h.amount+u,0),i=u=>{t({type:Zr.ADD_TO_BASKET,item:u})},o=u=>{t({type:Zr.REMOVE_FROM_BASKET,id:u.id})};return q.jsx(Bc,{children:q.jsxs("section",{className:Xo.container,children:[q.jsxs("div",{className:Xo.cart_container,children:[q.jsx("h2",{children:"Hello"}),q.jsx("h3",{children:"Your shopping basket"}),q.jsx("hr",{}),(n==null?void 0:n.length)===0?q.jsx("p",{children:"Oops! No item in your cart"}):n==null?void 0:n.map((u,h)=>q.jsxs("section",{className:Xo.cart_product,children:[q.jsx(Hc,{product:u,renderDesc:!0,flex:!0,renderAdd:!1}),q.jsxs("div",{className:Xo.btn_container,children:[q.jsx("button",{className:Xo.btn,onClick:()=>i(u),children:q.jsx(pQ,{size:20})}),q.jsx("span",{children:u.amount}),q.jsx("button",{className:Xo.btn,onClick:()=>o(u),children:q.jsx(fQ,{size:20})})]})]},h))]}),(n==null?void 0:n.length)!==0&&q.jsxs("div",{className:Xo.subtotal,children:[q.jsxs("div",{children:[q.jsxs("p",{children:["Subtotal (",n==null?void 0:n.length," items)"]}),q.jsx(hT,{amount:r})]}),q.jsxs("span",{children:[q.jsx("input",{type:"checkbox"}),q.jsx("small",{children:"This order contains a gift"})]}),q.jsx(fi,{to:"/payment",children:"Continue to checkout"})]})]})})}const gQ="_container_smb6f_1",yQ="_orders_container_smb6f_21",rP={container:gQ,orders_container:yQ};function _Q(){const[{user:n}]=W.useContext(Hs),[e,t]=W.useState([]);return W.useEffect(()=>{if(n)return iN.collection("users").doc(n.uid).collection("orders").orderBy("created","desc").onSnapshot(r=>{t(r.docs.map(i=>({id:i.id,data:i.data()})))});t([])},[n]),q.jsx(Bc,{children:q.jsx("section",{className:rP.container,children:q.jsxs("div",{className:rP.orders_container,children:[q.jsx("h2",{children:"Your Orders"}),e.length===0&&q.jsx("div",{style:{padding:"20px"},children:"You don't have orders yet"}),q.jsx("div",{children:e==null?void 0:e.map(r=>{var i,o;return q.jsxs("div",{children:[q.jsx("hr",{}),q.jsxs("p",{children:["Order ID: ",r==null?void 0:r.id]}),(o=(i=r==null?void 0:r.data)==null?void 0:i.basket)==null?void 0:o.map(u=>q.jsx(Hc,{flex:!0,product:u},u.id))]},r.id)})})]})})})}const S2="https://fakestoreapi.com",vQ="_products_container_1sxbd_1",EQ={products_container:vQ};function wQ(){const[n,e]=W.useState([]),{categoryName:t}=mP();return W.useEffect(()=>{Rt.get(`${S2}/products/category/${t}`).then(r=>{console.log("API Response:",r.data),Array.isArray(r.data)?e(r.data):e([])}).catch(r=>{console.error("API Error:",r)})},[t]),q.jsx(Bc,{children:q.jsxs("section",{children:[q.jsx("h1",{style:{padding:"30px"},children:"Results"}),q.jsxs("p",{style:{padding:"30px"},children:["Category / ",t]}),q.jsx("hr",{}),q.jsx("div",{className:EQ.products_container,children:n.length>0?n.map(r=>q.jsx(Hc,{product:r,renderDesc:!1,renderAdd:!0},r.id)):q.jsx("p",{children:"No products found."})})]})})}function bQ(){const{productId:n}=mP(),[e,t]=W.useState({}),[r,i]=W.useState(!0);return W.useEffect(()=>{i(!0),Rt.get(`${S2}/Products/${n}`).then(o=>{t(o.data),i(!1)}).catch(o=>{console.error("API Error:",o),i(!1)})},[n]),r?q.jsx(VN,{}):q.jsx(Bc,{children:q.jsx(Hc,{product:e,flex:!0,renderDesc:!0,renderAdd:!0})})}var TQ="v3",SQ=function(e){return e===3?"v3":e},A2="https://js.stripe.com",AQ="".concat(A2,"/v3"),IQ=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,RQ=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var CQ=function(e){return IQ.test(e)||RQ.test(e)},PQ=function(){for(var e=document.querySelectorAll('script[src^="'.concat(A2,'"]')),t=0;t<e.length;t++){var r=e[t];if(CQ(r.src))return r}return null},iP=function(e){var t="",r=document.createElement("script");r.src="".concat(AQ).concat(t);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},OQ=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"5.10.0",startTime:t})},vd=null,km=null,Nm=null,xQ=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},DQ=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},kQ=function(e){return vd!==null?vd:(vd=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var i=PQ();if(!(i&&e)){if(!i)i=iP(e);else if(i&&Nm!==null&&km!==null){var o;i.removeEventListener("load",Nm),i.removeEventListener("error",km),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=iP(e)}}Nm=DQ(t,r),km=xQ(r),i.addEventListener("load",Nm),i.addEventListener("error",km)}catch(u){r(u);return}}),vd.catch(function(t){return vd=null,Promise.reject(t)}))},NQ=function(e,t,r){if(e===null)return null;var i=t[0],o=i.match(/^pk_test/),u=SQ(e.version),h=TQ;o&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("5.10.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=e.apply(void 0,t);return OQ(d,r),d},Ed,I2=!1,R2=function(){return Ed||(Ed=kQ(null).catch(function(e){return Ed=null,Promise.reject(e)}),Ed)};Promise.resolve().then(function(){return R2()}).catch(function(n){I2||console.warn(n)});var MQ=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];I2=!0;var i=Date.now();return R2().then(function(o){return NQ(o,t,i)})};const sP=({children:n,msg:e,redirect:t})=>{const r=Gg(),[{user:i},o]=W.useContext(Hs);return W.useEffect(()=>{i||r("/auth",{state:{msg:e,redirect:t}})},[i]),n},VQ=MQ("pk_test_51Qc0MbKyBRzdWUn3tn6UWcbB1WpccTHPOaPybCH6FMAHzT64HW3IH1DFp9qMWAGbEkeqpGsXllSjg0GpIxAmQDEd005dgtwKK3");function LQ(){return q.jsx(bL,{children:q.jsxs(JV,{children:[q.jsx(Ua,{path:"/",element:q.jsx(PW,{})}),q.jsx(Ua,{path:"/auth",element:q.jsx(NW,{})}),q.jsx(Ua,{path:"/payment",element:q.jsx(sP,{msg:"Please login to continue",redirect:"/payment",children:q.jsx(b2,{stripe:VQ,children:q.jsx(aQ,{})})})}),q.jsx(Ua,{path:"/orders",element:q.jsx(sP,{msg:"Please login to continue",redirect:"/Orders",children:q.jsx(_Q,{})})}),q.jsx(Ua,{path:"/category/:categoryName",element:q.jsx(wQ,{})}),q.jsx(Ua,{path:"/Products/:productId",element:q.jsx(bQ,{})}),q.jsx(Ua,{path:"/cart",element:q.jsx(mQ,{})})]})})}function UQ(){const[n,e]=W.useContext(Hs);return W.useEffect(()=>{Ug.onAuthStateChanged(t=>{e(t?{type:Zr.SET_USER,user:t}:{type:Zr.SET_USER,user:null})})},[]),q.jsx(LQ,{})}const FQ={basket:[],user:null},BQ=(n,e)=>{switch(e.type){case Zr.ADD_TO_BASKET:if(n.basket.find(o=>o.id===e.item.id)){const o=n.basket.map(u=>u.id===e.item.id?{...u,amount:u.amount+1}:u);return{...n,basket:o}}else return{...n,basket:[...n.basket,{...e.item,amount:1}]};case Zr.REMOVE_FROM_BASKET:const r=n.basket.findIndex(o=>o.id===e.id);let i=[...n.basket];return r>=0&&(i[r].amount>1?i[r]={...i[r],amount:i[r].amount-1}:i.splice(r,1)),{...n,basket:i};case Zr.EMPTY_BASKET:return{...n,basket:[]};case Zr.SET_USER:return{...n,user:e.user};default:return n}};lV.createRoot(document.getElementById("root")).render(q.jsx(W.StrictMode,{children:q.jsx(ZL,{reducer:BQ,initialState:FQ,children:q.jsx(UQ,{})})}));
